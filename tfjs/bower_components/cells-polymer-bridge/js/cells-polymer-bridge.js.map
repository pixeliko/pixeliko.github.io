{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 7b46c7048516f1ddfcb8","webpack:///./~/rxjs/Observable.js","webpack:///./src/core/constants.js","webpack:///./src/core/manager/events.js","webpack:///./~/rxjs/Subscriber.js","webpack:///./~/rxjs/Subscription.js","webpack:///./~/rxjs/util/root.js","webpack:///./~/rxjs/observable/ArrayObservable.js","webpack:///./~/rxjs/util/errorObject.js","webpack:///./~/rxjs/util/isScheduler.js","webpack:///./src/core/component.js","webpack:///./~/rxjs/add/observable/fromEvent.js","webpack:///./~/rxjs/observable/EmptyObservable.js","webpack:///./~/rxjs/observable/ScalarObservable.js","webpack:///./~/rxjs/symbol/iterator.js","webpack:///./~/rxjs/symbol/observable.js","webpack:///./~/rxjs/symbol/rxSubscriber.js","webpack:///./~/rxjs/util/ObjectUnsubscribedError.js","webpack:///./~/rxjs/util/isFunction.js","webpack:///./~/rxjs/util/tryCatch.js","webpack:///./src/core/component-connector.js","webpack:///./src/core/manager/dom.js","webpack:///./src/core/manager/template.js","webpack:///./src/core/sanitizer.js","webpack:///./src/core/template.js","webpack:///./src/core/utils.js","webpack:///./src/polymer/resolution-checker.js","webpack:///./~/rxjs/Observer.js","webpack:///./~/rxjs/SubjectSubscription.js","webpack:///./~/rxjs/operators/mergeAll.js","webpack:///./~/rxjs/operators/observeOn.js","webpack:///./~/rxjs/util/isArray.js","webpack:///./~/rxjs/util/isArrayLike.js","webpack:///./~/rxjs/util/isObject.js","webpack:///./~/rxjs/util/isPromise.js","webpack:///./src/polymer/bridge.js","webpack:///./src/core/bridge.js","webpack:///./src/core/connector.js","webpack:///./src/core/manager/action-channels.js","webpack:///./src/core/manager/bridge-channels.js","webpack:///./src/core/manager/import.js","webpack:///./src/core/manager/page.js","webpack:///./src/core/manager/storage.js","webpack:///./src/core/monitoring.js","webpack:///./src/core/navigation-stack.js","webpack:///./src/core/route.js","webpack:///./src/core/router.js","webpack:///./src/index.js","webpack:///./src/polymer/component-connector.js","webpack:///./src/polymer/component.js","webpack:///./src/polymer/manager/template.js","webpack:///./src/polymer/template.js","webpack:///./~/cells-semaas-adapter/dist/cells-semaas-adapter.js","webpack:///./~/dot-prop/index.js","webpack:///./~/events/events.js","webpack:///./~/is-obj/index.js","webpack:///./~/rxjs/InnerSubscriber.js","webpack:///./~/rxjs/Notification.js","webpack:///./~/rxjs/OuterSubscriber.js","webpack:///./~/rxjs/ReplaySubject.js","webpack:///./~/rxjs/Scheduler.js","webpack:///./~/rxjs/Subject.js","webpack:///./~/rxjs/add/observable/merge.js","webpack:///./~/rxjs/add/operator/distinctUntilChanged.js","webpack:///./~/rxjs/add/operator/first.js","webpack:///./~/rxjs/add/operator/map.js","webpack:///./~/rxjs/add/operator/startWith.js","webpack:///./~/rxjs/observable/ArrayLikeObservable.js","webpack:///./~/rxjs/observable/FromEventObservable.js","webpack:///./~/rxjs/observable/FromObservable.js","webpack:///./~/rxjs/observable/IteratorObservable.js","webpack:///./~/rxjs/observable/PromiseObservable.js","webpack:///./~/rxjs/observable/concat.js","webpack:///./~/rxjs/observable/from.js","webpack:///./~/rxjs/observable/fromEvent.js","webpack:///./~/rxjs/observable/merge.js","webpack:///./~/rxjs/observable/of.js","webpack:///./~/rxjs/operator/distinctUntilChanged.js","webpack:///./~/rxjs/operator/first.js","webpack:///./~/rxjs/operator/map.js","webpack:///./~/rxjs/operator/startWith.js","webpack:///./~/rxjs/operators/concatAll.js","webpack:///./~/rxjs/operators/distinctUntilChanged.js","webpack:///./~/rxjs/operators/first.js","webpack:///./~/rxjs/operators/map.js","webpack:///./~/rxjs/operators/mergeMap.js","webpack:///./~/rxjs/operators/startWith.js","webpack:///./~/rxjs/scheduler/Action.js","webpack:///./~/rxjs/scheduler/AsyncAction.js","webpack:///./~/rxjs/scheduler/AsyncScheduler.js","webpack:///./~/rxjs/scheduler/QueueAction.js","webpack:///./~/rxjs/scheduler/QueueScheduler.js","webpack:///./~/rxjs/scheduler/queue.js","webpack:///./~/rxjs/util/EmptyError.js","webpack:///./~/rxjs/util/UnsubscriptionError.js","webpack:///./~/rxjs/util/identity.js","webpack:///./~/rxjs/util/noop.js","webpack:///./~/rxjs/util/pipe.js","webpack:///./~/rxjs/util/subscribeToResult.js","webpack:///./~/rxjs/util/toSubscriber.js","webpack:///(webpack)/buildin/global.js","webpack:///(webpack)/buildin/module.js"],"names":["bindingCodes","ALWAYS","DELAYED","UI","CURRENTVIEW","binding","DEFAULT","VALUES","Object","values","externalEventsCodes","PAGE_READY","PARSE_ROUTE","AFTER_PUBLISH","NAV_REQUEST","BEFORE_SET_ATTR_TO_NODE","AFTER_SET_ATTR_TO_NODE","BEFORE_CREATE_NODE","AFTER_CREATE_NODE","BEFORE_IMPORT","AFTER_IMPORT","PAGE_REQUEST","PAGE_RESPONSE","DATA_LOAD","TEMPLATE_TRANSITION_END","TRACK_EVENT","TEMPLATE_REGISTERED","ROUTER_BACKSTEP","LOG_EVENT","externalEvents","componentsPath","composerEndpoint","deployEndpoint","initialTemplate","mrId","nameSpace","monitoring","SEMAAS","policy","identifier","consumerId","pagesPath","prplCodes","NONE","DEFER","PROGRESSIVE","HERO","prpl","maxNumListeners","CustomEventEmitter","node","name","callback","fn","removeEventListener","bind","addEventListener","eventManager","setMaxListeners","CellsBridgeComponent","spec","type","zone","fixed","priority","connections","createElement","tagName","ignoreAttr","index","length","key","properties","setAttrs","indexOf","constructor","HTMLElement","Channel","buffer","call","prototype","create","hasObservers","closed","observers","next","value","generateUUID","d","Date","getTime","uuid","replace","c","r","Math","random","toString","complete","error","forEach","o","isStopped","onError","unsubscribe","splice","unsubscribeAll","clean","_events","Subscriptor","subscriptions","publications","hasSubscription","channel","filter","publish","event","add","makeCallbackWithNoReplay","intervals","ids","getTimeFromNode","setTimeForNode","time","getTimeFromChannel","getIdFromNode","setIdForNode","id","getIdFromChannel","fnReplayOff","lastInterval","nodeInterval","lastId","nodeId","apply","arguments","subscribe","previousState","pos","_firstInstanceOfObserver","subscription","observer","push","i","match","ChannelManager","channels","get","getUnsafe","remove","has","ComponentConnector","manager","subscriptors","bridgeChannelsPrefix","WeakMap","subscriptor","set","_registerOutConnections","out","_registerInConnections","in","_updateInConnections","inConnections","channelName","bindName","addSubscription","_wrapCallbackWithNode","getSubscriptor","updateSubscription","isActiveBridgeChannel","hasSubscriptions","cb","wrapCallback","hasPublisher","_subscriptions","publication","eventName","outConnections","addPublication","outConnectionDefinition","isBridgeChannel","console","warn","_hasPublisher","wrapEvent","customEventName","CustomEvent","detail","delete","log","wrappedCb","AT_TARGET","Event","eventPhase","connection","source","fromEvent","wrappedListener","_isEventAtTarget","emit","link","linkObject","page","hasOwnProperty","backStep","analytics","wrapEventHandler","evt","test","CellsManagerDom","elements","element","__zone","attrs","document","CellsManagerTemplate","cache","templates","selected","template","_createFromJSON","_storeTemplate","componentName","_createCellsTemplate","_createFromHTMLElement","bridgeChannelManager","undefined","oldPageName","tplName","deactivate","activate","updateAppContext","initPrivateChannel","templateName","querySelector","parentNode","removeChild","crossContainerId","removeTemplate","children","dasherize","getPathFromComponent","familyPath","componentDefinition","tag","_tag","firstPath","CellsBridgeComposerSanitizer","component","componentType","path","configType","toUpperCase","config","_parseConnections","json","components","LTRIM_SLASH","_parseComponentsFromJson","jsonTemplate","_buildConfig","pages","jsonPages","keys","url","currentPage","list","Array","isArray","rawComponentDefinition","_normalizeComponentDefinition","cellsConnections","componentDefinitionWithConnections","params","_parseConnectionsParams","DEFAULT_PROPERTIES","prop","paramDef","outBind","_createConnection","global","data","response","CC","DM","item","CellsBridgeTemplate","fixedChildren","zoneId","curTemplate","$","_setAttribute","_getTemplate","_nextNavigation","setAttribute","isPage","toLowerCase","endsWith","_getCellsTemplateFromShadowRootChildNodes","from","shadowRoot","childNodes","find","el","newContentComponents","newFixedChildren","concat","zoneCache","getZone","appendChild","cellsTemplateConfig","templateId","setProps","str","trim","camelize","mathc","sep","isPolymerElementUnresolved","isCustomElement","isPolymer1","__isPolymerInstance__","isPolymer2","Polymer","Element","ElementMixin","LegacyElementMixin","is","ready","notifyPath","CellsPolymerBridge","avoidPolymerEventCache","origGetEvent","Base","_getEvent","bubbles","cancelable","dependencies","TemplateManager","context","DEFAULT_INITIAL_TEMPLATE","DEFAULT_PAGES_PATH","coreInstances","globalChannel","CellsBridge","DomManager","ImportManager","PageManager","Router","Sanitizer","BridgeChannelManager","prplLevel","templatesPath","debug","preCache","preRender","storagePrefix","version","viewLimit","__mainNodeElement","remoteTemplates","appId","logs","_normalizePrplLevel","_initDependencies","mainNode","_plugExternalEvents","_initCrossComponents","persistent","generateRequestUrl","assert","onPageDefinitionNotFound","window","$core","printDebugInfo","ingest","spans","ingestSpans","createSpan","createUUID","logout","subscribeToEvent","registerInConnection","registerOutConnection","navigate","cells","initAppContextChannel","getCancelledBackNavigationChannel","ActionChannelManager","subscribeAll","_executePendingBridgeQueue","_logBridgeReady","handler","routeHandler","addRoutes","routes","_initSkipNavigations","start","on","info","navigationDetail","skipHistory","p","paramPage","param","go","handleBack","back","goBack","cellsBridgeQueue","queuedItem","command","parameters","queuedCommand","message","href","location","logBridge","skipNavigations","addSkipNavigations","prplLevelCode","prplList","normalizedCode","len","getMainNode","setExternalEvent","payload","dispatchEvent","monitor","_initEventChannels","isApplicationLogEvent","isLoggable","isBridgeLoggableEvent","buildLog","method","hasApplicationLoggingEnabled","logApplication","initEventChannels","_addInitialSubscribersToEvents","eventSubscriptions","_subscribeToEvents","crossContainerTemplateId","parseTemplateId","crossContainer","crossContainerElement","getElementById","body","register","dependence","container","cmp","_createCellsComponent","__parentTemplate","progressiveRegister","bindingType","items","collection","l","itemsToInject","sortedList","j","k","_createLocalComponent","isPreRendering","options","split","createComponentsByType","unresolvedComponents","templateParents","parentName","append","isUnresolved","map","join","loadComponent","then","selectTemplate","loadComponentByPriority","getNode","getPrivate","createFromComponent","loadPolymerWebComponent","Promise","resolve","isLocal","_isLocalTemplate","loadBundleForTemplate","_createTemplateFromSpec","_preRender","pageAlreadyLoaded","loadTemplate","doPreRender","templateResponse","_idleCallback","createTemplate","_createComponents","getColor","option","color","hexColor","route","currentRoute","_handleRouteLoading","eventData","headers","app","fill","isRoutableComponent","createPageFromPolymerWebComponent","selectPage","currentTemplate","previousTemplate","registerChildren","unregisterChildren","_updateChannels","oldName","unregister","htmlElement","oldTemplateName","onRender","_handleParams","select","shouldBindParams","onTemplateAnimationFinishes","registerCurrentTemplate","animationCompleteEvent","listenToOnce","once","animateTemplate","getIdleCallbackChannel","first","resetBridgeChannels","removeTemplates","removeCrossComponents","removeTemplateChildrens","removeInitialTemplateToForceFreshLoadingAndCCRegistration","_resetBridgeChannels","init","CellsBridgeConnector","format","reject","xhr","XMLHttpRequest","Error","e","target","status","responseText","JSON","parse","statusText","open","header","setRequestHeader","send","_get","bridge","getBridgeChannel","_configSubscriptor","_localesSubscriptor","_logoutSubscriptor","_isAllowedProperty","clear","I18nMsg","lang","componentConnector","privateChannels","Set","getBridgeChannelPrefix","getAppContextChannelName","getCancelledBackNavigationChannelName","pageName","newName","getPrivateChannelPrefix","getAppContextChannel","newPageName","createEvent","oldPage","newPage","fromPage","navigation","bridgeChannels","chnlName","chnl","prefix","getEventChannelPrefix","_after","times","func","CellsManagerImport","endPoint","componentPath","rel","onload","onerror","head","_importElement","baseUri","finishComponentLoading","iCb","priorityLists","_createPriorityLists","_chainElementLoading","sort","a","b","priorityA","priorityB","elem","arr","_createSortedArratByPriorityAndUniqueElements","currentPriority","pivote","elementPriorityLists","currentPromises","_importElementPromise","count","all","CellsManagerPage","_initCellsPageManager","htmlPagesPath","htmlPages","getPlatform","storage","connector","sanitizer","replaced","endpoint","result","hasTemplatePath","hasRemoteTemplates","oldWayOnlyCompopserEndpointDefined","_isLocalComposer","_localTemplate","_remoteTemplate","_renderComposerEndpoint","getItem","_getFromConnector","getJSON","_onResponse","catch","_onResponseFail","getHTML","_onResponseHTML","sanitizedData","setItem","html","InMemmoryStorage","dictionary","CellsStorage","internalStorage","stringify","pattern","RegExp","removeItem","store","localStorage","sessionStorage","Monitoring","application","semaas","bridgeSemaasConfiguration","getBridgeConfiguration","applicationSemaasConfiguration","getApplicationConfiguration","initilizeSEMaaSAdapter","semaasConfiguration","environment","configuration","DEFAULT_LOG","eventDetail","unflattenData","LOGGABLE_EVENTS","includes","property","valuePath","NavigationStack","navStack","skipNav","nav","to","navCount","createNavigation","routeFrom","routeTo","top","pop","newNav","lastNav","lastNavigation","isBackwardNavigation","isSkipNavigation","_reverseNavigation","Route","regexp","redirectPage","isAccessible","PARAM","TRAILING_SLASHES","parts","exec","queryParams","encodeURIComponent","matchPath","_parseParam","query","queryParam","_404_PAGE_NAME","parseInt","parseFloat","_isNumber","EMPTY","instance","_useHistory","_routes","_disposables","_currentRoute","_404Route","SerialSubscription","_currentSubscription","teardown","navigationStack","_createNavigationStack","isNavigationInProgress","__routes","routeName","addRoute","skipNavs","addSkipNavigation","hash","HASH_PREFIX","_getHashPath","startWith","pathname","PATH_PREFIX","merge","_getURLPath","fullPath","_parseQuery","is404","parsePath","parseQuery","querystr","queries","decodeURIComponent","route404","routeWithSamePattern","getRouteWithPattern","patternToMath","active","_setup404","useHistory","_observeStateChange","_observeHashChange","distinctUntilChanged","matchRoute","currentRouteName","createRoute","newRouteName","update","disposable","goReplacing","stop","newNavigation","reverseNav","reverseNavigation","sanitizedName","getPath","updatePathInBrowser","fromRoute","auxFromRoute","backRoute","getLastRoute","historyReplaceState","historyPushState","locationReplace","locationHash","history","replaceState","pushState","_clearStack","SUPPORTS_HISTORY_API","metadata","TARGET_NAMESPACE","TARGETS","windowExport","module","exports","_getProperyChangedName","propertyName","_EVENT_CHANGED","slice","CaseMap","dashToCamelCase","_parseActionInEvent","targetPath","CellsPolymerComponentConnector","setTimeout","requestIdleCallback","checkDispatchActionType","mutations","observerObject","_isPolymerElement","_dispatchActionFunction","_dispatchActionProperty","disconnect","MutationObserver","attributes","childList","characterData","observe","_whichPolymerVersion","atTarget","Settings","hasShadow","useShadow","normalizedEvent","dom","localTarget","currentTarget","rootTarget","parsePayload","props","_properties","getPropertyInfo","_getTargetProperties","defined","readOnly","computed","removeAttribute","__isCellsConnected","action","_action","attrName","polymerVersion","__data","_hasReadOnlyEffect","_hasComputedEffect","oldValue","__data__","PolymerComponent","PolymerTemplateManager","cellsTemplate","_createCellsTemplateConfig","parseTemplateName","PolymerTemplate"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,aAAa;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,eAAe;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iGAAiG;AACjG;AACA,uFAAuF,gBAAgB;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,kBAAkB;AAClB,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC;AACA;AACA,eAAe,SAAS;AACxB;AACA,eAAe,SAAS;AACxB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,mBAAmB;AAClC,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,kBAAkB,EAAE,kBAAkB,oBAAoB,EAAE,eAAe,uBAAuB,EAAE;AAC9I,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,sC;;;;;;;;;;;;AChTA;;AAEO,IAAMA,sCAAe;AAC1BC,UAAQ,QADkB;AAE1BC,WAAS,SAFiB;AAG1BC,MAAI,IAHsB;AAI1BC,eAAa;AAJa,CAArB;;AAOA,IAAMC,4BAAU;AACrBC,WAASN,aAAaC,MADD;AAErBM,UAAQC,OAAOC,MAAP,CAAcT,YAAd;AAFa,CAAhB;;AAKP;;AAEO,IAAMU,oDAAsB;AACjCC,cAAY,YADqB;AAEjCC,eAAa,aAFoB;AAGjCC,iBAAe,eAHkB;AAIjCC,eAAa,aAJoB;AAKjCC,2BAAyB,yBALQ;AAMjCC,0BAAwB,wBANS;AAOjCC,sBAAoB,oBAPa;AAQjCC,qBAAmB,mBARc;AASjCC,iBAAe,eATkB;AAUjCC,gBAAc,cAVmB;AAWjCC,gBAAc,cAXmB;AAYjCC,iBAAe,eAZkB;AAajCC,aAAW,WAbsB;AAcjCC,2BAAyB,yBAdQ;AAejCC,eAAa,aAfoB;AAgBjCC,uBAAqB,qBAhBY;AAiBjCC,mBAAiB,iBAjBgB;AAkBjCC,aAAW;AAlBsB,CAA5B;;AAqBA,IAAMC,0CAAiBrB,OAAOC,MAAP,CAAcC,mBAAd,CAAvB;;AAEP;;AAEO,IAAMoB,0CAAiB,qBAAvB;;AAEP;;AAEO,IAAMC,8CAAmB,kBAAzB;;AAEP;;AAEO,IAAMC,0CAAiB,EAAvB;;AAEP;;AAEO,IAAMC,4CAAkB,OAAxB;;AAEP;;AAEA;AACA,IAAMC,OAAO,MAAb;AACA;AACA,IAAMC,YAAY,aAAlB;;AAEO,IAAMC,kCAAa;AACxBC,UAAQ;AACNC,YAAQ,YADF;AAENJ,cAFM;AAGNC,wBAHM;AAINI,gBAAY,QAJN;AAKN;AACAC,gBAAY;AANN;AADgB,CAAnB;;AAWP;;AAEO,IAAMC,gCAAY,UAAlB;;AAEP;;AAEO,IAAMC,gCAAY;AACvBC,QAAM,MADiB;AAEvBC,SAAO,OAFgB;AAGvBC,eAAa,aAHU;AAIvBC,QAAM;AAJiB,CAAlB;;AAOA,IAAMC,sBAAO;AAClBzC,WAASoC,UAAUE,KADD;AAElBrC,UAAQC,OAAOC,MAAP,CAAciC,SAAd;AAFU,CAAb;;AAKP;;kBAEe;AACb1C,4BADa;AAEbK,kBAFa;AAGbyB,gCAHa;AAIbC,oCAJa;AAKbC,gCALa;AAMbH,gCANa;AAObnB,0CAPa;AAQbuB,kCARa;AASbG,wBATa;AAUbK,sBAVa;AAWbC,sBAXa;AAYbK;AAZa,C;;;;;;;;;;;;;;;AC7Ff;;;;;;;;;;;;AAEA,IAAMC,kBAAkB,EAAxB;;IAEMC,kB;;;;;;;;;;;iCACSC,I,EAAMC,I,EAAMC,Q,EAAU;AACjC,UAAIC,KAAK,YAAY;AACnBD;AACAF,aAAKI,mBAAL,CAAyBH,IAAzB,EAA+BE,EAA/B;AACD,OAHQ,CAGPE,IAHO,CAGF,IAHE,CAAT;AAIAL,WAAKM,gBAAL,CAAsBL,IAAtB,EAA4BE,EAA5B;AACD;;;;;;AAGH,IAAMI,eAAe,IAAIR,kBAAJ,EAArB;;AAEAQ,aAAaC,eAAb,CAA6BV,eAA7B;;kBAEeS,Y;;;;;;;AClBf;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,eAAe;AAClC,IAAI,mBAAmB,mBAAmB,eAAe;AACzD,+BAA+B,iBAAiB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kCAAkC;AACjD;AACA,eAAe,wBAAwB;AACvC;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE,aAAa;AAClF;AACA;AACA;AACA,eAAe,sBAAsB;AACrC,eAAe,wBAAwB;AACvC;AACA,eAAe,iBAAiB;AAChC;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,eAAe;AAC3B;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,eAAe;AAC3B,yCAAyC,YAAY;AACrD;AACA,eAAe,IAAI;AACnB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,eAAe;AAC3B;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,6CAA6C;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,sC;;;;;;;ACxQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA,+CAA+C,mGAAmG,EAAE;AACpJ;AACA,wC;;;;;;;8CChMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,gC;;;;;;;;AClBA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,aAAa;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,aAAa;AACb,aAAa;AACb,aAAa;AACb;AACA,eAAe,KAAK;AACpB,eAAe,UAAU,gBAAgB,iBAAiB;AAC1D;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,2BAA2B,iCAAiC;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,2C;;;;;;;ACzHA;AACA;AACA,uBAAuB,MAAM;AAC7B,uC;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA,uC;;;;;;;;;;;;;;;ACLA;;;;;;;;;;;;IAEqBE,oB;;;AAenB,gCAAYC,IAAZ,EAAkB;AAAA;;AAEhB;AAFgB;;AAAA,UATlBC,IASkB,GATX,EASW;AAAA,UAPlBD,IAOkB,GAPX,IAOW;AAAA,UANlBE,IAMkB,GANX,IAMW;AAAA,UALlBZ,IAKkB,GALX,IAKW;AAAA,UAJlBa,KAIkB,GAJV,IAIU;AAAA,UAHlBC,QAGkB,GAHP,IAGO;AAAA,UAFlBC,WAEkB,GAFJ,IAEI;AAGhB,UAAKL,IAAL,GAAYA,IAAZ;AACA,UAAKC,IAAL,GAAYD,KAAKC,IAAjB;AACA,UAAKC,IAAL,GAAYF,KAAKE,IAAjB;AACA,UAAKC,KAAL,GAAaH,KAAKG,KAAlB;AACA,UAAKC,QAAL,GAAgBJ,KAAKI,QAArB;AACA,UAAKd,IAAL,GAAY,MAAKU,IAAL,CAAUV,IAAV,GAAiB,MAAKU,IAAL,CAAUV,IAA3B,GAAkC,MAAKgB,aAAL,CAAmB,MAAKN,IAAL,CAAUO,OAA7B,CAA9C,CARgB,CAQqE;AACrF,UAAKF,WAAL,GAAmBL,KAAKK,WAAxB;AATgB;AAUjB;AAxBD;;;;;;;;;+BA0BW;AACT,UAAIL,OAAO,KAAKA,IAAhB;AACA,UAAIA,KAAKK,WAAL,IAAoBL,KAAKK,WAAL,CAAiBG,UAAzC,EAAqD;AACnD,aAAK,IAAIC,QAAQ,CAAjB,EAAoBA,QAAQT,KAAKK,WAAL,CAAiBG,UAAjB,CAA4BE,MAAxD,EAAgED,OAAhE,EAAyE;AACvE,cAAME,MAAMX,KAAKK,WAAL,CAAiBG,UAAjB,CAA4BC,KAA5B,CAAZ;AACA,iBAAOT,KAAKY,UAAL,CAAgBD,GAAhB,CAAP;AACD;AACF;;AAED,WAAKE,QAAL,CAAc,KAAKvB,IAAnB,EAAyBU,KAAKY,UAA9B;AACD;;;mCAEc;AACb,aAAO,KAAKtB,IAAL,CAAUiB,OAAV,CAAkBO,OAAlB,CAA0B,GAA1B,IAAiC,CAAC,CAAlC,IAAuC,KAAKxB,IAAL,CAAUyB,WAAV,KAA0BC,WAAxE;AACD;;;;;;kBAzCkBjB,oB;;;;;;;ACFrB;AACA;AACA;AACA;AACA,qC;;;;;;;ACJA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,eAAe;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,aAAa;AACb,aAAa;AACb,aAAa;AACb;AACA,eAAe,UAAU,gBAAgB,iBAAiB;AAC1D;AACA,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,yBAAyB;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,2C;;;;;;;AChFA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,4C;;;;;;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,iBAAiB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oC;;;;;;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sC;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wC;;;;;;;ACTA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,mD;;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA,sC;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oC;;;;;;;;;;;;;;;;;AClBA;;;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;IAEQjD,mB,uBAAAA,mB;;AAGR;;;;;;;;;;AASA,IAAImE,UAAU,SAAVA,OAAU,CAASC,MAAT,EAAiB;AAC7B,+BAAcC,IAAd,CAAmB,IAAnB,EAAyBD,MAAzB;AACD,CAFD;;AAIAD,QAAQG,SAAR,GAAoBxE,OAAOyE,MAAP,CAAc,6BAAcD,SAA5B,CAApB;;AAEAH,QAAQG,SAAR,CAAkBE,YAAlB,GAAiC,SAASA,YAAT,GAAwB;AACvD,MAAI,KAAKC,MAAT,EAAiB;AACf,UAAM,sDAAN;AACD;;AAED,SAAO,KAAKC,SAAL,CAAed,MAAf,GAAwB,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1C;AACD;;kBAEc;AACbJ;AADa,C;;;;;;;ACbf;AACA;AACA;AACA,4BAA4B,EAAE;AAC9B,2BAA2B,WAAW,EAAE;AACxC,2BAA2B;AAC3B;AACA,oC;;;;;;;ACPA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,+C;;;;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT;AACA,WAAW,OAAO;AAClB;AACA,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA,gCAAgC,uCAAuC;AACvE;AACA;AACA;AACA,oC;;;;;;;ACpDA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,YAAY;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,IAAI;AACJ;AACA,SAAS;AACT;AACA,WAAW,WAAW;AACtB,WAAW,OAAO;AAClB,YAAY,cAAc;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,WAAW;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AAC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CA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,OAAO;AACP,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;;AAEA;AACA;AACA,0CAA0C,WAAW;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA,WAAW;AACX;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sCAAsC,cAAc;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mCAAmC,kBAAkB;AACrD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mBAAmB;;AAEnB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0BAA0B,iBAAiB;AAC3C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;;AAEA;AACA,cAAc;AACd;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,gDAAgD,QAAQ;AACxD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,gDAAgD,QAAQ;AACxD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA,OAAO;;AAEP;AACA,gDAAgD,QAAQ;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,gDAAgD,QAAQ;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;AACP,mBAAmB,8BAA8B;AACjD;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA;AACA,gBAAgB;AAChB,mDAAmD;AACnD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,0BAA0B;AAC1B;AACA,KAAK;AACL;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B;AAC9B;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA,mBAAmB;AACnB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,6BAA6B;;AAE9F;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;;AAET;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE,yCAAyC;;AAE3G;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;;AAET;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,qEAAqE,aAAa;AAClF;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP,wBAAwB;AACxB;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;;AAET;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;AAEA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA,mBAAmB;AACnB,6BAA6B;;AAE7B;;AAEA;AACA;AACA,mBAAmB;;AAEnB;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;;AAET;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;;AAET;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;;AAET;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;;;AAGA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;;AAEH;;AAEA,CAAC;AACD;;;;;;;;;ACzqDA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB,oBAAoB;AACpC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,iBAAiB,oBAAoB;AACrC;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAyB,UAAU;AACnC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,oBAAoB;AACrC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;;AAEA,iBAAiB,oBAAoB;AACrC;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;;AAEA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;;;;;;;AC1HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;AC7SA;AACA;AACA;AACA;AACA;;;;;;;;ACJA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,2C;;;;;;;ACnCA;AACA;AACA;AACA,mDAAmD,iBAAiB;AACpE;AACA,SAAS,kBAAkB,GAAG,oBAAoB,GAAG,gBAAgB;AACrE;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,eAAe;AAClC;AACA,eAAe,yBAAyB;AACxC,eAAe,yBAAyB;AACxC,eAAe,iBAAiB;AAChC,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kCAAkC;AACjD;AACA,eAAe,yBAAyB;AACxC,eAAe,iBAAiB;AAChC,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,IAAI;AACnB,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,wC;;;;;;;AC9HA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,2C;;;;;;;AC7BA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,uCAAuC;AAC3E,oCAAoC,uCAAuC;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,+BAA+B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,yC;;;;;;;ACrGA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,aAAa;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,qBAAqB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mCAAmC;AAClD;AACA,eAAe,OAAO;AACtB;AACA,eAAe,EAAE;AACjB;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA,uDAAuD,oBAAoB;AAC3E;AACA,CAAC;AACD;AACA,qC;;;;;;;AChDA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,mC;;;;;;;ACvKA;AACA;AACA;AACA;AACA,iC;;;;;;;ACJA;AACA;AACA;AACA;AACA,gD;;;;;;;ACJA;AACA;AACA;AACA;AACA,iC;;;;;;;ACJA;AACA;AACA;AACA;AACA,+B;;;;;;;ACJA;AACA;AACA;AACA;AACA,qC;;;;;;;ACJA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,2BAA2B,kCAAkC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,+C;;;;;;;ACrEA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,uBAAuB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,mBAAmB,KAAK;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,aAAa;AACb,aAAa;AACb;AACA,eAAe,gBAAgB;AAC/B;AACA,eAAe,OAAO;AACtB;AACA,eAAe,qBAAqB;AACpC,eAAe,2BAA2B;AAC1C;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,SAAS;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,yDAAyD;AAChG;AACA;AACA;AACA;AACA,uCAAuC,yCAAyC;AAChF;AACA;AACA;AACA;AACA,uCAAuC,oDAAoD;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,uBAAuB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,iBAAiB,2BAA2B;AACrD;AACA;AACA;AACA,CAAC;AACD;AACA,+C;;;;;;;ACvNA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,aAAa;AACb,aAAa;AACb,aAAa;AACb;AACA,eAAe,mBAAmB;AAClC;AACA;AACA,eAAe,UAAU;AACzB;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,0C;;;;;;;ACzHA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,6BAA6B,SAAS;AACtC,6BAA6B,kBAAkB;AAC/C;AACA;AACA;AACA;AACA,iEAAiE,eAAe;AAChF;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,6BAA6B,SAAS;AACtC,6BAA6B,qBAAqB;AAClD;AACA;AACA;AACA;AACA,gEAAgE,aAAa;AAC7E;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8C;;;;;;;AClKA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,aAAa;AACb;AACA,eAAe,eAAe;AAC9B,eAAe,UAAU;AACzB;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,wDAAwD,WAAW,EAAE;AACrE,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,gEAAgE,4CAA4C;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4EAA4E,uCAAuC;AACnH;AACA,iBAAiB;AACjB;AACA,6EAA6E,mCAAmC;AAChH;AACA,iBAAiB;AACjB;AACA;AACA,wDAAwD,WAAW,EAAE;AACrE,iBAAiB;AACjB;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6C;;;;;;;ACxHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,YAAY;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,aAAa;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT,SAAS;AACT;AACA,WAAW,gBAAgB;AAC3B,WAAW,gBAAgB;AAC3B;AACA,WAAW,UAAU;AACrB;AACA,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kC;;;;;;;AC9GA;AACA;AACA;AACA,gC;;;;;;;ACHA;AACA;AACA;AACA,qC;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT;AACA,WAAW,mBAAmB;AAC9B,WAAW,OAAO;AAClB;AACA,WAAW,UAAU;AACrB;AACA,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;ACzFA;AACA;AACA;AACA,8B;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,qBAAqB;AAC7B,QAAQ,qBAAqB;AAC7B,QAAQ,qBAAqB;AAC7B,QAAQ,qBAAqB;AAC7B;AACA;AACA;AACA;AACA,OAAO;AACP,OAAO;AACP,OAAO;AACP;AACA,SAAS;AACT,SAAS;AACT;AACA,WAAW,SAAS;AACpB,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gD;;;;;;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT,SAAS;AACT;AACA,YAAY,WAAW;AACvB;AACA;AACA,WAAW,kEAAkE;AAC7E;AACA,WAAW,qCAAqC;AAChD;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb;AACA,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT;AACA,WAAW,qCAAqC;AAChD;AACA;AACA;AACA,WAAW,IAAI;AACf;AACA,YAAY,cAAc;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+B;;;;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,UAAU,kBAAkB,iBAAiB;AACxD;AACA,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT;AACA,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;ACtDA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,qBAAqB;AAC7B,QAAQ,qBAAqB;AAC7B,QAAQ,qBAAqB;AAC7B,QAAQ,qBAAqB;AAC7B;AACA;AACA;AACA;AACA,OAAO;AACP,OAAO;AACP,OAAO;AACP;AACA,SAAS;AACT,SAAS;AACT;AACA,WAAW,SAAS;AACpB,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA,8BAA8B,4EAA4E;AAC1G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,gD;;;;;;;AC3GA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT,SAAS;AACT;AACA,YAAY,WAAW;AACvB;AACA;AACA,WAAW,kEAAkE;AAC7E;AACA,WAAW,qCAAqC;AAChD;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb;AACA,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA;AACA,8BAA8B,wFAAwF;AACtH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,iC;;;;;;;ACvJA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT;AACA,WAAW,qCAAqC;AAChD;AACA;AACA;AACA,WAAW,IAAI;AACf;AACA,YAAY,cAAc;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,+B;;;;;;;ACxFA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,eAAe;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT;AACA,WAAW,oDAAoD;AAC/D;AACA;AACA,WAAW,oFAAoF;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,uCAAuC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,uCAAuC;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,oCAAoC,uCAAuC;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,oC;;;;;;;AC5KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,UAAU,kBAAkB,iBAAiB;AACxD;AACA,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;AC/CA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA,uCAAuC,gBAAgB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,OAAO;AACtB;AACA,gBAAgB;AAChB;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA,CAAC;AACD;AACA,kC;;;;;;;AC3CA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,uC;;;;;;;AC7IA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,kCAAkC;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,0C;;;;;;;AClDA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,uC;;;;;;;AChDA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,0C;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,YAAY;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D;AAC9D;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;ACjEA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,sC;;;;;;;AC3BA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0GAA0G,0CAA0C,EAAE;AACtJ;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,+C;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA,oC;;;;;;;ACLA;AACA;AACA,iBAAiB;AACjB;AACA,gC;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,iBAAiB,EAAE;AAClE;AACA;AACA;AACA,gC;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,gCAAgC;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,kBAAkB,+BAA+B,EAAE;AAC5D;AACA;AACA,gDAAgD,WAAW,EAAE;AAC7D,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6C;;;;;;;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wC;;;;;;ACnBA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA","file":"cells-polymer-bridge.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cellsPolymer\"] = factory();\n\telse\n\t\troot[\"cellsPolymer\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 46);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7b46c7048516f1ddfcb8","\"use strict\";\nvar root_1 = require('./util/root');\nvar toSubscriber_1 = require('./util/toSubscriber');\nvar observable_1 = require('./symbol/observable');\nvar pipe_1 = require('./util/pipe');\n/**\n * A representation of any set of values over any amount of time. This is the most basic building block\n * of RxJS.\n *\n * @class Observable<T>\n */\nvar Observable = (function () {\n    /**\n     * @constructor\n     * @param {Function} subscribe the function that is called when the Observable is\n     * initially subscribed to. This function is given a Subscriber, to which new values\n     * can be `next`ed, or an `error` method can be called to raise an error, or\n     * `complete` can be called to notify of a successful completion.\n     */\n    function Observable(subscribe) {\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    /**\n     * Creates a new Observable, with this Observable as the source, and the passed\n     * operator defined as the new observable's operator.\n     * @method lift\n     * @param {Operator} operator the operator defining the operation to take on the observable\n     * @return {Observable} a new observable with the Operator applied\n     */\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    /**\n     * Invokes an execution of an Observable and registers Observer handlers for notifications it will emit.\n     *\n     * <span class=\"informal\">Use it when you have all these Observables, but still nothing is happening.</span>\n     *\n     * `subscribe` is not a regular operator, but a method that calls Observable's internal `subscribe` function. It\n     * might be for example a function that you passed to a {@link create} static factory, but most of the time it is\n     * a library implementation, which defines what and when will be emitted by an Observable. This means that calling\n     * `subscribe` is actually the moment when Observable starts its work, not when it is created, as it is often\n     * thought.\n     *\n     * Apart from starting the execution of an Observable, this method allows you to listen for values\n     * that an Observable emits, as well as for when it completes or errors. You can achieve this in two\n     * following ways.\n     *\n     * The first way is creating an object that implements {@link Observer} interface. It should have methods\n     * defined by that interface, but note that it should be just a regular JavaScript object, which you can create\n     * yourself in any way you want (ES6 class, classic function constructor, object literal etc.). In particular do\n     * not attempt to use any RxJS implementation details to create Observers - you don't need them. Remember also\n     * that your object does not have to implement all methods. If you find yourself creating a method that doesn't\n     * do anything, you can simply omit it. Note however, that if `error` method is not provided, all errors will\n     * be left uncaught.\n     *\n     * The second way is to give up on Observer object altogether and simply provide callback functions in place of its methods.\n     * This means you can provide three functions as arguments to `subscribe`, where first function is equivalent\n     * of a `next` method, second of an `error` method and third of a `complete` method. Just as in case of Observer,\n     * if you do not need to listen for something, you can omit a function, preferably by passing `undefined` or `null`,\n     * since `subscribe` recognizes these functions by where they were placed in function call. When it comes\n     * to `error` function, just as before, if not provided, errors emitted by an Observable will be thrown.\n     *\n     * Whatever style of calling `subscribe` you use, in both cases it returns a Subscription object.\n     * This object allows you to call `unsubscribe` on it, which in turn will stop work that an Observable does and will clean\n     * up all resources that an Observable used. Note that cancelling a subscription will not call `complete` callback\n     * provided to `subscribe` function, which is reserved for a regular completion signal that comes from an Observable.\n     *\n     * Remember that callbacks provided to `subscribe` are not guaranteed to be called asynchronously.\n     * It is an Observable itself that decides when these functions will be called. For example {@link of}\n     * by default emits all its values synchronously. Always check documentation for how given Observable\n     * will behave when subscribed and if its default behavior can be modified with a {@link Scheduler}.\n     *\n     * @example <caption>Subscribe with an Observer</caption>\n     * const sumObserver = {\n     *   sum: 0,\n     *   next(value) {\n     *     console.log('Adding: ' + value);\n     *     this.sum = this.sum + value;\n     *   },\n     *   error() { // We actually could just remove this method,\n     *   },        // since we do not really care about errors right now.\n     *   complete() {\n     *     console.log('Sum equals: ' + this.sum);\n     *   }\n     * };\n     *\n     * Rx.Observable.of(1, 2, 3) // Synchronously emits 1, 2, 3 and then completes.\n     * .subscribe(sumObserver);\n     *\n     * // Logs:\n     * // \"Adding: 1\"\n     * // \"Adding: 2\"\n     * // \"Adding: 3\"\n     * // \"Sum equals: 6\"\n     *\n     *\n     * @example <caption>Subscribe with functions</caption>\n     * let sum = 0;\n     *\n     * Rx.Observable.of(1, 2, 3)\n     * .subscribe(\n     *   function(value) {\n     *     console.log('Adding: ' + value);\n     *     sum = sum + value;\n     *   },\n     *   undefined,\n     *   function() {\n     *     console.log('Sum equals: ' + sum);\n     *   }\n     * );\n     *\n     * // Logs:\n     * // \"Adding: 1\"\n     * // \"Adding: 2\"\n     * // \"Adding: 3\"\n     * // \"Sum equals: 6\"\n     *\n     *\n     * @example <caption>Cancel a subscription</caption>\n     * const subscription = Rx.Observable.interval(1000).subscribe(\n     *   num => console.log(num),\n     *   undefined,\n     *   () => console.log('completed!') // Will not be called, even\n     * );                                // when cancelling subscription\n     *\n     *\n     * setTimeout(() => {\n     *   subscription.unsubscribe();\n     *   console.log('unsubscribed!');\n     * }, 2500);\n     *\n     * // Logs:\n     * // 0 after 1s\n     * // 1 after 2s\n     * // \"unsubscribed!\" after 2.5s\n     *\n     *\n     * @param {Observer|Function} observerOrNext (optional) Either an observer with methods to be called,\n     *  or the first of three possible handlers, which is the handler for each value emitted from the subscribed\n     *  Observable.\n     * @param {Function} error (optional) A handler for a terminal event resulting from an error. If no error handler is provided,\n     *  the error will be thrown as unhandled.\n     * @param {Function} complete (optional) A handler for a terminal event resulting from successful completion.\n     * @return {ISubscription} a subscription reference to the registered handlers\n     * @method subscribe\n     */\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var sink = toSubscriber_1.toSubscriber(observerOrNext, error, complete);\n        if (operator) {\n            operator.call(sink, this.source);\n        }\n        else {\n            sink.add(this.source || !sink.syncErrorThrowable ? this._subscribe(sink) : this._trySubscribe(sink));\n        }\n        if (sink.syncErrorThrowable) {\n            sink.syncErrorThrowable = false;\n            if (sink.syncErrorThrown) {\n                throw sink.syncErrorValue;\n            }\n        }\n        return sink;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            sink.syncErrorThrown = true;\n            sink.syncErrorValue = err;\n            sink.error(err);\n        }\n    };\n    /**\n     * @method forEach\n     * @param {Function} next a handler for each value emitted by the observable\n     * @param {PromiseConstructor} [PromiseCtor] a constructor function used to instantiate the Promise\n     * @return {Promise} a promise that either resolves on observable completion or\n     *  rejects with the handled error\n     */\n    Observable.prototype.forEach = function (next, PromiseCtor) {\n        var _this = this;\n        if (!PromiseCtor) {\n            if (root_1.root.Rx && root_1.root.Rx.config && root_1.root.Rx.config.Promise) {\n                PromiseCtor = root_1.root.Rx.config.Promise;\n            }\n            else if (root_1.root.Promise) {\n                PromiseCtor = root_1.root.Promise;\n            }\n        }\n        if (!PromiseCtor) {\n            throw new Error('no Promise impl found');\n        }\n        return new PromiseCtor(function (resolve, reject) {\n            // Must be declared in a separate statement to avoid a RefernceError when\n            // accessing subscription below in the closure due to Temporal Dead Zone.\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                if (subscription) {\n                    // if there is a subscription, then we can surmise\n                    // the next handling is asynchronous. Any errors thrown\n                    // need to be rejected explicitly and unsubscribe must be\n                    // called manually\n                    try {\n                        next(value);\n                    }\n                    catch (err) {\n                        reject(err);\n                        subscription.unsubscribe();\n                    }\n                }\n                else {\n                    // if there is NO subscription, then we're getting a nexted\n                    // value synchronously during subscription. We can just call it.\n                    // If it errors, Observable's `subscribe` will ensure the\n                    // unsubscription logic is called, then synchronously rethrow the error.\n                    // After that, Promise will trap the error and send it\n                    // down the rejection path.\n                    next(value);\n                }\n            }, reject, resolve);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        return this.source.subscribe(subscriber);\n    };\n    /**\n     * An interop point defined by the es7-observable spec https://github.com/zenparsing/es-observable\n     * @method Symbol.observable\n     * @return {Observable} this instance of the observable\n     */\n    Observable.prototype[observable_1.observable] = function () {\n        return this;\n    };\n    /* tslint:enable:max-line-length */\n    /**\n     * Used to stitch together functional operators into a chain.\n     * @method pipe\n     * @return {Observable} the Observable result of all of the operators having\n     * been called in the order they were passed in.\n     *\n     * @example\n     *\n     * import { map, filter, scan } from 'rxjs/operators';\n     *\n     * Rx.Observable.interval(1000)\n     *   .pipe(\n     *     filter(x => x % 2 === 0),\n     *     map(x => x + x),\n     *     scan((acc, x) => acc + x)\n     *   )\n     *   .subscribe(x => console.log(x))\n     */\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i - 0] = arguments[_i];\n        }\n        if (operations.length === 0) {\n            return this;\n        }\n        return pipe_1.pipeFromArray(operations)(this);\n    };\n    /* tslint:enable:max-line-length */\n    Observable.prototype.toPromise = function (PromiseCtor) {\n        var _this = this;\n        if (!PromiseCtor) {\n            if (root_1.root.Rx && root_1.root.Rx.config && root_1.root.Rx.config.Promise) {\n                PromiseCtor = root_1.root.Rx.config.Promise;\n            }\n            else if (root_1.root.Promise) {\n                PromiseCtor = root_1.root.Promise;\n            }\n        }\n        if (!PromiseCtor) {\n            throw new Error('no Promise impl found');\n        }\n        return new PromiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    // HACK: Since TypeScript inherits static properties too, we have to\n    // fight against TypeScript here so Subject can have a different static create signature\n    /**\n     * Creates a new cold Observable by calling the Observable constructor\n     * @static true\n     * @owner Observable\n     * @method create\n     * @param {Function} subscribe? the subscriber function to be passed to the Observable constructor\n     * @return {Observable} a new cold observable\n     */\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexports.Observable = Observable;\n//# sourceMappingURL=Observable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/Observable.js\n// module id = 0\n// module chunks = 0","// binding\n\nexport const bindingCodes = {\n  ALWAYS: \"always\",\n  DELAYED: \"delayed\",\n  UI: \"ui\",\n  CURRENTVIEW: \"currentview\"\n};\n\nexport const binding = {\n  DEFAULT: bindingCodes.ALWAYS,\n  VALUES: Object.values(bindingCodes)\n};\n\n// external events\n\nexport const externalEventsCodes = {\n  PAGE_READY: \"page-ready\",\n  PARSE_ROUTE: \"parse-route\",\n  AFTER_PUBLISH: \"after-publish\",\n  NAV_REQUEST: \"nav-request\",\n  BEFORE_SET_ATTR_TO_NODE: \"before-set-attr-to-node\",\n  AFTER_SET_ATTR_TO_NODE: \"after-set-attr-to-node\",\n  BEFORE_CREATE_NODE: \"before-create-node\",\n  AFTER_CREATE_NODE: \"after-create-node\",\n  BEFORE_IMPORT: \"before-import\",\n  AFTER_IMPORT: \"after-import\",\n  PAGE_REQUEST: \"page-request\",\n  PAGE_RESPONSE: \"page-response\",\n  DATA_LOAD: \"data-load\",\n  TEMPLATE_TRANSITION_END: \"template-transition-end\",\n  TRACK_EVENT: \"track-event\",\n  TEMPLATE_REGISTERED: \"template-registered\",\n  ROUTER_BACKSTEP: \"router-backstep\",\n  LOG_EVENT: \"log-event\"\n};\n\nexport const externalEvents = Object.values(externalEventsCodes);\n\n// componentsPath\n\nexport const componentsPath = \"./bower_components/\";\n\n// composerEndpoint\n\nexport const composerEndpoint = \"./composerMocks/\";\n\n// deployEndpoint\n\nexport const deployEndpoint = \"\";\n\n// initialTemplate\n\nexport const initialTemplate = \"login\";\n\n// monitoring config\n\n// const mrId = 'web';\nconst mrId = 'core';\n// const nameSpace = 'com.bbva.es.channels';\nconst nameSpace = 'ether.cells';\n\nexport const monitoring = {\n  SEMAAS: {\n    policy: 'ei_bbva_es',\n    mrId,\n    nameSpace,\n    identifier: 'bridge',\n    // consumerId: `${mrId}@${nameSpace}`,\n    consumerId: 'core@ether.cells',\n  },\n};\n\n// pagesPath\n\nexport const pagesPath = \"./pages/\";\n\n// prpl\n\nexport const prplCodes = {\n  NONE: \"none\",\n  DEFER: \"defer\",\n  PROGRESSIVE: \"progressive\",\n  HERO: \"hero\"\n};\n\nexport const prpl = {\n  DEFAULT: prplCodes.DEFER,\n  VALUES: Object.values(prplCodes)\n};\n\n// default\n\nexport default {\n  bindingCodes,\n  binding,\n  componentsPath,\n  composerEndpoint,\n  deployEndpoint,\n  externalEvents,\n  externalEventsCodes,\n  initialTemplate,\n  monitoring,\n  pagesPath,\n  prplCodes,\n  prpl\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/constants.js","import EventEmitter from 'events';\n\nconst maxNumListeners = 20;\n\nclass CustomEventEmitter extends EventEmitter {\n  listenToOnce(node, name, callback) {\n    var fn = function () {\n      callback();\n      node.removeEventListener(name, fn);\n    }.bind(this);\n    node.addEventListener(name, fn);\n  }\n}\n\nconst eventManager = new CustomEventEmitter();\n\neventManager.setMaxListeners(maxNumListeners);\n\nexport default eventManager;\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/manager/events.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar isFunction_1 = require('./util/isFunction');\nvar Subscription_1 = require('./Subscription');\nvar Observer_1 = require('./Observer');\nvar rxSubscriber_1 = require('./symbol/rxSubscriber');\n/**\n * Implements the {@link Observer} interface and extends the\n * {@link Subscription} class. While the {@link Observer} is the public API for\n * consuming the values of an {@link Observable}, all Observers get converted to\n * a Subscriber, in order to provide Subscription-like capabilities such as\n * `unsubscribe`. Subscriber is a common type in RxJS, and crucial for\n * implementing operators, but it is rarely used as a public API.\n *\n * @class Subscriber<T>\n */\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    /**\n     * @param {Observer|function(value: T): void} [destinationOrNext] A partially\n     * defined Observer or a `next` callback function.\n     * @param {function(e: ?any): void} [error] The `error` callback of an\n     * Observer.\n     * @param {function(): void} [complete] The `complete` callback of an\n     * Observer.\n     */\n    function Subscriber(destinationOrNext, error, complete) {\n        _super.call(this);\n        this.syncErrorValue = null;\n        this.syncErrorThrown = false;\n        this.syncErrorThrowable = false;\n        this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                this.destination = Observer_1.empty;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    this.destination = Observer_1.empty;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    if (destinationOrNext instanceof Subscriber) {\n                        this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n                        this.destination = destinationOrNext;\n                        this.destination.add(this);\n                    }\n                    else {\n                        this.syncErrorThrowable = true;\n                        this.destination = new SafeSubscriber(this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                this.syncErrorThrowable = true;\n                this.destination = new SafeSubscriber(this, destinationOrNext, error, complete);\n                break;\n        }\n    }\n    Subscriber.prototype[rxSubscriber_1.rxSubscriber] = function () { return this; };\n    /**\n     * A static factory for a Subscriber, given a (potentially partial) definition\n     * of an Observer.\n     * @param {function(x: ?T): void} [next] The `next` callback of an Observer.\n     * @param {function(e: ?any): void} [error] The `error` callback of an\n     * Observer.\n     * @param {function(): void} [complete] The `complete` callback of an\n     * Observer.\n     * @return {Subscriber<T>} A Subscriber wrapping the (partially defined)\n     * Observer represented by the given arguments.\n     */\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    /**\n     * The {@link Observer} callback to receive notifications of type `next` from\n     * the Observable, with a value. The Observable may call this method 0 or more\n     * times.\n     * @param {T} [value] The `next` value.\n     * @return {void}\n     */\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    /**\n     * The {@link Observer} callback to receive notifications of type `error` from\n     * the Observable, with an attached {@link Error}. Notifies the Observer that\n     * the Observable has experienced an error condition.\n     * @param {any} [err] The `error` exception.\n     * @return {void}\n     */\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    /**\n     * The {@link Observer} callback to receive a valueless notification of type\n     * `complete` from the Observable. Notifies the Observer that the Observable\n     * has finished sending push-based notifications.\n     * @return {void}\n     */\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _a = this, _parent = _a._parent, _parents = _a._parents;\n        this._parent = null;\n        this._parents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parent = _parent;\n        this._parents = _parents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription_1.Subscription));\nexports.Subscriber = Subscriber;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n        _super.call(this);\n        this._parentSubscriber = _parentSubscriber;\n        var next;\n        var context = this;\n        if (isFunction_1.isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== Observer_1.empty) {\n                context = Object.create(observerOrNext);\n                if (isFunction_1.isFunction(context.unsubscribe)) {\n                    this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = this.unsubscribe.bind(this);\n            }\n        }\n        this._context = context;\n        this._next = next;\n        this._error = error;\n        this._complete = complete;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (!_parentSubscriber.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._error) {\n                if (!_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parentSubscriber.syncErrorThrowable) {\n                this.unsubscribe();\n                throw err;\n            }\n            else {\n                _parentSubscriber.syncErrorValue = err;\n                _parentSubscriber.syncErrorThrown = true;\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        var _this = this;\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._complete) {\n                var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                if (!_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(wrappedComplete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            throw err;\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            parent.syncErrorValue = err;\n            parent.syncErrorThrown = true;\n            return true;\n        }\n        return false;\n    };\n    SafeSubscriber.prototype._unsubscribe = function () {\n        var _parentSubscriber = this._parentSubscriber;\n        this._context = null;\n        this._parentSubscriber = null;\n        _parentSubscriber.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber));\n//# sourceMappingURL=Subscriber.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/Subscriber.js\n// module id = 3\n// module chunks = 0","\"use strict\";\nvar isArray_1 = require('./util/isArray');\nvar isObject_1 = require('./util/isObject');\nvar isFunction_1 = require('./util/isFunction');\nvar tryCatch_1 = require('./util/tryCatch');\nvar errorObject_1 = require('./util/errorObject');\nvar UnsubscriptionError_1 = require('./util/UnsubscriptionError');\n/**\n * Represents a disposable resource, such as the execution of an Observable. A\n * Subscription has one important method, `unsubscribe`, that takes no argument\n * and just disposes the resource held by the subscription.\n *\n * Additionally, subscriptions may be grouped together through the `add()`\n * method, which will attach a child Subscription to the current Subscription.\n * When a Subscription is unsubscribed, all its children (and its grandchildren)\n * will be unsubscribed as well.\n *\n * @class Subscription\n */\nvar Subscription = (function () {\n    /**\n     * @param {function(): void} [unsubscribe] A function describing how to\n     * perform the disposal of resources when the `unsubscribe` method is called.\n     */\n    function Subscription(unsubscribe) {\n        /**\n         * A flag to indicate whether this Subscription has already been unsubscribed.\n         * @type {boolean}\n         */\n        this.closed = false;\n        this._parent = null;\n        this._parents = null;\n        this._subscriptions = null;\n        if (unsubscribe) {\n            this._unsubscribe = unsubscribe;\n        }\n    }\n    /**\n     * Disposes the resources held by the subscription. May, for instance, cancel\n     * an ongoing Observable execution or cancel any other type of work that\n     * started when the Subscription was created.\n     * @return {void}\n     */\n    Subscription.prototype.unsubscribe = function () {\n        var hasErrors = false;\n        var errors;\n        if (this.closed) {\n            return;\n        }\n        var _a = this, _parent = _a._parent, _parents = _a._parents, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this.closed = true;\n        this._parent = null;\n        this._parents = null;\n        // null out _subscriptions first so any child subscriptions that attempt\n        // to remove themselves from this subscription will noop\n        this._subscriptions = null;\n        var index = -1;\n        var len = _parents ? _parents.length : 0;\n        // if this._parent is null, then so is this._parents, and we\n        // don't have to remove ourselves from any parent subscriptions.\n        while (_parent) {\n            _parent.remove(this);\n            // if this._parents is null or index >= len,\n            // then _parent is set to null, and the loop exits\n            _parent = ++index < len && _parents[index] || null;\n        }\n        if (isFunction_1.isFunction(_unsubscribe)) {\n            var trial = tryCatch_1.tryCatch(_unsubscribe).call(this);\n            if (trial === errorObject_1.errorObject) {\n                hasErrors = true;\n                errors = errors || (errorObject_1.errorObject.e instanceof UnsubscriptionError_1.UnsubscriptionError ?\n                    flattenUnsubscriptionErrors(errorObject_1.errorObject.e.errors) : [errorObject_1.errorObject.e]);\n            }\n        }\n        if (isArray_1.isArray(_subscriptions)) {\n            index = -1;\n            len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject_1.isObject(sub)) {\n                    var trial = tryCatch_1.tryCatch(sub.unsubscribe).call(sub);\n                    if (trial === errorObject_1.errorObject) {\n                        hasErrors = true;\n                        errors = errors || [];\n                        var err = errorObject_1.errorObject.e;\n                        if (err instanceof UnsubscriptionError_1.UnsubscriptionError) {\n                            errors = errors.concat(flattenUnsubscriptionErrors(err.errors));\n                        }\n                        else {\n                            errors.push(err);\n                        }\n                    }\n                }\n            }\n        }\n        if (hasErrors) {\n            throw new UnsubscriptionError_1.UnsubscriptionError(errors);\n        }\n    };\n    /**\n     * Adds a tear down to be called during the unsubscribe() of this\n     * Subscription.\n     *\n     * If the tear down being added is a subscription that is already\n     * unsubscribed, is the same reference `add` is being called on, or is\n     * `Subscription.EMPTY`, it will not be added.\n     *\n     * If this subscription is already in an `closed` state, the passed\n     * tear down logic will be executed immediately.\n     *\n     * @param {TeardownLogic} teardown The additional logic to execute on\n     * teardown.\n     * @return {Subscription} Returns the Subscription used or created to be\n     * added to the inner subscriptions list. This Subscription can be used with\n     * `remove()` to remove the passed teardown logic from the inner subscriptions\n     * list.\n     */\n    Subscription.prototype.add = function (teardown) {\n        if (!teardown || (teardown === Subscription.EMPTY)) {\n            return Subscription.EMPTY;\n        }\n        if (teardown === this) {\n            return this;\n        }\n        var subscription = teardown;\n        switch (typeof teardown) {\n            case 'function':\n                subscription = new Subscription(teardown);\n            case 'object':\n                if (subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                    return subscription;\n                }\n                else if (this.closed) {\n                    subscription.unsubscribe();\n                    return subscription;\n                }\n                else if (typeof subscription._addParent !== 'function' /* quack quack */) {\n                    var tmp = subscription;\n                    subscription = new Subscription();\n                    subscription._subscriptions = [tmp];\n                }\n                break;\n            default:\n                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n        }\n        var subscriptions = this._subscriptions || (this._subscriptions = []);\n        subscriptions.push(subscription);\n        subscription._addParent(this);\n        return subscription;\n    };\n    /**\n     * Removes a Subscription from the internal list of subscriptions that will\n     * unsubscribe during the unsubscribe process of this Subscription.\n     * @param {Subscription} subscription The subscription to remove.\n     * @return {void}\n     */\n    Subscription.prototype.remove = function (subscription) {\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    Subscription.prototype._addParent = function (parent) {\n        var _a = this, _parent = _a._parent, _parents = _a._parents;\n        if (!_parent || _parent === parent) {\n            // If we don't have a parent, or the new parent is the same as the\n            // current parent, then set this._parent to the new parent.\n            this._parent = parent;\n        }\n        else if (!_parents) {\n            // If there's already one parent, but not multiple, allocate an Array to\n            // store the rest of the parent Subscriptions.\n            this._parents = [parent];\n        }\n        else if (_parents.indexOf(parent) === -1) {\n            // Only add the new parent to the _parents list if it's not already there.\n            _parents.push(parent);\n        }\n    };\n    Subscription.EMPTY = (function (empty) {\n        empty.closed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\nexports.Subscription = Subscription;\nfunction flattenUnsubscriptionErrors(errors) {\n    return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError_1.UnsubscriptionError) ? err.errors : err); }, []);\n}\n//# sourceMappingURL=Subscription.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/Subscription.js\n// module id = 4\n// module chunks = 0","\"use strict\";\n// CommonJS / Node have global context exposed as \"global\" variable.\n// We don't want to include the whole node.d.ts this this compilation unit so we'll just fake\n// the global \"global\" var for now.\nvar __window = typeof window !== 'undefined' && window;\nvar __self = typeof self !== 'undefined' && typeof WorkerGlobalScope !== 'undefined' &&\n    self instanceof WorkerGlobalScope && self;\nvar __global = typeof global !== 'undefined' && global;\nvar _root = __window || __global || __self;\nexports.root = _root;\n// Workaround Closure Compiler restriction: The body of a goog.module cannot use throw.\n// This is needed when used with angular/tsickle which inserts a goog.module statement.\n// Wrap in IIFE\n(function () {\n    if (!_root) {\n        throw new Error('RxJS could not find any global context (window, self, global)');\n    }\n})();\n//# sourceMappingURL=root.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/root.js\n// module id = 5\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar ScalarObservable_1 = require('./ScalarObservable');\nvar EmptyObservable_1 = require('./EmptyObservable');\nvar isScheduler_1 = require('../util/isScheduler');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar ArrayObservable = (function (_super) {\n    __extends(ArrayObservable, _super);\n    function ArrayObservable(array, scheduler) {\n        _super.call(this);\n        this.array = array;\n        this.scheduler = scheduler;\n        if (!scheduler && array.length === 1) {\n            this._isScalar = true;\n            this.value = array[0];\n        }\n    }\n    ArrayObservable.create = function (array, scheduler) {\n        return new ArrayObservable(array, scheduler);\n    };\n    /**\n     * Creates an Observable that emits some values you specify as arguments,\n     * immediately one after the other, and then emits a complete notification.\n     *\n     * <span class=\"informal\">Emits the arguments you provide, then completes.\n     * </span>\n     *\n     * <img src=\"./img/of.png\" width=\"100%\">\n     *\n     * This static operator is useful for creating a simple Observable that only\n     * emits the arguments given, and the complete notification thereafter. It can\n     * be used for composing with other Observables, such as with {@link concat}.\n     * By default, it uses a `null` IScheduler, which means the `next`\n     * notifications are sent synchronously, although with a different IScheduler\n     * it is possible to determine when those notifications will be delivered.\n     *\n     * @example <caption>Emit 10, 20, 30, then 'a', 'b', 'c', then start ticking every second.</caption>\n     * var numbers = Rx.Observable.of(10, 20, 30);\n     * var letters = Rx.Observable.of('a', 'b', 'c');\n     * var interval = Rx.Observable.interval(1000);\n     * var result = numbers.concat(letters).concat(interval);\n     * result.subscribe(x => console.log(x));\n     *\n     * @see {@link create}\n     * @see {@link empty}\n     * @see {@link never}\n     * @see {@link throw}\n     *\n     * @param {...T} values Arguments that represent `next` values to be emitted.\n     * @param {Scheduler} [scheduler] A {@link IScheduler} to use for scheduling\n     * the emissions of the `next` notifications.\n     * @return {Observable<T>} An Observable that emits each given input value.\n     * @static true\n     * @name of\n     * @owner Observable\n     */\n    ArrayObservable.of = function () {\n        var array = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            array[_i - 0] = arguments[_i];\n        }\n        var scheduler = array[array.length - 1];\n        if (isScheduler_1.isScheduler(scheduler)) {\n            array.pop();\n        }\n        else {\n            scheduler = null;\n        }\n        var len = array.length;\n        if (len > 1) {\n            return new ArrayObservable(array, scheduler);\n        }\n        else if (len === 1) {\n            return new ScalarObservable_1.ScalarObservable(array[0], scheduler);\n        }\n        else {\n            return new EmptyObservable_1.EmptyObservable(scheduler);\n        }\n    };\n    ArrayObservable.dispatch = function (state) {\n        var array = state.array, index = state.index, count = state.count, subscriber = state.subscriber;\n        if (index >= count) {\n            subscriber.complete();\n            return;\n        }\n        subscriber.next(array[index]);\n        if (subscriber.closed) {\n            return;\n        }\n        state.index = index + 1;\n        this.schedule(state);\n    };\n    ArrayObservable.prototype._subscribe = function (subscriber) {\n        var index = 0;\n        var array = this.array;\n        var count = array.length;\n        var scheduler = this.scheduler;\n        if (scheduler) {\n            return scheduler.schedule(ArrayObservable.dispatch, 0, {\n                array: array, index: index, count: count, subscriber: subscriber\n            });\n        }\n        else {\n            for (var i = 0; i < count && !subscriber.closed; i++) {\n                subscriber.next(array[i]);\n            }\n            subscriber.complete();\n        }\n    };\n    return ArrayObservable;\n}(Observable_1.Observable));\nexports.ArrayObservable = ArrayObservable;\n//# sourceMappingURL=ArrayObservable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/ArrayObservable.js\n// module id = 6\n// module chunks = 0","\"use strict\";\n// typeof any so that it we don't have to cast when comparing a result to the error object\nexports.errorObject = { e: {} };\n//# sourceMappingURL=errorObject.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/errorObject.js\n// module id = 7\n// module chunks = 0","\"use strict\";\nfunction isScheduler(value) {\n    return value && typeof value.schedule === 'function';\n}\nexports.isScheduler = isScheduler;\n//# sourceMappingURL=isScheduler.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/isScheduler.js\n// module id = 8\n// module chunks = 0","import CellsBridgeManagerDom from './manager/dom';\n\nexport default class CellsBridgeComponent extends CellsBridgeManagerDom {\n  /**\n   * Componen type. It could be TYPE_UI, TYPE_DM or TYPE_CC.\n   *\n   * @type {String}\n   */\n  type = '';\n\n  spec = null;\n  zone = null;\n  node = null;\n  fixed = null;\n  priority = null;\n  connections = null;\n\n  constructor(spec) {\n    super();\n    // @TODO: Por qué almacenar spec en una propiedad y algunas de sus propiedades en otra.\n    this.spec = spec;\n    this.type = spec.type;\n    this.zone = spec.zone;\n    this.fixed = spec.fixed;\n    this.priority = spec.priority;\n    this.node = this.spec.node ? this.spec.node : this.createElement(this.spec.tagName); // NOT WORKING CellsBridgeComponent\n    this.connections = spec.connections;\n  }\n\n  setProps() {\n    var spec = this.spec;\n    if (spec.connections && spec.connections.ignoreAttr) {\n      for (let index = 0; index < spec.connections.ignoreAttr.length; index++) {\n        const key = spec.connections.ignoreAttr[index];\n        delete spec.properties[key];\n      }\n    }\n\n    this.setAttrs(this.node, spec.properties);\n  }\n\n  isUnresolved() {\n    return this.node.tagName.indexOf('-') > -1 && this.node.constructor === HTMLElement;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/component.js","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar fromEvent_1 = require('../../observable/fromEvent');\nObservable_1.Observable.fromEvent = fromEvent_1.fromEvent;\n//# sourceMappingURL=fromEvent.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/add/observable/fromEvent.js\n// module id = 10\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar EmptyObservable = (function (_super) {\n    __extends(EmptyObservable, _super);\n    function EmptyObservable(scheduler) {\n        _super.call(this);\n        this.scheduler = scheduler;\n    }\n    /**\n     * Creates an Observable that emits no items to the Observer and immediately\n     * emits a complete notification.\n     *\n     * <span class=\"informal\">Just emits 'complete', and nothing else.\n     * </span>\n     *\n     * <img src=\"./img/empty.png\" width=\"100%\">\n     *\n     * This static operator is useful for creating a simple Observable that only\n     * emits the complete notification. It can be used for composing with other\n     * Observables, such as in a {@link mergeMap}.\n     *\n     * @example <caption>Emit the number 7, then complete.</caption>\n     * var result = Rx.Observable.empty().startWith(7);\n     * result.subscribe(x => console.log(x));\n     *\n     * @example <caption>Map and flatten only odd numbers to the sequence 'a', 'b', 'c'</caption>\n     * var interval = Rx.Observable.interval(1000);\n     * var result = interval.mergeMap(x =>\n     *   x % 2 === 1 ? Rx.Observable.of('a', 'b', 'c') : Rx.Observable.empty()\n     * );\n     * result.subscribe(x => console.log(x));\n     *\n     * // Results in the following to the console:\n     * // x is equal to the count on the interval eg(0,1,2,3,...)\n     * // x will occur every 1000ms\n     * // if x % 2 is equal to 1 print abc\n     * // if x % 2 is not equal to 1 nothing will be output\n     *\n     * @see {@link create}\n     * @see {@link never}\n     * @see {@link of}\n     * @see {@link throw}\n     *\n     * @param {Scheduler} [scheduler] A {@link IScheduler} to use for scheduling\n     * the emission of the complete notification.\n     * @return {Observable} An \"empty\" Observable: emits only the complete\n     * notification.\n     * @static true\n     * @name empty\n     * @owner Observable\n     */\n    EmptyObservable.create = function (scheduler) {\n        return new EmptyObservable(scheduler);\n    };\n    EmptyObservable.dispatch = function (arg) {\n        var subscriber = arg.subscriber;\n        subscriber.complete();\n    };\n    EmptyObservable.prototype._subscribe = function (subscriber) {\n        var scheduler = this.scheduler;\n        if (scheduler) {\n            return scheduler.schedule(EmptyObservable.dispatch, 0, { subscriber: subscriber });\n        }\n        else {\n            subscriber.complete();\n        }\n    };\n    return EmptyObservable;\n}(Observable_1.Observable));\nexports.EmptyObservable = EmptyObservable;\n//# sourceMappingURL=EmptyObservable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/EmptyObservable.js\n// module id = 11\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar ScalarObservable = (function (_super) {\n    __extends(ScalarObservable, _super);\n    function ScalarObservable(value, scheduler) {\n        _super.call(this);\n        this.value = value;\n        this.scheduler = scheduler;\n        this._isScalar = true;\n        if (scheduler) {\n            this._isScalar = false;\n        }\n    }\n    ScalarObservable.create = function (value, scheduler) {\n        return new ScalarObservable(value, scheduler);\n    };\n    ScalarObservable.dispatch = function (state) {\n        var done = state.done, value = state.value, subscriber = state.subscriber;\n        if (done) {\n            subscriber.complete();\n            return;\n        }\n        subscriber.next(value);\n        if (subscriber.closed) {\n            return;\n        }\n        state.done = true;\n        this.schedule(state);\n    };\n    ScalarObservable.prototype._subscribe = function (subscriber) {\n        var value = this.value;\n        var scheduler = this.scheduler;\n        if (scheduler) {\n            return scheduler.schedule(ScalarObservable.dispatch, 0, {\n                done: false, value: value, subscriber: subscriber\n            });\n        }\n        else {\n            subscriber.next(value);\n            if (!subscriber.closed) {\n                subscriber.complete();\n            }\n        }\n    };\n    return ScalarObservable;\n}(Observable_1.Observable));\nexports.ScalarObservable = ScalarObservable;\n//# sourceMappingURL=ScalarObservable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/ScalarObservable.js\n// module id = 12\n// module chunks = 0","\"use strict\";\nvar root_1 = require('../util/root');\nfunction symbolIteratorPonyfill(root) {\n    var Symbol = root.Symbol;\n    if (typeof Symbol === 'function') {\n        if (!Symbol.iterator) {\n            Symbol.iterator = Symbol('iterator polyfill');\n        }\n        return Symbol.iterator;\n    }\n    else {\n        // [for Mozilla Gecko 27-35:](https://mzl.la/2ewE1zC)\n        var Set_1 = root.Set;\n        if (Set_1 && typeof new Set_1()['@@iterator'] === 'function') {\n            return '@@iterator';\n        }\n        var Map_1 = root.Map;\n        // required for compatability with es6-shim\n        if (Map_1) {\n            var keys = Object.getOwnPropertyNames(Map_1.prototype);\n            for (var i = 0; i < keys.length; ++i) {\n                var key = keys[i];\n                // according to spec, Map.prototype[@@iterator] and Map.orototype.entries must be equal.\n                if (key !== 'entries' && key !== 'size' && Map_1.prototype[key] === Map_1.prototype['entries']) {\n                    return key;\n                }\n            }\n        }\n        return '@@iterator';\n    }\n}\nexports.symbolIteratorPonyfill = symbolIteratorPonyfill;\nexports.iterator = symbolIteratorPonyfill(root_1.root);\n/**\n * @deprecated use iterator instead\n */\nexports.$$iterator = exports.iterator;\n//# sourceMappingURL=iterator.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/symbol/iterator.js\n// module id = 13\n// module chunks = 0","\"use strict\";\nvar root_1 = require('../util/root');\nfunction getSymbolObservable(context) {\n    var $$observable;\n    var Symbol = context.Symbol;\n    if (typeof Symbol === 'function') {\n        if (Symbol.observable) {\n            $$observable = Symbol.observable;\n        }\n        else {\n            $$observable = Symbol('observable');\n            Symbol.observable = $$observable;\n        }\n    }\n    else {\n        $$observable = '@@observable';\n    }\n    return $$observable;\n}\nexports.getSymbolObservable = getSymbolObservable;\nexports.observable = getSymbolObservable(root_1.root);\n/**\n * @deprecated use observable instead\n */\nexports.$$observable = exports.observable;\n//# sourceMappingURL=observable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/symbol/observable.js\n// module id = 14\n// module chunks = 0","\"use strict\";\nvar root_1 = require('../util/root');\nvar Symbol = root_1.root.Symbol;\nexports.rxSubscriber = (typeof Symbol === 'function' && typeof Symbol.for === 'function') ?\n    Symbol.for('rxSubscriber') : '@@rxSubscriber';\n/**\n * @deprecated use rxSubscriber instead\n */\nexports.$$rxSubscriber = exports.rxSubscriber;\n//# sourceMappingURL=rxSubscriber.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/symbol/rxSubscriber.js\n// module id = 15\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n/**\n * An error thrown when an action is invalid because the object has been\n * unsubscribed.\n *\n * @see {@link Subject}\n * @see {@link BehaviorSubject}\n *\n * @class ObjectUnsubscribedError\n */\nvar ObjectUnsubscribedError = (function (_super) {\n    __extends(ObjectUnsubscribedError, _super);\n    function ObjectUnsubscribedError() {\n        var err = _super.call(this, 'object unsubscribed');\n        this.name = err.name = 'ObjectUnsubscribedError';\n        this.stack = err.stack;\n        this.message = err.message;\n    }\n    return ObjectUnsubscribedError;\n}(Error));\nexports.ObjectUnsubscribedError = ObjectUnsubscribedError;\n//# sourceMappingURL=ObjectUnsubscribedError.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/ObjectUnsubscribedError.js\n// module id = 16\n// module chunks = 0","\"use strict\";\nfunction isFunction(x) {\n    return typeof x === 'function';\n}\nexports.isFunction = isFunction;\n//# sourceMappingURL=isFunction.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/isFunction.js\n// module id = 17\n// module chunks = 0","\"use strict\";\nvar errorObject_1 = require('./errorObject');\nvar tryCatchTarget;\nfunction tryCatcher() {\n    try {\n        return tryCatchTarget.apply(this, arguments);\n    }\n    catch (e) {\n        errorObject_1.errorObject.e = e;\n        return errorObject_1.errorObject;\n    }\n}\nfunction tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\nexports.tryCatch = tryCatch;\n;\n//# sourceMappingURL=tryCatch.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/tryCatch.js\n// module id = 18\n// module chunks = 0","import eventManager from './manager/events'\nimport { Subscription } from 'rxjs/Subscription';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/observable/fromEvent';\nimport { ReplaySubject } from 'rxjs/ReplaySubject';\nimport { ObjectUnsubscribedError } from 'rxjs/util/ObjectUnsubscribedError';\nimport Constants from './constants';\n\nconst { externalEventsCodes } = Constants;\n\n\n/**\n * Channel ReplaySubject extension of Rx.ReplaySubject.\n * This is pretty hacky, but so far I'd found no better way of having\n * Channels that do no close on multicasted stream completion and on multiple errors.\n * For documentation refer to\n * [Rx.ReplaySubject docs](@link https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/subjects/replaysubject.md).\n * The only difference is that Channel never triggers '.onCompleted()' and\n * does not closes observers on errors (thus allowing to continuously dispatch them).\n */\nvar Channel = function(buffer) {\n  ReplaySubject.call(this, buffer);\n}\n\nChannel.prototype = Object.create(ReplaySubject.prototype);\n\nChannel.prototype.hasObservers = function hasObservers() {\n  if (this.closed) {\n    throw new ObjectUnsubscribedError();\n  }\n\n  return this.observers.length > 0;\n};\n\nChannel.prototype.next = function next(value) {\n  let generateUUID = function() {\n    let d = new Date().getTime();\n    let uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n      let r = (d + Math.random()*16)%16 | 0;\n      return (c=='x' ? r : (r&0x3|0x8)).toString(16);\n    });\n    return uuid;\n  };\n  if (!value.uuid) {\n    value.uuid = generateUUID();\n  }\n  ReplaySubject.prototype.next.call(this, value);\n};\n\nObject.assign(Channel.prototype, {\n  /**\n   * Dummy method override to prevent execution and Rx.Observable completion\n   * @ignore\n   */\n  complete: function() {},\n\n  /**\n   * Dummy method override to prevent stop execution when error in Rx.Observable\n   * @ignore\n   */\n  error: function(error) {\n    this.error = error;\n    this.observers.forEach(function(o) {\n      o.isStopped = false;\n      o.onError(error);\n    });\n  },\n\n  /**\n   * Removes a specific observer.\n   *\n   * @param  {Number} index  Position of observer in array\n   * @example\n   * channel.unsubscribe(1);\n   */\n  unsubscribe: function(index) {\n    this.observers.splice(index, 1);\n  },\n\n  /**\n   * Removes all observers.\n   *\n   * @example\n   * channel.unsubscribe();\n   */\n  unsubscribeAll: function() {\n    this.observers.splice(0, this.observers.length);\n  },\n\n  /**\n   * Resets the channel.\n   */\n  clean: function() {\n    this._events = [];\n  }\n});\n\n\n/**\n * A subscriptor can publish to a channel and receive notifications\n * about changes from a channel.\n *\n * @param {HTMLElement/Object} node\n */\nvar Subscriptor = function(node) {\n  this.node = node;\n  this.subscriptions = []; //[] //*1prototype mixin clone problem\n  this.publications = new Subscription();\n};\n\nSubscriptor.prototype = {\n  node: null,\n  subscriptions: null, //[] //*1prototype mixin clone problem\n  publications: null,\n\n  /**\n   * Returns true if the subscriptor has already subscribed to a channel.\n   *\n   * @param  {Channel}  channel The channel to check the subscription\n   * @return {Boolean}\n   */\n  hasSubscription: function(channel) {\n    return(this.subscriptions.filter(d => d.channel === channel).length > 0);\n  },\n\n  /**\n   * Publish an event.sss\n   *\n   * @param  {Event} event\n   */\n  publish: function(event) {\n    this.publications.add(event);\n  },\n\n  makeCallbackWithNoReplay: function(channel, fn) {\n    if (!fn.node.intervals) {\n      fn.node.intervals = [];\n    }\n    if (!fn.node.ids) {\n      fn.node.ids = [];\n    }\n    let getTimeFromNode = function(node) {\n      return node.intervals[channel.name];\n    };\n    let setTimeForNode = function(node, time) {\n      node.intervals[channel.name] = time;\n    };\n    let getTimeFromChannel = function(channel) {\n      return channel._events.length > 0 ? channel._events[0].time : 1;\n    };\n    let getIdFromNode = function(node) {\n      return node.ids[channel.name];\n    };\n    let setIdForNode = function(node, id) {\n      node.ids[channel.name] = id;\n    };\n    let getIdFromChannel = function(channel) {\n      return channel._events.length > 0 ? channel._events[0].value.uuid : null;\n    };\n    let fnReplayOff = function() {\n      let lastInterval = getTimeFromChannel(channel);\n      let nodeInterval = getTimeFromNode(fn.node);\n      let lastId = getIdFromChannel(channel);\n      let nodeId = getIdFromNode(fn.node);\n      if (!nodeInterval || nodeInterval < lastInterval ||\n        (nodeInterval === lastInterval && (nodeId != lastId))) {\n        setTimeForNode(fn.node, lastInterval);\n        setIdForNode(fn.node, lastId);\n        return fn.apply(this, arguments);\n      }\n      setTimeForNode(fn.node, lastInterval);\n    }.bind(this);\n    fnReplayOff.node = fn.node;\n    return fnReplayOff;\n  },\n\n  /**\n   * Subscribe to a channel.\n   *\n   * @param  {Channel}   channel  Channel to subscribe\n   * @param  {Function}  fn       Callback function to run when a value from a channel changed\n   */\n  subscribe: function(channel, fn, previousState) {\n    if(!this.hasSubscription(channel)) {\n      let callback = fn;\n      if (previousState === false) {\n        callback = this.makeCallbackWithNoReplay(channel, fn);\n      }\n\n      let pos = this._firstInstanceOfObserver(callback.node, channel);\n      if(pos === -1) {\n        channel.subscribe(callback);\n        pos = channel.observers.length - 1;\n      }\n      channel.observers[pos].node = callback.node;\n\n      var subscription = {\n        channel: channel,\n        observer: channel.observers[pos]\n      };\n\n      this.subscriptions.push(subscription);\n    }\n  },\n\n  /**\n   * Remove all active subscriptions.\n   */\n  unsubscribe: function() {\n    for(var i = this.subscriptions.length - 1; i >= 0; i--) {\n      var subscription = this.subscriptions[i];\n      var channel = subscription.channel;\n      var observer = subscription.observer;\n      var index = channel.observers.indexOf(observer);\n\n      if(!channel.name.match(/\\b__bridge_/)) {\n        channel.unsubscribe(index);\n      }\n      // if(!channel.hasObservers()) {\n      //   channel.clean();\n      // }\n    }\n\n    this.publications.unsubscribe();\n  },\n\n  /**\n   * Returns the position of the first occurrence of the observer's node in the channel.\n   * If the node has none observer registered to the channel, it returns -1.\n   *\n   * @param {node}\n   * @param {channel}\n   */\n  _firstInstanceOfObserver: function(node, channel) {\n    var pos = -1;\n\n    for(let index = 0; index < channel.observers.length; index++) {\n      if(channel.observers[index].node === node) {\n        pos = index;\n        break;\n      }\n    }\n    return pos;\n  }\n};\n\n/**\n * Collection of channels.\n */\nvar ChannelManager = function() {\n  this.channels = {}; //*1prototype mixin clone problem\n};\n\nChannelManager.prototype = {\n  channels: null, //{} //*1prototype mixin clone problem\n\n  /**\n   * Gets a channel by name.\n   *\n   * @param  {String} name\n   *\n   * @return {Channel}\n   */\n  get: function(name) {\n    var channel = this.channels[name];\n\n    if(channel == null) {\n      channel = this.create(name);\n    }\n\n    return channel;\n  },\n\n  /**\n   * Gets a channel by name.\n   *\n   * @param  {String} name\n   *\n   * @return {Channel}\n   */\n  getUnsafe: function(name) {\n    return this.channels[name];\n  },\n\n  /**\n   * Creates a channel.\n   *\n   * @param  {String} name Channel name\n   *\n   * @return {Channel}\n   */\n  create: function(name) {\n    var channel = new Channel(1);\n    channel.name = name;\n    return this.channels[name] = channel;\n  },\n\n  /**\n   * Removes a channel from the collection.\n   *\n   * @param  {String} name Name of the channel to remove.\n   */\n  remove: function(name) {\n    delete this.channels[name];\n  },\n\n  /**\n   * Returns true if there is a channel registered with the given name,\n   *\n   * @param {String} name Channel name,\n   *\n   * @return {Boolean}\n   */\n  has: function(name) {\n    return this.channels[name] != null;\n  }\n};\n\n\nlet ComponentConnector = class ComponentConnector {\n  manager = null;\n  subscriptors = null;\n  bridgeChannelsPrefix = null;\n\n  constructor() {\n    this.manager = new ChannelManager();\n    this.subscriptors = new WeakMap();\n    this.bridgeChannelsPrefix = /__bridge_(?!ch)/;\n  }\n\n  getSubscriptor(node) {\n    var subscriptor = this.subscriptors.get(node);\n\n    if(!subscriptor) {\n      subscriptor = new Subscriptor(node);\n      this.subscriptors.set(node, subscriptor);\n    }\n\n    return subscriptor;\n  }\n\n  /**\n   * Register a node in pubsub\n   *\n   * @param  {HTMLElement}  node\n   * @param  {Object}       connections\n   */\n  register(node, connections) {\n    if(node && connections) {\n      this._registerOutConnections(node, connections.out);\n      this._registerInConnections(node, connections.in);\n    }\n  }\n\n  /**\n   * Registesr new connections of a node that may have other connections registered previously.\n   *\n   * @param  {HTMLElement}  node\n   * @param  {Object}       connections\n   */\n  progressiveRegister(node, connections) {\n    if(node && connections) {\n      this._registerOutConnections(node, connections.out);\n      this._updateInConnections(node, connections.in);\n    }\n  }\n\n  _registerInConnections(node, inConnections) {\n    let channelName;\n    let bindName;\n    let previousState;\n\n    if(inConnections) {\n      for(channelName in inConnections) {\n        bindName = inConnections[channelName].bind;\n        previousState = inConnections[channelName].previousState || false;\n        this.addSubscription(channelName, node, bindName, previousState);\n      }\n    }\n  }\n\n  addSubscription(channelName, node, bind, previousState = false) {\n    const callback = this._wrapCallbackWithNode(node, bind);\n    const channel = this.manager.get(channelName); // @TODO ojo!!! CC this.isBridgeChannel(channelName) ? this.manager.getUnsafe(channelName) : this.manager.get(channelName);\n\n    if(channel) {\n      const subscriptor = this.getSubscriptor(node);\n\n      subscriptor.subscribe(channel, callback, previousState);\n    }\n  }\n\n  _updateInConnections(node, inConnections) {\n    let channelName;\n    let bindName;\n    let previousState;\n\n    if(inConnections) {\n      for(channelName in inConnections) {\n        bindName = inConnections[channelName].bind;\n        previousState = inConnections[channelName].previousState || false;\n        this.updateSubscription(channelName, node, bindName, previousState);\n      }\n    }\n  }\n\n  updateSubscription(channelName, node, bind, previousState = false) {\n    const subscriptor = this.getSubscriptor(node);\n\n    if(this.isActiveBridgeChannel(channelName) ||\n      (!this.isActiveBridgeChannel(channelName) && !this.hasSubscriptions(subscriptor, channelName))\n    ) {\n      const channel = this.manager.get(channelName);\n      const callback = this._wrapCallbackWithNode(node, bind);\n\n      subscriptor.subscribe(channel, callback, previousState);\n    }\n  }\n\n  _wrapCallbackWithNode(node, bindName) {\n    let cb = this.wrapCallback(node, bindName);\n    cb.node = node;\n    return cb;\n  }\n\n  _hasPublisher(subscriptor, node, channelName, bindName) {\n    let hasPublisher = false;\n\n    if (subscriptor.publications._subscriptions) {\n      subscriptor.publications._subscriptions.forEach(function(publication){\n        if (publication.node === node &&\n        publication.channelName === channelName &&\n        publication.eventName === bindName) {\n          hasPublisher = true;\n        }\n      });\n    }\n    return hasPublisher;\n  }\n\n  _registerOutConnections(node, outConnections) {\n    let channelName;\n    let bindName;\n\n    if(outConnections) {\n      for(channelName in outConnections) {\n        bindName = outConnections[channelName].bind;\n\n        this.addPublication(channelName, node, bindName, outConnections[channelName]);\n      }\n    }\n  }\n\n  addPublication(channelName, node, bindName, outConnectionDefinition) {\n    if(this.isBridgeChannel(channelName)) {\n      console.warn(`Forbidden operation. You are trying to write to a private channel (${channelName}).`);\n    } else {\n      let subscriptor = this.getSubscriptor(node);\n      let channel = this.manager.get(channelName);\n      let hasPublisher = this._hasPublisher(subscriptor, node, channelName, bindName);\n\n      if (!hasPublisher) {\n        subscriptor.publish(this.wrapEvent(node, bindName, channel, outConnectionDefinition));\n      }\n    }\n  }\n\n  publish(channelName, value) {\n    if(this.isBridgeChannel(channelName)) {\n      console.warn(`Forbidden operation. You are trying to write to a private channel (${channelName}).`);\n    } else {\n      const channel = this.manager.get(channelName);\n      const customEventName = `${channelName}-publish`;\n\n      channel.next(new CustomEvent(customEventName, { detail: value }));\n    }\n  }\n\n  /**\n   * Unregister a node from pubsub\n   *\n   * @param  {HTMLElement} node\n   */\n  unregister(node) {\n    if(!node) {\n      return;\n    }\n\n    var subscriptor = this.subscriptors.get(node);\n\n    if(subscriptor) {\n      subscriptor.unsubscribe();\n      this.subscriptors.delete(node);\n    }\n  }\n\n  // @TODO unificar con unregister\n  sleep(node) {\n    if(!node) {\n      return;\n    }\n\n    var subscriptor = this.subscriptors.get(node);\n\n    if(subscriptor) {\n      console.log(subscriptor);\n      //subscriptor.unsubscribe();\n    }\n  }\n\n  /**\n   * Wrap a callback.\n   *\n   * @param  {HTMLElement/Object} node\n   * @param  {String} bindName Method or property name\n   *\n   * @return {Function}\n   */\n  wrapCallback(node, bindName) {\n    var wrappedCb = function(event) {\n      if (typeof(bindName) === 'function') {\n        bindName(event.detail);\n      } else {\n        if(typeof node[bindName] === 'function') {\n          node[bindName](event.detail);\n        } else {\n          node[bindName] = event.detail;\n        }\n      }\n    };\n\n    return wrappedCb;\n  }\n\n  /**\n   * Returns true if the event has reached the node that is listening the event\n   *\n   * @param {Event} event\n   */\n  _isEventAtTarget(event) {\n    const AT_TARGET = Event.AT_TARGET || Event.prototype.AT_TARGET;\n    return event.eventPhase === AT_TARGET;\n  }\n\n  /**\n   * Wrap an event.\n   *\n   * @param  {HTMLElement} node\n   * @param  {String} eventName\n   * @param  {Channel} channel\n   *\n   * @return {Function}\n   */\n  wrapEvent(node, eventName, channel, connection) {\n    const { AFTER_PUBLISH, NAV_REQUEST, ROUTER_BACKSTEP, TRACK_EVENT, LOG_EVENT } = externalEventsCodes;\n\n    var source = Observable.fromEvent(node, eventName);\n    var wrappedListener = source.subscribe(function(event) {\n      if(!this._isEventAtTarget(event)) {\n        // If the event bubbles up from a child element:\n        return;\n      }\n\n      channel.next(event);\n      eventManager.emit(AFTER_PUBLISH, event);\n\n      if(connection && connection.link) {\n\n        let linkObject = connection.link;\n\n        if(connection.link.page){\n          if(connection.link.page.hasOwnProperty('bind')){\n            linkObject.page = event.detail[connection.link.page.bind]\n          }\n        }\n\n        eventManager.emit(NAV_REQUEST, {\n          event: event,\n          detail: linkObject\n        });\n      }\n\n      if (connection && connection.backStep) {\n        eventManager.emit(ROUTER_BACKSTEP, {\n          event: event,\n          detail: {}\n        });\n      }\n\n      if(connection && connection.analytics) {\n        eventManager.emit(TRACK_EVENT, {\n          event: event,\n          detail: connection.analytics\n        });\n      }\n\n      if(connection && connection.log) {\n        eventManager.emit(LOG_EVENT, {\n          event: event,\n          detail: connection.log\n        });\n      }\n\n      if (this.wrapEventHandler) {\n        this.wrapEventHandler(event, connection, channel);\n      }\n    }.bind(this));\n\n    wrappedListener.node = node;\n    wrappedListener.eventName = eventName;\n    wrappedListener.channelName = channel.name;\n\n    return wrappedListener;\n  }\n\n  /**\n   * receive a channel name and change old private values.\n   *\n   * @param  {string} name\n   *\n   */\n  createEvent(name, value) {\n    let evt = new Event(name);\n    evt.detail = { value };\n    return evt;\n  }\n\n  /**\n   * returns true if there's a private channel with the given name\n   *\n   * @param {String} name\n   *\n   * @return {Boolean}\n   */\n  isActiveBridgeChannel(name) {\n    return this.isBridgeChannel(name) && this.manager.getUnsafe(name);\n  }\n\n  /**\n   * returns true if the given name matches a private channel's name\n   *\n   * @param {String} name\n   *\n   * @return {Boolean}\n   */\n  isBridgeChannel(name) {\n    return this.bridgeChannelsPrefix.test(name);\n  }\n\n  /**\n   * returns true if the subscriptor has been subscribed to the given channel.\n   *\n   * @param {Subscriptor} subscriptor\n   * @param {String} channelName\n   *\n   * @return {Boolean}\n   */\n  hasSubscriptions(subscriptor, channelName) {\n    return subscriptor.subscriptions.filter(d => d.channel.name === channelName).length > 0;\n  }\n}\n\n/**\n * ComponentConnector definition\n */\nexport default ComponentConnector;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/component-connector.js","import eventManager from './events'\nimport Constants from '../constants';\n\nconst { externalEventsCodes } = Constants;\n\nlet CellsManagerDom = class CellsManagerDom  {\n  createComponents(spec) {\n    /* istanbul ignore if */\n    if (!spec) {\n      return;\n    }\n    var elements = [];\n    var i = 0;\n    for (let index = 0; index < spec.length; index++) {\n      const element = spec[index];\n      elements[i] = this.createElement(element.tagName);\n      elements[i].__zone = element.zone;\n      i++;\n    }\n\n    return elements;\n  }\n\n  setAttrs(node, attrs) {\n    const { BEFORE_SET_ATTR_TO_NODE, AFTER_SET_ATTR_TO_NODE } = externalEventsCodes;\n\n    if (attrs && typeof attrs === 'object') {\n      eventManager.emit(BEFORE_SET_ATTR_TO_NODE, node.tagName);\n      Object.assign(node, attrs);\n      eventManager.emit(AFTER_SET_ATTR_TO_NODE, node);\n    }\n  }\n\n  createElement(tagName, properties) {\n    const { BEFORE_CREATE_NODE, AFTER_CREATE_NODE } = externalEventsCodes;\n\n    eventManager.emit(BEFORE_CREATE_NODE, tagName);\n    var node = document.createElement(tagName);\n    eventManager.emit(AFTER_CREATE_NODE, node);\n\n    /* istanbul ignore else */\n    if (properties) {\n      this.setAttrs(node, properties);\n    }\n\n    return node;\n  }\n}\n\nexport default CellsManagerDom;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/manager/dom.js","import CellsTemplate from '../template';\nimport eventManager from './events';\nimport Constants from '../constants';\n\nconst { bindingCodes, externalEventsCodes } = Constants;\n\nlet CellsManagerTemplate = class CellsManagerTemplate {\n  cache = {};\n  templates = {};\n  selected = '';\n\n  create(name, spec) {\n    let template = this.get(name);\n\n    if (!template) {\n      template = this._createFromJSON(name, spec);\n      this._storeTemplate(name, template);\n    }\n\n    return template;\n  }\n\n  /**\n   * Create Bridge Template based on Polymer component.\n   *\n   * @param  {String}       name    [description]\n   * @param  {HTMLElement}  element [description]\n   * @return {CellsBridgeTemplate}         [description]\n   */\n  createFromComponent(name, componentName) {\n    const template = this._createCellsTemplate(name, {tagName: componentName});\n\n    this._storeTemplate(name, template);\n    return template;\n  }\n\n  /**\n   * Register template from existing HTMLElement and stores it on memory.\n   *\n   * @param  {String}               name    Template name.\n   * @param  {HTMLElement}          element Template element (existing DOM element)\n   * @return {CellsBridgeTemplate}          Cells bridge template object.\n   */\n  register(name, element) {\n    const template = this._createFromHTMLElement(name, element);\n\n    this._storeTemplate(name, template);\n    return template;\n  }\n\n  /**\n   * Store given template on memory.\n   *\n   * @param  {String}               name     Template name.\n   * @param  {CellsBridgeTemplate}  template Cells bridge template object.\n   */\n  _storeTemplate(name, template) {\n    const { node } = template;\n\n    this.cache[name] = template;\n    this.templates[name] = node;\n  }\n\n  /**\n   * Create Bridge Template based on existing HTML Element.\n   *\n   * @param  {String}       name    [description]\n   * @param  {HTMLElement}  element [description]\n   * @return {CellsBridgeTemplate}         [description]\n   */\n  _createFromHTMLElement(name, element) {\n    const template = this._createCellsTemplate(name, {node: element});\n\n    return template;\n  }\n\n  _createFromJSON(name, spec) {\n    let template = this._createCellsTemplate(name, spec);\n\n    return template;\n  }\n\n  // OJO!!!!\n  // Debido a a la jerarquía de clases, esto debería ser implementado por cada manager\n  _createCellsTemplate(name, spec) {\n    return new CellsTemplate(name, spec);\n  }\n\n  get(name) {\n    return this.cache[name];\n  }\n\n  getNode(name) {\n    return this.templates[name];\n  }\n\n  parseTemplateName(name) {\n    return name;\n  }\n\n  parseTemplateId(name) {\n    return 'cells-template-' + name.replace(/\\./g, '-');\n  }\n\n  select(name, bridgeChannelManager = undefined, binding = 'always') {\n    const { TEMPLATE_TRANSITION_END } = externalEventsCodes;\n    const { CURRENTVIEW, UI } = bindingCodes;\n    var template = this.get(name);\n    let cache = this.cache;\n    let oldPageName;\n\n    for (let tplName in cache) {\n      if (tplName === this.selected) {\n        oldPageName = tplName;\n        cache[tplName].deactivate();\n      } else if (name !== tplName) {\n        cache[tplName].cache();\n      }\n    }\n\n    this.selected = name;\n    template.activate();\n\n    if(bridgeChannelManager && binding !== CURRENTVIEW && binding !== UI){\n      bridgeChannelManager.updateAppContext(oldPageName, name);\n      bridgeChannelManager.initPrivateChannel(oldPageName, name);\n    }\n\n    eventManager.emit(TEMPLATE_TRANSITION_END, template);\n  }\n\n  /**\n   *\n   * remove one template by name.\n   * it remove the template from html and from the templates and cache nodes\n   *\n   * @param String templateName the name of the  template to remove\n   */\n  removeTemplate(templateName) {\n    if (this.templates[templateName]) {\n      let node = document.querySelector('#' + this.templates[templateName].id);\n      node.parentNode.removeChild(node);\n      delete this.templates[templateName];\n      delete this.cache[templateName];\n    }\n  }\n\n  /**\n   *\n   * remove all templates except initial one and cross component one.\n   *\n   * @param String initialTemplate the name of the initial template\n   * @param String crossContainerId the name of the cross component template\n   */\n  removeTemplates(initialTemplate, crossContainerId) {\n    for (let templateName in this.templates) {\n      if (templateName !== initialTemplate && templateName !== crossContainerId) {\n        this.removeTemplate(templateName);\n      }\n    }\n  }\n\n  /**\n   *\n   * remove all children of a template,\n   * it is used, for example, for clear cross component template.\n   *\n   * @param String templateName the name of the  template\n   */\n  removeTemplateChildrens(templateName){\n    let template = this.templates[templateName];\n    if(template && template.children){\n      for (let i = template.children.length - 1; i >= 0; i-- ) {\n        template.removeChild(template.children[i]);\n      }\n    }\n  }\n}\n\nexport default CellsManagerTemplate;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/manager/template.js","import Utils from './utils';\n\nconst { dasherize } = Utils;\n\n/**\n * Get path for component retrieval based on component definition properties.\n *\n * @param  {Object} componentDefinition Raw component definition.\n * @return {String}                     Path for component retrieval.\n */\nconst getPathFromComponent = componentDefinition => {\n  const { familyPath, tag, tagName } = componentDefinition;\n  const _tag = tag || tagName;\n  const firstPath = familyPath || _tag;\n\n  return `${firstPath}/${_tag}.html`\n};\n\nexport default class CellsBridgeComposerSanitizer {\n  _buildConfig(component, type = 'UI') {\n    const { type: componentType, tag, tagName, zone, fixed, priority, properties } = component;\n    const path = getPathFromComponent(component);\n    const configType = componentType ? componentType.toUpperCase() : type;\n    const config = {\n      type: configType,\n      tagName: tag || tagName,\n      zone,\n      fixed,\n      priority,\n      properties,\n      path\n    };\n\n    return this._parseConnections(config);\n  }\n\n  parse(json) {\n    var components = [];\n    const LTRIM_SLASH = /^\\/(\\b)/;\n    components.push(\n      ...this._parseComponentsFromJson(json, 'components', 'UI')\n    );\n    let jsonTemplate = json.template;\n    if (jsonTemplate) {\n      jsonTemplate = this._buildConfig(jsonTemplate, 'TEMPLATE');\n    }\n    let pages = {};\n    let jsonPages = json.pages;\n    /* istanbul ignore if */\n    if (jsonPages) {\n      for (let index = 0; index < Object.keys(jsonPages).length; index++) {\n        const page = Object.keys(jsonPages)[index];\n        pages[page] = '/' + jsonPages[page].url.replace(LTRIM_SLASH, '');\n      }\n    }\n    return {\n      page: json.page,\n      currentPage: json.currentPage || {},\n      template: jsonTemplate,\n      components: components,\n      pages: pages\n    };\n  }\n\n  _parseComponentsFromJson(json, key, type) {\n    const list = [];\n    const components = json[key];\n\n    /* istanbul ignore if */\n    if (Array.isArray(components)) {\n      for (let index = 0; index < components.length; index++) {\n        const component = components[index];\n        list.push(this._buildConfig(component, type));\n      }\n    }\n\n    return list;\n  }\n\n  /**\n   * Extend given component definition object with parsed component connections.\n   *\n   * @private\n   * @method _parseConnections\n   * @param  {Object} rawComponentDefinition  Raw component definition.\n   * @return {Object}                         Component definition including connections.\n   */\n  _parseConnections(rawComponentDefinition) {\n    const componentDefinition = this._normalizeComponentDefinition(rawComponentDefinition);\n    const { properties: { cellsConnections } } = componentDefinition;\n\n    if (!cellsConnections || !Object.keys(cellsConnections).length > 0) {\n      return componentDefinition;\n    }\n\n    const componentDefinitionWithConnections = Object.assign({}, componentDefinition);\n\n    if (cellsConnections.params) {\n      const params = this._parseConnectionsParams(cellsConnections.params);\n\n      /* istanbul ignore if */\n      if (!cellsConnections.in) {\n        cellsConnections.in = {};\n      }\n\n      /* istanbul ignore if */\n      if (!cellsConnections.out) {\n        cellsConnections.out = {};\n      }\n\n      Object.assign(cellsConnections.in, params.in);\n      Object.assign(cellsConnections.out, params.out);\n    }\n\n    componentDefinitionWithConnections.connections = cellsConnections;\n\n    return componentDefinitionWithConnections;\n  }\n\n  /**\n   * Normalizes given raw component definition. Safe-guard method.\n   *\n   * @private\n   * @method _normalizeComponentDefinition\n   * @param  {Object} rawComponentDefinition Raw component definition object.\n   * @return {Object}                        Normalized component definition object.\n   */\n  _normalizeComponentDefinition(rawComponentDefinition) {\n    const DEFAULT_PROPERTIES = { cellsConnections: { in: {}, out: {} } };\n    const componentDefinition = Object.assign({}, rawComponentDefinition);\n\n    componentDefinition.properties = componentDefinition.properties || DEFAULT_PROPERTIES;\n\n    return componentDefinition;\n  }\n\n  /**\n   * Parse params to appropiate connections.\n   *\n   * @private\n   * @method _parseConnectionsParams\n   * @param  {Object} params Params to be parsed.\n   * @return {Object}        Parsed connections.\n   */\n  _parseConnectionsParams(params) {\n    const connections = {\n      in: {},\n      out: {}\n    };\n\n    for (const prop in params) {\n      const paramDef = params[prop];\n      const outBind = dasherize(prop) + '-changed';\n\n      connections.in[paramDef] = this._createConnection(prop);\n      connections.out[paramDef] = this._createConnection(outBind);\n    }\n\n    return connections;\n  }\n\n  /**\n   * Create connection object based on given parameters.\n   *\n   * @private\n   * @method _createConnection\n   * @param  {String}  bind          Property to bind to.\n   * @param  {Boolean} [global=true] Global flag.\n   * @return {Object}                Connection object.\n   */\n  _createConnection(bind, global = true) {\n    return {\n      bind,\n      global\n    };\n  }\n\n  split(data) {\n    var response;\n    /* istanbul ignore if */\n    if (data) {\n      response = {\n        CC: [],\n        UI: [],\n        DM: []\n      };\n      for (let index = 0; index < data.length; index++) {\n        const item = data[index];\n        response[item.type].push(item);\n      }\n    }\n    return response;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/sanitizer.js","import CellsComponent from './component';\n\n/**\n * Class for managing templates\n *\n * A template is a component used in Cells apps for managing the components distribution\n *\n * A template has defined zones like app__header or app__main\n * where you can place your components.\n * The property zoneId (in the json page definition file) indicates the zone in wHich the\n * the component is appended.\n *\n * The components added to the template are the template's children. There are two kind of children:\n * the fixed children and the normal children. The normal ones are appended\n * to the asigned zone, the fixed ones are just stored in the fixedChildren property\n * and appended to an especial zone that is fixed.\n *\n * As the class extends from Component it has properties like node which refers to\n * the node the template is attached.\n *\n * The 'state' atributte in the node is used to know the actual state of the template\n * it can be active, cached or inactive.\n */\nexport default class CellsBridgeTemplate extends CellsComponent {\n  /**\n   * children\n   *\n   * a list of all the components in the template (including the fixed ones)\n   *\n   * @type {Array}\n   */\n  children = [];\n  /**\n   * fixedChildren\n   *\n   * a list of the components in the template of type fixed, not attached to the template\n   * but in a special fixed zone\n   *\n   * @type {Array}\n   */\n  fixedChildren = [];\n  /**\n   * type\n   *\n   * indicates the type of this component\n   *\n   * @type {String}\n   */\n  type = 'TEMPLATE';\n\n  /**\n   * returns the zone node in the template identified by the id.\n   *\n   * @param {String} zoneId\n   *\n   * @return {HTMLElement}\n   */\n  getZone(zoneId) {\n    var curTemplate = this.node;\n    var node;\n    if (!zoneId) {\n      node = curTemplate;\n    } else if (curTemplate.$ && curTemplate.$[zoneId]) {\n      node = curTemplate.$[zoneId];\n    } else {\n      node = curTemplate.querySelector('#' + zoneId);\n    }\n    return node || curTemplate;\n  }\n\n  /**\n   * sets the attribute cache in the template node to 'cached'\n   * for not loading the template again the next time the template is used\n   */\n  cache() {\n    this._setAttribute('state', 'cached');\n  }\n\n  /**\n   * sets the attribute cache in the template node to 'active'\n   * so you can know which of the templates in html is the actual one\n   */\n  activate() {\n    this._setAttribute('state', 'active');\n  }\n\n  /**\n   * sets the attribute cache in the template node to 'inactive'\n   * so you can know which of the templates in html are not the actual one\n   */\n  deactivate() {\n    this._setAttribute('state', 'inactive');\n  }\n\n  native() {\n    this._setAttribute('state', 'native');\n  }\n\n  resetNextNavigation() {\n    this._getTemplate(this.node)._nextNavigation = undefined;\n  }\n\n  /**\n   * Set given value to corresponding attribute name of current template.\n   *\n   * @private\n   * @method _setAttribute\n   * @param {String} name  Attribute name.\n   * @param {String} value Attribute value.\n   */\n  _setAttribute(name, value) {\n    const template = this._getTemplate(this.node);\n\n    template.setAttribute(name, value);\n  }\n\n  /**\n   * Returns current template based on node type.\n   * If it's a routable component (page), we retrieve the first child element that matchs with cells-template.\n   * Otherwise, we return directly the node (cells-template).\n   *\n   * @private\n   * @method _getTemplate\n   * @param  {HTMLElement} node Node for template retrieval.\n   * @return {HTMLElement}      Associate template from given node.\n   */\n  _getTemplate(node) {\n    const { tagName } = node;\n    const isPage = tagName.toLowerCase().endsWith('-page');\n\n    return isPage ? this._getCellsTemplateFromShadowRootChildNodes(node) : node;\n  }\n\n  /**\n   * Returns first element from shadowRoot child nodes that matchs 'cells-template'.\n   *\n   * @private\n   * @method _getCellsTemplateFromShadowRootChildNodes\n   * @param  {HTMLElement} node First level component that contains cells-template inside shadowRoot childNodes.\n   * @return {HTMLElement}      Cells template.\n   */\n  _getCellsTemplateFromShadowRootChildNodes(node) {\n    return Array.from(node.shadowRoot.childNodes).find(el => el && el.tagName && el.tagName.toLowerCase().indexOf('cells-template') !== -1);\n  }\n\n  /**\n   * recieves one component or a list of them, gets the new ones and append\n   * them as child in the selected zone of the template\n   *\n   * @param {Array}/{Object} components\n   *\n   * @return {Boolean}\n   */\n  append(components) {\n    /* istanbul ignore else */\n    if (!components) {\n      return;\n    }\n    /* istanbul ignore else */\n    if (components.length === undefined) {\n      components = [components];\n    }\n\n    let newContentComponents = components.filter(component => component.fixed !== true);\n    let newFixedChildren = components.filter(component => component.fixed === true);\n    this.fixedChildren = this.fixedChildren.concat(newFixedChildren);\n    this.children = this.children.concat(components);\n    let zoneCache = [];\n\n\n    for (let index = 0; index < newContentComponents.length; index++) {\n      const component = newContentComponents[index];\n      // for backward compatibility with Polymer 1\n      component.node.setAttribute('data-select', component.zone);\n      // for the use of slots required by Polymer 2\n      component.node.setAttribute('slot', component.zone);\n      if (typeof zoneCache[component.zone] !== 'object') {\n        zoneCache[component.zone] = this.getZone(component.zone);\n      }\n      zoneCache[component.zone].appendChild(component.node);\n    }\n  }\n\n  config(cellsTemplateConfig) {\n    const {\n      name,\n      template: { id: templateId, name: templateName }\n    } = cellsTemplateConfig;\n\n    this.name = name;\n    this.node.id = templateId;\n    this.node.name = templateName;\n\n    this.setProps();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/template.js","// Taken from string.js npm package\n// https://github.com/jprichardson/string.js\n\nexport const dasherize = str => str.trim().replace(/[_\\s]+/g, '-').replace(/([A-Z])/g, '-$1').replace(/-+/g, '-').toLowerCase()\nexport const camelize = str => str.trim().replace(/(-|_|\\s)+(.)?/g, (mathc, sep, c) => c ? c.toUpperCase() : '');\n\nexport default {\n  dasherize,\n  camelize\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/utils.js","export function isPolymerElementUnresolved(node) {\n  const isCustomElement = node.tagName.indexOf('-') > -1 ;\n  const isPolymer1 = node.__isPolymerInstance__ === true;\n  const isPolymer2 = (\n    (Polymer.Element !== undefined && node instanceof Polymer.Element) ||\n    (Polymer.ElementMixin !== undefined && node instanceof Polymer.ElementMixin) ||\n    (Polymer.LegacyElementMixin !== undefined && node instanceof Polymer.LegacyElementMixin) ||\n    (node.is !== undefined && node.ready !== undefined && node.notifyPath !== undefined)\n  );\n\n  return isCustomElement && !isPolymer1 && !isPolymer2;\n}\n\nexport default {\n  isPolymerElementUnresolved\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/polymer/resolution-checker.js","\"use strict\";\nexports.empty = {\n    closed: true,\n    next: function (value) { },\n    error: function (err) { throw err; },\n    complete: function () { }\n};\n//# sourceMappingURL=Observer.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/Observer.js\n// module id = 26\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscription_1 = require('./Subscription');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SubjectSubscription = (function (_super) {\n    __extends(SubjectSubscription, _super);\n    function SubjectSubscription(subject, subscriber) {\n        _super.call(this);\n        this.subject = subject;\n        this.subscriber = subscriber;\n        this.closed = false;\n    }\n    SubjectSubscription.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.closed = true;\n        var subject = this.subject;\n        var observers = subject.observers;\n        this.subject = null;\n        if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n            return;\n        }\n        var subscriberIndex = observers.indexOf(this.subscriber);\n        if (subscriberIndex !== -1) {\n            observers.splice(subscriberIndex, 1);\n        }\n    };\n    return SubjectSubscription;\n}(Subscription_1.Subscription));\nexports.SubjectSubscription = SubjectSubscription;\n//# sourceMappingURL=SubjectSubscription.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/SubjectSubscription.js\n// module id = 27\n// module chunks = 0","\"use strict\";\nvar mergeMap_1 = require('./mergeMap');\nvar identity_1 = require('../util/identity');\n/**\n * Converts a higher-order Observable into a first-order Observable which\n * concurrently delivers all values that are emitted on the inner Observables.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables.</span>\n *\n * <img src=\"./img/mergeAll.png\" width=\"100%\">\n *\n * `mergeAll` subscribes to an Observable that emits Observables, also known as\n * a higher-order Observable. Each time it observes one of these emitted inner\n * Observables, it subscribes to that and delivers all the values from the\n * inner Observable on the output Observable. The output Observable only\n * completes once all inner Observables have completed. Any error delivered by\n * a inner Observable will be immediately emitted on the output Observable.\n *\n * @example <caption>Spawn a new interval Observable for each click event, and blend their outputs as one Observable</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000));\n * var firstOrder = higherOrder.mergeAll();\n * firstOrder.subscribe(x => console.log(x));\n *\n * @example <caption>Count from 0 to 9 every second for each click, but only allow 2 concurrent timers</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000).take(10));\n * var firstOrder = higherOrder.mergeAll(2);\n * firstOrder.subscribe(x => console.log(x));\n *\n * @see {@link combineAll}\n * @see {@link concatAll}\n * @see {@link exhaust}\n * @see {@link merge}\n * @see {@link mergeMap}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n * @see {@link switch}\n * @see {@link zipAll}\n *\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of inner\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits values coming from all the\n * inner Observables emitted by the source Observable.\n * @method mergeAll\n * @owner Observable\n */\nfunction mergeAll(concurrent) {\n    if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n    return mergeMap_1.mergeMap(identity_1.identity, null, concurrent);\n}\nexports.mergeAll = mergeAll;\n//# sourceMappingURL=mergeAll.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/operators/mergeAll.js\n// module id = 28\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar Notification_1 = require('../Notification');\n/**\n *\n * Re-emits all notifications from source Observable with specified scheduler.\n *\n * <span class=\"informal\">Ensure a specific scheduler is used, from outside of an Observable.</span>\n *\n * `observeOn` is an operator that accepts a scheduler as a first parameter, which will be used to reschedule\n * notifications emitted by the source Observable. It might be useful, if you do not have control over\n * internal scheduler of a given Observable, but want to control when its values are emitted nevertheless.\n *\n * Returned Observable emits the same notifications (nexted values, complete and error events) as the source Observable,\n * but rescheduled with provided scheduler. Note that this doesn't mean that source Observables internal\n * scheduler will be replaced in any way. Original scheduler still will be used, but when the source Observable emits\n * notification, it will be immediately scheduled again - this time with scheduler passed to `observeOn`.\n * An anti-pattern would be calling `observeOn` on Observable that emits lots of values synchronously, to split\n * that emissions into asynchronous chunks. For this to happen, scheduler would have to be passed into the source\n * Observable directly (usually into the operator that creates it). `observeOn` simply delays notifications a\n * little bit more, to ensure that they are emitted at expected moments.\n *\n * As a matter of fact, `observeOn` accepts second parameter, which specifies in milliseconds with what delay notifications\n * will be emitted. The main difference between {@link delay} operator and `observeOn` is that `observeOn`\n * will delay all notifications - including error notifications - while `delay` will pass through error\n * from source Observable immediately when it is emitted. In general it is highly recommended to use `delay` operator\n * for any kind of delaying of values in the stream, while using `observeOn` to specify which scheduler should be used\n * for notification emissions in general.\n *\n * @example <caption>Ensure values in subscribe are called just before browser repaint.</caption>\n * const intervals = Rx.Observable.interval(10); // Intervals are scheduled\n *                                               // with async scheduler by default...\n *\n * intervals\n * .observeOn(Rx.Scheduler.animationFrame)       // ...but we will observe on animationFrame\n * .subscribe(val => {                           // scheduler to ensure smooth animation.\n *   someDiv.style.height = val + 'px';\n * });\n *\n * @see {@link delay}\n *\n * @param {IScheduler} scheduler Scheduler that will be used to reschedule notifications from source Observable.\n * @param {number} [delay] Number of milliseconds that states with what delay every notification should be rescheduled.\n * @return {Observable<T>} Observable that emits the same notifications as the source Observable,\n * but with provided scheduler.\n *\n * @method observeOn\n * @owner Observable\n */\nfunction observeOn(scheduler, delay) {\n    if (delay === void 0) { delay = 0; }\n    return function observeOnOperatorFunction(source) {\n        return source.lift(new ObserveOnOperator(scheduler, delay));\n    };\n}\nexports.observeOn = observeOn;\nvar ObserveOnOperator = (function () {\n    function ObserveOnOperator(scheduler, delay) {\n        if (delay === void 0) { delay = 0; }\n        this.scheduler = scheduler;\n        this.delay = delay;\n    }\n    ObserveOnOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ObserveOnSubscriber(subscriber, this.scheduler, this.delay));\n    };\n    return ObserveOnOperator;\n}());\nexports.ObserveOnOperator = ObserveOnOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ObserveOnSubscriber = (function (_super) {\n    __extends(ObserveOnSubscriber, _super);\n    function ObserveOnSubscriber(destination, scheduler, delay) {\n        if (delay === void 0) { delay = 0; }\n        _super.call(this, destination);\n        this.scheduler = scheduler;\n        this.delay = delay;\n    }\n    ObserveOnSubscriber.dispatch = function (arg) {\n        var notification = arg.notification, destination = arg.destination;\n        notification.observe(destination);\n        this.unsubscribe();\n    };\n    ObserveOnSubscriber.prototype.scheduleMessage = function (notification) {\n        this.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch, this.delay, new ObserveOnMessage(notification, this.destination)));\n    };\n    ObserveOnSubscriber.prototype._next = function (value) {\n        this.scheduleMessage(Notification_1.Notification.createNext(value));\n    };\n    ObserveOnSubscriber.prototype._error = function (err) {\n        this.scheduleMessage(Notification_1.Notification.createError(err));\n    };\n    ObserveOnSubscriber.prototype._complete = function () {\n        this.scheduleMessage(Notification_1.Notification.createComplete());\n    };\n    return ObserveOnSubscriber;\n}(Subscriber_1.Subscriber));\nexports.ObserveOnSubscriber = ObserveOnSubscriber;\nvar ObserveOnMessage = (function () {\n    function ObserveOnMessage(notification, destination) {\n        this.notification = notification;\n        this.destination = destination;\n    }\n    return ObserveOnMessage;\n}());\nexports.ObserveOnMessage = ObserveOnMessage;\n//# sourceMappingURL=observeOn.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/operators/observeOn.js\n// module id = 29\n// module chunks = 0","\"use strict\";\nexports.isArray = Array.isArray || (function (x) { return x && typeof x.length === 'number'; });\n//# sourceMappingURL=isArray.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/isArray.js\n// module id = 30\n// module chunks = 0","\"use strict\";\nexports.isArrayLike = (function (x) { return x && typeof x.length === 'number'; });\n//# sourceMappingURL=isArrayLike.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/isArrayLike.js\n// module id = 31\n// module chunks = 0","\"use strict\";\nfunction isObject(x) {\n    return x != null && typeof x === 'object';\n}\nexports.isObject = isObject;\n//# sourceMappingURL=isObject.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/isObject.js\n// module id = 32\n// module chunks = 0","\"use strict\";\nfunction isPromise(value) {\n    return value && typeof value.subscribe !== 'function' && typeof value.then === 'function';\n}\nexports.isPromise = isPromise;\n//# sourceMappingURL=isPromise.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/isPromise.js\n// module id = 33\n// module chunks = 0","import CellsBridge from '../core/bridge';\nimport PolymerComponentConnector from './component-connector';\nimport PolymerTemplateManager from './manager/template';\nimport PolymerComponent from './component';\n\nexport default class CellsPolymerBridge extends CellsBridge {\n\n  constructor(config) {\n    super(config);\n\n    if (config.avoidPolymerEventCache === true) {\n      var origGetEvent = Polymer.Base._getEvent;\n      Polymer.Base._getEvent = function(type, bubbles, cancelable) {\n        return origGetEvent(type, bubbles, cancelable, false);\n      }\n    }\n  }\n\n  _initDependencies(dependencies) {\n    dependencies = Object.assign(\n      {\n        ComponentConnector: PolymerComponentConnector,\n        TemplateManager: PolymerTemplateManager\n      },\n      dependencies\n    );\n    super._initDependencies(dependencies);\n  }\n\n  _createCellsComponent(spec, context) {\n    return new PolymerComponent(spec, context);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/polymer/bridge.js","// eslint-disable-next-line no-unused-vars\nimport ManagerDom from './manager/dom';\nimport ManagerPage from './manager/page';\nimport ComponentConnector from './component-connector';\nimport Router from './router';\nimport Sanitizer from './sanitizer';\nimport eventManager from './manager/events';\nimport ImportManager from './manager/import';\nimport TemplateManager from './manager/template';\nimport Component from './component';\nimport BridgeChannelManager from './manager/bridge-channels';\nimport ActionChannelManager from './manager/action-channels';\nimport Utils from './utils';\nimport Constants from './constants';\nimport Monitoring from './monitoring';\n\nconst { dasherize, camelize } = Utils;\nconst { bindingCodes, binding, componentsPath, composerEndpoint, externalEvents, externalEventsCodes, initialTemplate: DEFAULT_INITIAL_TEMPLATE, pagesPath: DEFAULT_PAGES_PATH, prplCodes, prpl } = Constants;\n\nconst { DEFAULT: ALWAYS } = binding;\nconst { DEFAULT: DEFER } = prpl;\n\nvar coreInstances = 0;\nvar globalChannel = {};\n\n// @TODO: Agregar los imports y eliminar los `new this.*`\n// @TODO: Revisar los métodos que manipulan templates. Quizás deban ser responsabilidad del TemplateManager\n\nlet CellsBridge = class CellsBridge {\n  ComponentConnector = null;\n  DomManager = null;\n  ImportManager = null;\n  PageManager = null;\n  Router = null;\n  TemplateManager = null;\n  Sanitizer = null;\n  BridgeChannelManager = null;\n\n  /**\n\t * Binding Type\n\t *\n\t * 'always'      => Register all components of all views. Never unregister them.\n\t * 'delayed'     => Like 'always' but waits for idle to start the animation.\n\t * 'ui'          => Register only ui and cross components of all views. Never\n\t *                  unregister them. Datamanagers are only connected when the\n\t *                  animation of the current view finishes.\n\t * 'currentview' => Register all components of the current view when the\n\t *                  animation finishes.\n\t *\n\t * @type {String}\n\t */\n  binding = ALWAYS;\n  /**\n   *\n   * @type {sting}\n   *\n   *  none => Don't use bundled pages\n   *  defer => Use bundled pages. It renders the page once every component has been loaded.\n   *  progressive => Use bundled pages. It renders the page inmediatelly while its component are loading.\n   *  hero => Use bundled pages. It renders the page inmediatelly while its component are loading using priorities.\n   */\n  prplLevel = DEFER;\n  /**\n\t * Pages Cache\n\t *\n\t * Saves page definitions into localstorage.\n\t *\n\t * @type {Boolean}\n\t */\n  cache = true;\n  /**\n\t * PubSub Context\n\t *\n\t * 'global'   => Notifies all components of all bridge instances.\n\t * 'local'    => Notifies components created by the current bridge instance.\n\t *\n\t * @type {String}\n\t */\n  channel = 'global';\n  /**\n   * URL Components Path\n   *\n   * URL path to load components.\n   *\n   * @type {String}\n   */\n  componentsPath = componentsPath;\n  /**\n\t * URL templates Path\n\t *\n\t * URL path to load templates.\n\t *\n\t * @type {String}\n\t */\n  templatesPath = '';\n  /**\n\t * Cross container node Id\n\t *\n\t * @type {String}\n\t */\n  crossContainerId = '__cross';\n  /**\n\t * Prints debug info\n\t *\n\t * @type {Boolean}\n\t */\n  debug = true;\n  /**\n\t * Proactive Cache.\n\t * Loads future pages definition.\n\t *\n\t * @type {Boolean}\n\t */\n  preCache = false;\n  /**\n\t * Proactive Render\n\t * Render future pages.\n\t *\n\t * @type {Boolean}\n\t */\n  preRender = false;\n  /**\n\t * Prefix for LocalStorage keys\n\t *\n\t * @type {String}\n\t */\n  storagePrefix = '__bridge-';\n  /**\n\t * Lib version.\n\t *\n\t * @type {string}\n\t */\n  version = '3.4.5';\n  /**\n\t * Max number of views\n\t *\n\t * Keeps this number of template alive.\n\t *\n\t * @type {Number}\n\t */\n  viewLimit = 6;\n  /**\n   * The name of the initial template that gets rendered\n   *\n   * @type {String}\n   */\n  initialTemplate = DEFAULT_INITIAL_TEMPLATE;\n  /**\n   *  The node where the template will be rendered\n   */\n  __mainNodeElement = null;\n\n  /**\n\t * Events to expose\n\t *\n\t *\n\t * @type {Array}\n\t */\n  externalEvents = externalEvents;\n\n  /**\n   * The lists of routes that are rendered through a WebComponent.\n   *\n   * @type {Array}\n   */\n  pages = [];\n\n  /**\n   * The path to the folder that contains the components that renders a route.\n   *\n   * @type {String}\n   */\n  pagesPath = DEFAULT_PAGES_PATH;\n\n  /**\n   * The list of templates that are remote and need to be fetched from a remote server\n   * @type {Array}\n   */\n  remoteTemplates = [];\n\n  appId = '';\n  composerEndpoint = composerEndpoint;\n  templatesPath = '';\n\n  monitoring = null;\n\n  logs = false;\n\n  constructor(config) {\n    const { NAV_REQUEST, ROUTER_BACKSTEP } = externalEventsCodes;\n\n    if (!config || typeof config !== 'object') {\n      config = {};\n    }\n\n    config.prplLevel = this._normalizePrplLevel(config.prplLevel);\n\n    let dependencies = config.dependencies;\n    delete config.dependencies;\n    Object.assign(this, config);\n\n    this._initDependencies(dependencies);\n\n    if (this.channel === 'global') {\n      this.ComponentConnector.manager.channels = globalChannel;\n    }\n\n    if (!this.mainNode) {\n      console.warn('You should indicate the main node of your app');\n    } else {\n      this._plugExternalEvents();\n    }\n\n    this.id = coreInstances++;\n    this._initCrossComponents();\n\n    if (this.cache) {\n      this.PageManager.persistent = true;\n    }\n    if (this.generateRequestUrl) {\n      console.assert(\n        typeof this.generateRequestUrl === 'function',\n        'generateRequestUrl has to be a function'\n      );\n      this.PageManager.generateRequestUrl = this.generateRequestUrl;\n    }\n    if (this.onPageDefinitionNotFound) {\n      console.assert(\n        typeof this.onPageDefinitionNotFound === 'function',\n        'onPageDefinitionNotFound has to be a function'\n      );\n      this.PageManager.onPageDefinitionNotFound = this.onPageDefinitionNotFound;\n    }\n    window.$core = window.$core || [];\n    /* istanbul ignore else */\n    if (this.debug) {\n      window.$core.push(this);\n      this.printDebugInfo();\n    } else {\n      window.$core.push(\n        {\n          // @TODO extract to factory method\n          // monitoring\n          log: (log) => this.log(log),\n          ingest: (spans) => this.ingestSpans(spans),\n          createSpan: (data) => this.createSpan(data),\n          createUUID: () => this.createUUID(),\n\n          logout: () => this.logout(),\n          subscribeToEvent: (eventName, callback) => this.subscribeToEvent(eventName, callback),\n          registerInConnection: (channel, node, callback) => this.registerInConnection(channel, node, callback),\n          registerOutConnection: (channelName, node, bindName) => this.registerOutConnection(channelName, node, bindName),\n          publish: (channelName, value) => this.publish(channelName, value),\n          navigate: (page, params) => this.navigate(page, params)\n        }\n      );\n    }\n    window.cells = window.$core[0];\n\n    this.BridgeChannelManager.initAppContextChannel();\n    this.BridgeChannelManager.getCancelledBackNavigationChannel();\n    this.ActionChannelManager.subscribeAll();\n\n    // Bridge is ready - execute queued bridge commands\n    this._executePendingBridgeQueue();\n\n    if (this.logs) {\n      this._logBridgeReady();\n    }\n\n    // 1. Listen for route changes\n    // @TODO: Revisar este binding de un método de otro objeto a otro objeto\n    this.Router.handler = () => this.routeHandler();\n    this.Router.addRoutes(this.routes);\n    this._initSkipNavigations();\n    this.Router.start();\n\n    eventManager.on(NAV_REQUEST,\n      function (info) {\n        var event = info.event;\n        var navigationDetail = info.detail;\n        var page = navigationDetail.page;\n        var params = navigationDetail.params;\n        var skipHistory = navigationDetail.skipHistory;\n        var replace = navigationDetail.replace || false;\n        var p = {};\n        if (!page && navigationDetail.paramPage && event.detail) {\n          page = event.detail[navigationDetail.paramPage];\n        }\n        if (event.detail && params) {\n          for (var param in params) {\n            if (params.hasOwnProperty(param)) {\n              p[params[param]] = event.detail[param];\n            }\n          }\n        }\n        this.Router.go(page, p, replace, skipHistory);\n        Object.assign(this, config);\n      }.bind(this)\n    );\n\n    eventManager.on(ROUTER_BACKSTEP, (evt) => this.handleBack(evt));\n  }\n\n  /**\n   * Performs the go back action. This method is overriden by the CellsNativeBridge\n   *\n   * @return {Object} the executed navigation, an object with properties:\n   *  - from\n   *  - to\n   */\n  goBack() {\n    return this.Router.back();\n  }\n\n  /**\n   * This method is executed when the event router-backstep is fired.\n   * It calls the hook method for handling backward navigations and if that method\n   * allows the continuation, it does the navegation. Otherwise it will cancel the navigation\n   * and publish the response in the channel __bridge_cancelled_back_navigation.\n   */\n  handleBack() {\n    this.goBack();\n  }\n\n  /**\n   * Execute queued bridge commands due to delayed instance of bridge and\n   * premature execution of commands.\n   *\n   * @method\n   * @private\n   */\n  _executePendingBridgeQueue() {\n    if (!window.cellsBridgeQueue || !window.cellsBridgeQueue.length) {\n      return;\n    }\n\n    for (var i = 0; i < window.cellsBridgeQueue.length; i++) {\n      const queuedItem = window.cellsBridgeQueue[i];\n      const { command, parameters } = queuedItem;\n      const queuedCommand = this[command];\n\n      if (!queuedCommand) {\n        console.log(`WARNING: Invalid cells bridge command execution: ${command} (QUEUE).`);\n        return;\n      }\n\n      console.log(`Executing queued command ${command}.`);\n      queuedCommand.apply(this, parameters);\n    }\n\n    delete window.cellsBridgeQueue;\n  }\n\n  _logBridgeReady() {\n    const { appId, version, binding, prplLevel, cache, preCache, preRender } = this;\n    const message = `cells-bridge::ready`;\n    const properties = {\n      appId,\n      version,\n      binding,\n      href: window.location.href,\n      prplLevel,\n      cache,\n      preCache,\n      preRender\n    };\n    const log = { message, properties };\n\n    this.logBridge(log);\n  }\n\n  _initSkipNavigations() {\n    if (this.skipNavigations && this.skipNavigations.length>0) {\n      for (let i=0; i<this.skipNavigations.length; i++) {\n        this.skipNavigations[i].skipHistory = true;\n      }\n      this.Router.addSkipNavigations(this.skipNavigations);\n    }\n  }\n\n  _normalizePrplLevel(prplLevelCode) {\n    const { VALUES: prplList } = prpl;\n    let normalizedCode;\n\n    if (prplList.indexOf(prplLevelCode) > -1) {\n      normalizedCode = prplLevelCode;\n    } else {\n      normalizedCode = prplList[prplLevelCode] || DEFER;\n    }\n    return normalizedCode;\n  }\n\n  _plugExternalEvents() {\n    let len = this.externalEvents.length;\n    let mainNode = this.getMainNode();\n    let setExternalEvent = function (name, payload) {\n      let event = (payload) ? new CustomEvent(name, { detail: payload }) : new CustomEvent(name);\n      mainNode.dispatchEvent(event);\n    }\n    if (mainNode) {\n      for (let i = 0; i < len; i++) {\n        const eventName = this.externalEvents[i];\n\n        eventManager.on(eventName, (data) => {\n          setExternalEvent(eventName, data);\n\n          if (this.logs) {\n            this.monitor(eventName, data);\n          }\n        });\n      }\n      this._initEventChannels();\n    } else {\n      console.warn('The defined main node does not exist');\n    }\n  }\n\n  monitor(eventName, data) {\n    const { LOG_EVENT } = externalEventsCodes;\n    const isApplicationLogEvent = eventName === LOG_EVENT;\n    const isLoggable = isApplicationLogEvent || this.isBridgeLoggableEvent(eventName);\n\n    if (isLoggable) {\n      const log = this.monitoring.buildLog(eventName, data);\n      const method = isApplicationLogEvent ? 'log' : 'logBridge';\n\n      this[method](log);\n    }\n  }\n\n  isBridgeLoggableEvent(eventName) {\n    return this.monitoring.isBridgeLoggableEvent(eventName);\n  }\n\n  log(log) {\n    this.hasApplicationLoggingEnabled() && this.monitoring.logApplication(log);\n  }\n\n  logBridge(log) {\n    this.monitoring.logBridge(log);\n  }\n\n  ingest(spans) {\n    this.hasApplicationLoggingEnabled() && this.monitoring.ingest(spans);\n  }\n\n  createSpan(data) {\n    if (!this.hasApplicationLoggingEnabled()) {\n      return;\n    }\n\n    return this.monitoring.createSpan(data);\n  }\n\n  createUUID() {\n    return this.monitoring.createUUID();\n  }\n\n  hasApplicationLoggingEnabled() {\n    return this.monitoring.hasApplicationLoggingEnabled();\n  }\n\n  _initEventChannels() {\n    let mainNode = this.getMainNode();\n    this.BridgeChannelManager.initEventChannels(mainNode, this.externalEvents);\n    this._addInitialSubscribersToEvents();\n  }\n\n  _addInitialSubscribersToEvents() {\n    if (this.eventSubscriptions && this.eventSubscriptions.length > 0) {\n      this._subscribeToEvents(this.eventSubscriptions);\n    }\n  }\n\n  _subscribeToEvents(eventSubscriptions) {\n    eventSubscriptions.forEach((subscription) => {\n      const { event, callback } = subscription;\n\n      this.subscribeToEvent(event, callback);\n    });\n  }\n\n  /**\n   * Initialization of cross components container.\n   * Check if cross component container exists. Otherwise, it will be created.\n   *\n   * @private\n   */\n  _initCrossComponents() {\n    const crossContainerTemplateId = this.TemplateManager.parseTemplateId(this.crossContainerId);\n    let crossContainer = this.TemplateManager.get(crossContainerTemplateId);\n    const crossContainerElement = document.getElementById(crossContainerTemplateId);\n\n    // no cross container registered on memory\n    if (!crossContainer) {\n      if (!crossContainerElement) {\n        // no html element for cross container, we build it from scratch\n        crossContainer = this.TemplateManager.create(this.crossContainerId, { tagName: 'div' });\n        document.body.appendChild(crossContainer.node);\n      } else {\n        // html element found. we register it\n        this.TemplateManager.register(this.crossContainerId, crossContainerElement);\n      }\n    }\n  }\n\n  _initDependencies(dependencies) {\n    dependencies = Object.assign(\n      {\n        ComponentConnector: ComponentConnector,\n        DomManager: ManagerDom,\n        ImportManager: ImportManager,\n        PageManager: ManagerPage,\n        TemplateManager: TemplateManager,\n        Router: Router,\n        Sanitizer: Sanitizer,\n        BridgeChannelManager: BridgeChannelManager,\n        ActionChannelManager: ActionChannelManager,\n        monitoring: Monitoring,\n      },\n      dependencies\n    );\n    for (let dependence in dependencies) {\n      if (dependencies.hasOwnProperty(dependence)) {\n        this[dependence] = new dependencies[dependence](this);\n      }\n    }\n  }\n\n  _createCellsComponent(spec, context) {\n    return new Component(spec, context);\n  }\n\n  createCCComponent(spec) {\n    var container = this.TemplateManager.get(this.crossContainerId);\n    var node = container.node.querySelector(spec.tagName);\n    if (!node) {\n      var cmp = this._createCellsComponent(spec, this);\n      cmp.__parentTemplate = container;\n      this.ComponentConnector.register(cmp.node, cmp.spec.connections);\n      return cmp;\n    } else {\n      this.ComponentConnector.progressiveRegister(node, spec.connections);\n    }\n  }\n\n  createUIComponent(spec) {\n    const { ALWAYS, DELAYED, UI } = bindingCodes;\n    var bindingType = this.binding;\n    var cmp = this._createCellsComponent(spec, this);\n\n    if (bindingType === ALWAYS || bindingType === DELAYED || bindingType === UI) {\n      this.ComponentConnector.register(cmp.node, cmp.connections);\n    }\n    return cmp;\n  }\n\n  createDMComponent(spec) {\n    const { ALWAYS, DELAYED } = bindingCodes;\n    var bindingType = this.binding;\n    var cmp = this._createCellsComponent(spec, this);\n\n    if (bindingType === ALWAYS || bindingType === DELAYED) {\n      this.ComponentConnector.register(cmp.node, cmp.connections);\n    }\n    return cmp;\n  }\n\n  _createLocalComponent(type, items, template) {\n    var collection = [];\n    for (var i = 0, l = items.length; i < l; i++) {\n      var spec = items[i];\n      var cmp = this['create' + type + 'Component'](spec);\n      if (cmp) {\n        cmp.__parentTemplate = cmp.__parentTemplate || template;\n        collection.push(cmp);\n      }\n    }\n    return collection;\n  }\n\n  createComponentsByType(collection, template) {\n    var itemsToInject = [];\n    var sortedList = ['CC', 'UI', 'DM'];\n    for (var j = 0, k = sortedList.length; j < k; j++) {\n      var type = sortedList[j];\n      var items = collection[type];\n      itemsToInject = itemsToInject.concat(this._createLocalComponent(type, items, template));\n    }\n    return itemsToInject;\n  }\n\n  _createComponents(response, template, isPreRendering = false) {\n    const { PAGE_READY } = externalEventsCodes;\n    const { page } = response;\n\n    var options = this;\n    var collection = this.Sanitizer.split(response.components);\n    var components = this.createComponentsByType(collection, template);\n    var unresolvedComponents = [];\n    var templateParents = [];\n\n    for (var i = 0, l = components.length; i < l; i++) {\n      // 9. Sets default attributes\n      components[i].setProps();\n      var component = components[i];\n      var parentName = component.__parentTemplate.name;\n      if (!templateParents[parentName]) {\n        templateParents[parentName] = this.TemplateManager.get(parentName);\n      }\n      // 9.1 Append components to template\n      templateParents[parentName].append(component);\n\n      if (component.isUnresolved()) {\n        unresolvedComponents.push(component);\n      }\n    }\n    \n    eventManager.emit(PAGE_READY, { page, components: response.components.map(c => c.tagName).join(', ')});\n\n    switch(this.prplLevel) {\n    case prplCodes.NONE:\n    case prplCodes.DEFER:\n      this.ImportManager.loadComponent(unresolvedComponents, options.componentsPath).then(() => {\n        this.selectTemplate(page, isPreRendering);\n      });\n      break;\n    case prplCodes.PROGRESSIVE:\n      this.ImportManager.loadComponent(unresolvedComponents, options.componentsPath);\n      break;\n    case prplCodes.HERO:\n      this.selectTemplate(page, isPreRendering);\n      this.ImportManager.loadComponentByPriority(unresolvedComponents, options.componentsPath);\n      break;\n    }\n  }\n\n  createPageFromPolymerWebComponent(name) {\n    const componentName = `${name}-page`;\n    let node = this.TemplateManager.getNode(name);\n\n    this.BridgeChannelManager.getPrivate(name);\n\n    if (!node) {\n      node = this.TemplateManager.createFromComponent(name, componentName);\n\n      if (node.isUnresolved()) {\n        // @TODO\n        // OJO!!! hay que ver cómo integramos selectTemplate en lugar de selectPage...\n        return this.loadPolymerWebComponent(name);\n      }\n    }\n\n    // @TODO\n    // OJO!!! hay que ver cómo integramos selectTemplate en lugar de selectPage...\n    return Promise.resolve();\n  }\n\n  _isLocalTemplate(templateName) {\n    let isLocal = true;\n    if (this.composerEndpoint && this.remoteTemplates) {\n      isLocal = this.remoteTemplates.indexOf(templateName) === -1;\n    }\n    return isLocal;\n  }\n\n  createTemplate(response, isPreRendering = false) {\n    let spec = response;\n    let name = response.page;\n    let node = this.TemplateManager.getNode(name);\n    this.BridgeChannelManager.getPrivate(name);\n    // Template is cached\n    if (node) {\n      this.selectTemplate(name, isPreRendering);\n    } else {\n      // Template not cached and has definition\n      if (spec && spec.template) {\n        if (this.prplLevel === prplCodes.DEFER && this._isLocalTemplate(name)) {\n          this.ImportManager.loadBundleForTemplate(this.componentsPath, name).then(() => {\n            this._createTemplateFromSpec(name, spec, isPreRendering)\n          });\n        } else {\n          this._createTemplateFromSpec(name, spec, isPreRendering);\n        }\n      }\n    }\n    this._preRender(response, isPreRendering);\n  }\n\n  _preRender(response, isPreRendering) {\n    if ((this.preCache === true || this.preRender === true) && response.pages) {\n      for (var page in response.pages) {\n        let pageAlreadyLoaded = (page === name || this.TemplateManager.cache[page]);\n        if (pageAlreadyLoaded) {\n          continue;\n        }\n        this.loadTemplate(page).then(templateResponse => {\n          if (this.preRender) {\n            if (isPreRendering === false) {\n              let doPreRender = true;\n              if (templateResponse.page) {\n                this._idleCallback(() => this.createTemplate(templateResponse, doPreRender));\n              } else {\n                console.warn('Missing page. ', templateResponse);\n              }\n            }\n          }\n        });\n      }\n    }\n  }\n\n  _createTemplateFromSpec(name, spec, isPreRendering = false) {\n    // 4. Creates the new template\n    var template = this.TemplateManager.create(name, spec.template);\n    if (this.prplLevel === prplCodes.PROGRESSIVE) {\n      this.selectTemplate(name, isPreRendering);\n    }\n    this.ComponentConnector.register(template.node, template.connections);\n    // Add new routes in router\n    if (spec.pages) {\n      this.Router.addRoutes(spec.pages);\n    }\n    // 5. Import it when doesn't exists\n    if (template.isUnresolved()) {\n      switch(this.prplLevel) {\n      case prplCodes.NONE:\n      case prplCodes.DEFER:\n        this.ImportManager.loadComponent(template, this.componentsPath).then(() => {\n          this._createComponents(spec, template, isPreRendering);\n        });\n        break;\n      case prplCodes.PROGRESSIVE:\n      case prplCodes.HERO:\n        this._createComponents(spec, template, isPreRendering);\n        break;\n      }\n    } else {\n      this._createComponents(spec, template, isPreRendering);\n    }\n\n  }\n\n  /**\n\t * Id for template node\n\t *\n\t * @param  {String} name Template name\n\t *\n\t * @return {String}\n\t */\n  parseTemplateId(name) {\n    return 'cells-template-' + name.replace(/\\./g, '-');\n  }\n\n  parse(name, value) {\n    name = camelize('parse-' + name);\n    return typeof this[name] === 'function' ?\n      this[name](value) :\n      value;\n  }\n\n  printDebugInfo() {\n    var getColor = function (option, color) {\n      var hexColor = option ?\n        color :\n        '#b0bec5';\n      return `background:${hexColor}; color:#fff; padding:2px 4px; margin-right: 5px;`;\n    };\n    console.log(\n      `%cbridge version: ${this.version} %cbinding: ${this.binding} %cprplLevel: ${this.prplLevel} %ccache: ${this.cache} %cpreCache: ${this.preCache} %cpreRender: ${this.preRender} %clogs: ${this.logs}`,\n      getColor(this.version, '#003f8d'),\n      getColor(this.binding, '#0065ba'),\n      getColor(this.prplLevel, '#008ff2'),\n      getColor(this.cache, '#0093e2'),\n      getColor(this.preCache, '#00aeeb'),\n      getColor(this.preRender, '#41cef8'), //#00aeeb\n      getColor(this.logs, '#0025ad') //#00aeeb\n    );\n\n    if (this.id > 0) {\n      console.log(`%cWARNING: There are ${this.id + 1} simultaneous instances of the Bridge running.`,\n        getColor(this.id, '#FF0000'));\n    }\n  }\n\n  routeHandler() {\n    const { PARSE_ROUTE } = externalEventsCodes;\n    var route = this.Router.currentRoute;\n\n    eventManager.emit(PARSE_ROUTE, route);\n\n    // 2. Load a new page when route changes\n    this._handleRouteLoading(route);\n\n    // 3. Publish URL params to global params.\n    for (let param in route.params) {\n      if (route.params.hasOwnProperty(param)) {\n        let eventData = {\n          detail: {\n            value: route.params[param]\n          },\n          type: dasherize(param) + '-changed'\n        };\n\n        this.ComponentConnector.manager.get(param).next(eventData);\n      }\n    }\n  }\n\n  /**\n   * Determines if given route maps to a component.\n   *\n   * @param  {Object}  route  Route object.\n   * @return {Boolean}\n   */\n  isRoutableComponent(route) {\n    return this.pages.indexOf(route.name) >= 0;\n  }\n\n  loadTemplate(name, params) {\n    const { cache, method, body, headers, app, templatesPath: templates } = this;\n    const options = { cache, params, method, body, headers };\n    const config = { app, templates };\n\n    return this.PageManager.get(name, options, config);\n  }\n\n  // @TODO DRY -> sanitizer lo usa también\n  loadPolymerWebComponent(name) {\n    const path = Array(2).fill(`${name}-page`).join('/');\n    const component = { spec: { path: `${path}.html` } };\n\n    return this.ImportManager.loadComponent(component, this.pagesPath);\n  }\n\n  _handleRouteLoading(route) {\n    if (this.isRoutableComponent(route)) {\n      this.createPageFromPolymerWebComponent(route.name).then(() => this.selectPage(route.name, route.params));\n    } else {\n      this.loadTemplate(route.name, route.params).then(response => this.createTemplate(response));\n    }\n  }\n\n  registerCurrentTemplate(currentTemplate, previousTemplate) {\n    const { TEMPLATE_REGISTERED } = externalEventsCodes;\n    const { UI } = bindingCodes;\n    var options = this;\n\n    this.registerChildren(currentTemplate, options.binding === UI ? 'DM' : null);\n\n    if (previousTemplate && previousTemplate !== currentTemplate) {\n      this.unregisterChildren(previousTemplate, options.binding === UI ? 'DM' : null);\n    }\n\n    this._updateChannels(previousTemplate, currentTemplate);\n    eventManager.emit(TEMPLATE_REGISTERED, { template: currentTemplate.name });\n  }\n\n  // this function MAY BE OVERRIDE on native bridge - not required due to internal router updateing the context\n  _updateChannels(previousTemplate, currentTemplate) {\n    if (this.BridgeChannelManager) {\n      var oldName = previousTemplate ? previousTemplate.name : undefined;\n      this.BridgeChannelManager.updateAppContext(oldName, currentTemplate.name);\n      this.BridgeChannelManager.initPrivateChannel(oldName, currentTemplate.name);\n    }\n  }\n\n  registerChildren(template, type) {\n    for (let index = 0; index < template.children.length; index++) {\n      const component = template.children[index];\n      if ((type && type === component.type) || !type) {\n        this.ComponentConnector.register(component.node, component.connections);\n      }\n    }\n  }\n\n  unregisterChildren(template, type) {\n    for (let index = 0; index < template.children.length; index++) {\n      const component = template.children[index];\n      if ((type && type === component.type) || !type) {\n        this.ComponentConnector.unregister(component.node);\n      }\n    }\n  }\n\n  registerInConnection(channelName, node, callback) {\n    this.ComponentConnector.addSubscription(channelName, node, callback);\n  }\n\n  registerOutConnection(channelName, htmlElement, bindName) {\n    this.ComponentConnector.addPublication(channelName, htmlElement, bindName);\n  }\n\n  publish(channelName, value) {\n    this.ComponentConnector.publish(channelName, value);\n  }\n\n  navigate(page, params) {\n    this.Router.go(page, params);\n  }\n\n  // used with createPage (@TODO DELETE) && createPageFromPolymerWebComponent\n  // @TODO unificar con selectTemplate\n  selectPage(name, params) {\n    const { TEMPLATE_REGISTERED } = externalEventsCodes;\n    const template = this.TemplateManager.get(name);\n    const currentTemplate = this.TemplateManager.get(this.TemplateManager.selected);\n    const oldTemplateName = currentTemplate ? currentTemplate.name : null;\n\n    // manage of register & unregister channels current\n    // this.registerCurrentTemplate(template, currentTemplate);\n\n    // @TODO necessary?\n    if (this.onRender) {\n      this.onRender(template.node);\n    }\n\n    this._handleParams(template.node, params);\n    this.TemplateManager.select(name, this.BridgeChannelManager, this.binding);\n\n    if (this.BridgeChannelManager) {\n      this.BridgeChannelManager.updateAppContext(oldTemplateName, name);\n      this.BridgeChannelManager.initPrivateChannel(oldTemplateName, name);\n    }\n\n    eventManager.emit(TEMPLATE_REGISTERED, { template: name });\n  }\n\n  _handleParams(node, params) {\n    const shouldBindParams = node.params && Object.keys(params).length > 0;\n\n    if (shouldBindParams) {\n      node.params = params;\n    }\n  }\n\n  selectTemplate(name, isPreRendering = false) {\n    const { TEMPLATE_TRANSITION_END } = externalEventsCodes;\n    const { CURRENTVIEW, UI, DELAYED } = bindingCodes;\n    let options = this;\n    let template = this.TemplateManager.get(name);\n\n    if ((options.binding === CURRENTVIEW || options.binding === UI) && (isPreRendering !== true)) {\n      // COMPROBAR 5 VECES\n      const currentTemplate = this.TemplateManager.get(this.TemplateManager.selected);\n      const onTemplateAnimationFinishes = () => this.registerCurrentTemplate(template, currentTemplate);\n\n      if (template.node.animationCompleteEvent) {\n        eventManager.listenToOnce(template.node, template.node.animationCompleteEvent, onTemplateAnimationFinishes);\n      } else {\n        eventManager.once(TEMPLATE_TRANSITION_END, onTemplateAnimationFinishes);\n      }\n    }\n    if (options.onRender) {\n      if (template.fixedChildren.length>0) {\n        options.onRender(template.node, template.fixedChildren);\n      } else {\n        options.onRender(template.node);\n      }\n    }\n    // 10. Shows the template created\n    if (isPreRendering !== true) {\n      const animateTemplate = () => this.TemplateManager.select(name, this.BridgeChannelManager, options.binding);\n\n      if (options.binding === DELAYED) {\n        this._idleCallback(animateTemplate);\n      } else {\n        animateTemplate();\n      }\n    }\n  }\n\n  _idleCallback(fn) {\n    this.BridgeChannelManager.getIdleCallbackChannel().first().subscribe(fn);\n  }\n\n  /**\n   *\n   * It subscribe the main node to an event channel.\n   *\n   * @param {*} eventName is the name of the event to subscribe\n   * @param {*} callback is the function to call when the event channel is activated with a new value\n   */\n  subscribeToEvent(eventName, callback) {\n    if (this.externalEvents.indexOf(eventName)<0) {\n      console.warn('Trying to subscribe to a non existing event: ', eventName);\n      return;\n    }\n    if (typeof callback !== 'function') {\n      console.warn('You must provide a function callback to subscribe to the event: ', eventName);\n      return;\n    }\n    let mainNode = this.getMainNode();\n    this.BridgeChannelManager.subscribeToEvent(mainNode, eventName, callback);\n  }\n\n  getMainNode() {\n    if (!this.__mainNodeElement) {\n      this.__mainNodeElement = document.querySelector('#' + this.mainNode);\n    }\n    return this.__mainNodeElement;\n  }\n\n  _resetBridgeChannels() {\n    this.BridgeChannelManager.resetBridgeChannels(this.getMainNode());\n  }\n\n  /**\n   *\n   * Performs a logout action. It resets all channels, removes templates from DOM\n   * and redirects to the initial page\n   *\n   */\n  logout() {\n    const { TEMPLATE_REGISTERED } = externalEventsCodes;\n\n    if (this.TemplateManager.selected === this.initialTemplate) {\n      return;\n    }\n\n    const removeTemplates = () => this.TemplateManager.removeTemplates(this.initialTemplate, this.crossContainerId);\n    const removeCrossComponents = () => this.TemplateManager.removeTemplateChildrens(this.crossContainerId);\n    const removeInitialTemplateToForceFreshLoadingAndCCRegistration = () => this.TemplateManager.removeTemplate(this.initialTemplate);\n\n    this._resetBridgeChannels();\n    removeCrossComponents();\n    removeInitialTemplateToForceFreshLoadingAndCCRegistration();\n    eventManager.once(TEMPLATE_REGISTERED, removeTemplates);\n    this._addInitialSubscribersToEvents();\n    this.Router.init();\n    this.Router.go(this.initialTemplate);\n  }\n}\n\nexport default CellsBridge;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/bridge.js","export default class CellsBridgeConnector {\n\n  _get(options, format) {\n    return new Promise(\n      function(resolve, reject) {\n        var xhr = new XMLHttpRequest();\n        if (!options || !options.url) {\n          reject(new Error('URL not defined'));\n          return;\n        }\n        var method = (options.method || '').toUpperCase() || 'GET';\n        xhr.addEventListener('load', (e) => {\n          let xhr = e.target;\n          let status = xhr.status;\n          if ((status >= 200 && status < 300) || (status == 0 && xhr.responseText.length > 0)) {\n            if (format==='json') {\n              resolve(JSON.parse(xhr.response));\n            } else {\n              resolve(xhr.responseText);\n            }\n          } else {\n            reject(new Error(xhr.statusText));\n          }\n        });\n        xhr.addEventListener('error', () => {\n          reject(new Error('Network Error'));\n        });\n        xhr.open(method, options.url);\n        //\n        let headers = options.headers;\n        for (var header in headers) {\n          if (headers.hasOwnProperty(header)) {\n            xhr.setRequestHeader(header, headers[header]);\n          }\n        }\n        xhr.send(options.body);\n      }\n    );\n  }\n\n  getJSON(options) {\n    return this._get(options, 'json');\n  }\n\n  getHTML(options) {\n    return this._get(options, 'html');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/connector.js","import eventManager from '../manager/events';\nimport Constants from '../constants';\n\nconst { externalEventsCodes } = Constants;\n\n/**\n * Class to define core private channels behavior\n */\nlet ActionChannelManager = class ActionChannelManager {\n  constructor(bridge) {\n    this.bridge = bridge;\n    this.PageManager = bridge.PageManager;\n    this.ChannelManager = bridge.BridgeChannelManager;\n    this.TemplateManager = bridge.TemplateManager;\n  }\n\n  subscribeAll() {\n    this.ChannelManager.getBridgeChannel('config').subscribe(evt => this._configSubscriptor(evt));\n    this.ChannelManager.getBridgeChannel('locales').subscribe(evt => this._localesSubscriptor(evt));\n    this.ChannelManager.getBridgeChannel('logout').subscribe(evt => this._logoutSubscriptor(evt));\n  }\n\n  _isAllowedProperty(prop) {\n    return typeof this.bridge[prop] !== 'function';\n  }\n\n  _configSubscriptor(evt) {\n    const { TEMPLATE_REGISTERED } = externalEventsCodes;\n    const selected = this.TemplateManager.selected;\n\n    if (evt.detail) {\n      for (let prop in evt.detail) {\n        if(this._isAllowedProperty(prop)) {\n          this.bridge[prop] = evt.detail[prop];\n        }\n      }\n\n      if (evt.detail.app || evt.detail.pagesPath) {\n        this.PageManager.clear();\n        this.TemplateManager.removeTemplates(selected, this.bridge.crossContainerId);\n        eventManager.once(TEMPLATE_REGISTERED, () => this.TemplateManager.removeTemplate(selected));\n      }\n    }\n  }\n\n  _localesSubscriptor(evt) {\n    if (window.I18nMsg && evt.detail && evt.detail.lang) {\n      window.I18nMsg.lang = evt.detail.lang;\n    }\n  }\n\n  _logoutSubscriptor() {\n    this.bridge.logout();\n    this.subscribeAll();\n  }\n};\n\nexport default ActionChannelManager;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/manager/action-channels.js","import { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/observable/fromEvent';\nimport 'rxjs/add/operator/first';\n\nlet BridgeChannelManager = class BridgeChannelManager {\n  constructor(bridge) {\n    this.componentConnector = bridge.ComponentConnector;\n    this.privateChannels = new Set();\n  }\n\n  /**\n   * Returns the name of the application context channel.\n   */\n  getAppContextChannelName() {\n    return '__bridge_app';\n  }\n\n  /**\n   * Returns the name of the channels that has cancelations of back navigations.\n   */\n  getCancelledBackNavigationChannelName() {\n    return '__bridge_cancelled_back_navigation';\n  }\n\n  /**\n   * Returns the prefix for private channels.\n   */\n  getPrivateChannelPrefix() {\n    return '__bridge_page_';\n  }\n\n  /**\n   * Returns the prefix for event channels.\n   */\n  getEventChannelPrefix() {\n    return '__bridge_evt_';\n  }\n\n  /**\n   * Returns the prefix for generic channels.\n   */\n  getBridgeChannelPrefix() {\n    return '__bridge_ch_';\n  }\n\n  /**\n   * Gets a channel that is for exclusive use of the bridge.\n   * If the channel doesn't exist, it creates one channel with.\n   *\n   * @param name of the channel to retrieve/create\n   *\n   * @return {Channel}\n   *\n   */\n  getBridgeChannel(channelName) {\n    return this.componentConnector.manager.get(this.getBridgeChannelPrefix() +  channelName);\n  }\n\n  getIdleCallbackChannel() {\n    return Observable.create(function (observer) {\n      observer.next(true);\n    });\n  }\n\n  /**\n   * Gets the application context channel.\n   *\n   * @return {Channel}\n   */\n  getAppContextChannel() {\n    return this.componentConnector.manager.get(this.getAppContextChannelName());\n  }\n\n  /**\n   * Gets the cancelled back navigations channel.\n   *\n   * @return {Channel}\n   */\n  getCancelledBackNavigationChannel() {\n    return this.componentConnector.manager.get(this.getCancelledBackNavigationChannelName());\n  }\n\n  /**\n   * Gets the private channel that corresponds to a page.\n   *\n   * @param  {String} pageName\n   *\n   * @return {Channel}\n   */\n  getPrivate(pageName) {\n    let newName = this.getPrivateChannelPrefix() + pageName;\n    let channel = this.componentConnector.manager.get(newName);\n    this.privateChannels.add(newName);\n    return channel;\n  }\n\n  /**\n   * Creates and initializes the application context channel.\n   *\n   */\n  initAppContextChannel() {\n    this.getAppContextChannel();\n  }\n\n  /**\n   * Creates and initializes the cancelled back navigation channel.\n   *\n   */\n  initCancelledBackNavigationChannel() {\n    this.getCancelledBackNavigationChannel();\n  }\n\n  /**\n   * Initializes the private chanel for the given page.\n   *\n   * @param {String} pageName\n   *\n   */\n  initPrivateChannel(oldPageName, newPageName) {\n    // let oldPrivateChannelName;\n    // let newPrivateChannelName;\n    let channel;\n    let evt;\n    if (oldPageName) {\n      // oldPrivateChannelName = this.getPrivateChannelPrefix() + oldPageName;\n      // channel = this.componentConnector.manager.get(oldPrivateChannelName);\n      channel = this.getPrivate(oldPageName);\n      evt = this.componentConnector.createEvent('page-load', false);\n      channel.next(evt);\n    }\n    // newPrivateChannelName = this.getPrivateChannelPrefix() + newPageName;\n    // channel = this.componentConnector.manager.get(newPrivateChannelName);\n    channel = this.getPrivate(newPageName);\n    evt = this.componentConnector.createEvent('page-load', true);\n    channel.next(evt);\n  }\n\n  /**\n   * Updates the application context.\n   * Puts in context the information of the current page and previous active page.\n   *\n   * @param {String} oldPage was the previous current page\n   * @param {String} newPage is the page that becomes the current page\n   *\n   */\n  updateAppContext(oldPage, newPage) {\n    let evt = this.componentConnector.createEvent('app-context', {\n      currentPage: newPage,\n      fromPage: oldPage\n    });\n    this.getAppContextChannel().next(evt);\n  }\n\n  publishCancelledBackNavigation(navigation) {\n    let evt = this.componentConnector.createEvent('back-nav-cancelled', navigation);\n    this.getCancelledBackNavigationChannel().next(evt);\n  }\n\n  /**\n   * returns true if the given name matches a private channel's name\n   *\n   * @param {String} name\n   *\n   * @return {Boolean}\n   */\n  isPrivateChannel(name) {\n    return name.indexOf(this.getPrivateChannelPrefix()) === 0;\n  }\n\n  /**\n   * returns true if there's a private channel with the given name\n   *\n   * @param {String} name\n   *\n   * @return {Boolean}\n   */\n  isActivePrivateChannel(name) {\n    return this.privateChannels.has(name);\n  }\n\n  /**\n   * resets all channels, including the private channels.\n   * It removes all observers and publications.\n   *\n   */\n  resetBridgeChannels(mainNode) {\n    let bridgeChannels = Object.keys(this.componentConnector.manager.channels);\n\n    bridgeChannels.forEach(function(chnlName) {\n      let chnl = this.componentConnector.manager.get(chnlName);\n      chnl.clean();\n      chnl.unsubscribeAll();\n    }.bind(this));\n\n    this.componentConnector.unregister(mainNode);\n  }\n\n  initEventChannels(node, externalEvents) {\n    externalEvents.forEach(function(eventName) {\n      let prefix = this.getEventChannelPrefix();\n      let channelName = prefix + eventName;\n      let channel = this.componentConnector.manager.get(channelName);\n      let source = Observable.fromEvent(node, eventName);\n      source.subscribe(function(event) {\n        channel.next(event);\n      });\n    }.bind(this));\n  }\n\n  subscribeToEvent(node, eventName, callback) {\n    let prefix = this.getEventChannelPrefix();\n    let channelName = prefix + eventName;\n    let subscriptor = this.componentConnector.getSubscriptor(node);\n    let channel = this.componentConnector.manager.get(channelName);\n    callback.node = node;\n    subscriptor.subscribe(channel, callback);\n  }\n}\n\n/**\n * BridgeChannelManager definition\n */\nexport default BridgeChannelManager;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/manager/bridge-channels.js","import eventManager from './events';\nimport Constants from '../constants';\n\nconst { externalEventsCodes } = Constants;\n\nvar _after = function (times, func) {\n  return function () {\n    if (--times < 1) {\n      return func();\n    }\n  };\n};\n\nlet CellsManagerImport = class CellsManagerImport {\n  _importElement(endPoint, componentPath, callback) {\n    var node = document.createElement('link');\n    node.rel = 'import';\n    node.href = endPoint + componentPath;\n    node.onload = callback;\n    node.onerror = callback;\n    node.setAttribute('async', '');\n\n    document.head.appendChild(node);\n  }\n\n  _importElementPromise(endPoint, componentPath) {\n    return new Promise(resolve => {\n      this._importElement(endPoint, componentPath, resolve);\n    });\n  }\n\n  loadBundleForTemplate(baseUri, pageName, callback) {\n    return new Promise((resolve) => {\n      const finishComponentLoading = () => {\n        if (callback) {\n          callback.call(this);\n        }\n\n        resolve();\n      };\n\n      this._importElement(baseUri, pageName + '.html', finishComponentLoading);\n    });\n  }\n\n  loadComponent(component, baseUri, callback) {\n    const { BEFORE_IMPORT, AFTER_IMPORT } = externalEventsCodes;\n\n    return new Promise((resolve) => {\n      const finishComponentLoading = () => {\n        if (callback) {\n          callback.call(this);\n        }\n\n        resolve();\n      };\n\n      var list = component;\n\n      if (!Array.isArray(list)) {\n        list = [component];\n      }\n\n      if (list.length === 0) {\n        finishComponentLoading();\n        return;\n      }\n\n      eventManager.emit(BEFORE_IMPORT);\n\n      var iCb = _after(list.length, () => {\n        eventManager.emit(AFTER_IMPORT);\n        finishComponentLoading();\n      });\n\n      for (let index = 0; index < list.length; index++) {\n        const item = list[index];\n        this._importElement(baseUri, item.spec.path, iCb);\n      }\n    });\n  }\n\n  loadComponentByPriority(component, baseUri, callback) {\n    const { BEFORE_IMPORT, AFTER_IMPORT } = externalEventsCodes;\n\n    let list = component;\n    if (!Array.isArray(list)) {\n      list = [component];\n    }\n\n    if (list.length === 0) {\n      if (callback) {\n        callback.call(this);\n      }\n      return;\n    }\n\n    let priorityLists = this._createPriorityLists(list);\n\n    eventManager.emit(BEFORE_IMPORT);\n\n    this._chainElementLoading(baseUri, priorityLists, 0).then(() => {\n      eventManager.emit(AFTER_IMPORT);\n      if (callback) {\n        callback.call(this);\n      }\n    });\n  }\n\n  _createSortedArratByPriorityAndUniqueElements(list) {\n    list.sort((a, b) => {\n      let priorityA = (a.priority || 1000);\n      let priorityB = (b.priority || 1000);\n      if (priorityA === priorityB) {\n        return a.spec.path <= b.spec.path ? -1 : 1\n      } else {\n        return priorityA - priorityB;\n      }\n    });\n    return list.filter((elem, pos, arr) => {\n      return pos === 0 || elem.spec.path !== arr[pos - 1].spec.path;\n    });\n  }\n\n  _createPriorityLists(list) {\n    let sortedList = this._createSortedArratByPriorityAndUniqueElements(list);\n    let currentPriority = sortedList[0].priority;\n    let priorityLists = [[]];\n    let pivote = 0;\n    for (let index = 0; index < sortedList.length; index++) {\n      const item = sortedList[index];\n      if (item.priority === currentPriority) {\n        priorityLists[pivote].push(item);\n      } else {\n        currentPriority = item.priority;\n        priorityLists.push([]);\n        pivote = priorityLists.length - 1;\n        priorityLists[pivote].push(item);\n      }\n    }\n    return priorityLists;\n  }\n\n  _chainElementLoading(baseUri, elementPriorityLists, index) {\n    const currentPromises = [];\n\n    if (elementPriorityLists.length === index) {\n      return Promise.resolve();\n    }\n\n    for (let j = 0; j < elementPriorityLists[index].length; j++) {\n      currentPromises.push(this._importElementPromise(baseUri, elementPriorityLists[index][j].spec.path));\n    }\n\n    const count = index + 1; // OJO!!! Si no creamos variable intermedia / scoped, y hacemos count++, siempre cogerá el valor inicial.\n\n    return Promise.all(currentPromises).then(() => this._chainElementLoading(baseUri, elementPriorityLists, count));\n  }\n}\n\nexport default CellsManagerImport;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/manager/import.js","import CellsStorage from './storage';\nimport CellsConnector from '../connector';\nimport CellsSanitizer from '../sanitizer';\nimport eventManager from './events';\nimport Constants from '../constants';\n\nconst { externalEventsCodes } = Constants;\n\n\n/**\n * Class that retrieves pages either from the cache or by fetching them using http requests.\n * This class can handle:\n *  - dynamic pages: the one that are defined in json files.\n *  Also, dynamic pages can be localy located o remotely located.\n *  - static pages: the one that are defined in html files\n *\n * @param {CellsBridge} bridge\n *\n * The constructor receives a CellsBridge that has all the needed configuration:\n *\n * The property 'templatesPath' indicates the path where the local pages are located.\n * It must be defined only if there are local pages.\n *\n * The property 'composerEndpoint' indicates the url where the local pages are located.\n * This url must have the literals '{id}' and '{platform}'. It must be defined only if there are remote pages.\n *\n * The property 'remoteTemplates' is an array that contains the name of the remote templates\n * (just the name, not the extension).\n * It must be defined only if there are remote pages.\n *\n  * The property 'htmlPagesPath' is the path to the folder that contains the html pages.\n *\n * The property 'htmlPages' is an array that contains the name of the static html pages\n * (just the name, not the extension).\n *\n * The property 'appId' is the application's id.\n *\n * The property 'getPlatform' is a function, usually defined in the app.js file, that returns\n * a string indicating the platform that runs the application (for instance: destkop, ios or android).\n */\nlet CellsManagerPage = class CellsManagerPage {\n  constructor(bridge) {\n    this._initCellsPageManager(bridge);\n  }\n\n  _initCellsPageManager(bridge) {\n    const { htmlPagesPath = './pages/', htmlPages, templatesPath, composerEndpoint, remoteTemplates, appId, getPlatform, cache, storagePrefix: prefix } = bridge;\n    const storage = new CellsStorage({ prefix, persistent: cache });\n    const connector =  new CellsConnector();\n    const sanitizer = new CellsSanitizer();\n\n    Object.assign(this, {\n      storage,\n      htmlPagesPath,\n      htmlPages,\n      templatesPath,\n      composerEndpoint,\n      remoteTemplates,\n      appId,\n      getPlatform,\n      cache,\n      connector,\n      sanitizer\n    });\n  }\n\n  _remoteTemplate(page) {\n    let replaced = this.composerEndpoint.replace(/{appId}/, this.appId);\n    if (this.getPlatform) {\n      replaced = replaced.replace(/{platform}/, this.getPlatform());\n    }\n    replaced = replaced.replace(/{page}/, page);\n    return replaced;\n  }\n\n  _localTemplate(page) {\n    const endpoint = !this.templatesPath ? this.composerEndpoint : this.templatesPath;\n\n    return `${endpoint}${page}.json`;\n  }\n\n  _isLocalComposer(page) {\n    let result = true;\n    const hasTemplatePath = this.templatesPath && this.templatesPath.length > 0;\n    const hasRemoteTemplates = this.remoteTemplates && this.remoteTemplates.length > 0;\n    // legacy case when there was just composerEndpoint and\n    // it could be a directory or an url\n    const oldWayOnlyCompopserEndpointDefined = this.composerEndpoint && !hasTemplatePath && !hasRemoteTemplates;\n    if (oldWayOnlyCompopserEndpointDefined) {\n      result = this.composerEndpoint.indexOf('http') !== 0;\n    } else {\n      if (this.composerEndpoint && this.remoteTemplates) {\n        result = this.remoteTemplates.indexOf(page) < 0;\n      } else {\n        result = true;\n      }\n    }\n    return result;\n  }\n\n  _renderComposerEndpoint(page) {\n    if (this._isLocalComposer(page)) {\n      return this._localTemplate(page);\n    } else {\n      return this._remoteTemplate(page);\n    }\n  }\n\n  /**\n   * Returns the url needed to retrieve a page. It handles theese cases:\n   *  - page is dynamic (json file) and remote\n   *  - page is dynamic (json file) and local\n   *  - page is static (html file)\n   *\n   * @param {String} page is the name of the page to retrieve\n   */\n  generateRequestUrl(page) {\n    if (this.htmlPages && this.htmlPages.indexOf(page) >= 0) {\n      return this.htmlPagesPath + page + '.html';\n    } else {\n      return this._renderComposerEndpoint(page);\n    }\n  }\n\n  /**\n   * @param {Object} page\n   */\n  // eslint-disable-next-line no-unused-vars\n  onPageDefinitionNotFound(page) {\n    // Overwrite to make something when page definition is not found.\n  }\n\n  clear() {\n    this.storage.clear();\n  }\n\n  /**\n   * Returns a promise that retrieves a dynamic page (json file).\n   * The page may come from the cache or from a http request.\n   *\n   * @param {String} page name\n   * @param {Object} options for http request\n   * @param {Object} configuration\n   */\n  get(page, options, config) {\n    const spec = this.storage.getItem(page);\n\n    if (this.cache && spec) {\n      return Promise.resolve(spec);\n    } else {\n      return this._getFromConnector(page, options, config);\n    }\n  }\n\n  _getFromConnector(page, options, config) {\n    const { PAGE_REQUEST } = externalEventsCodes;\n\n    options = options || {};\n    options.url = this.generateRequestUrl(page, options, config);\n\n    eventManager.emit(PAGE_REQUEST, options);\n\n    return this.connector.getJSON(options)\n      .then(response => this._onResponse(page, options, response))\n      .catch(error => {\n        this._onResponseFail(page);\n        console.error(error);\n        return error.message;\n      });\n  }\n\n  /**\n   * Returns a promise that retrieves a static page (html file).\n   * The page comes from a http request.\n   *\n   * @param {String} page name\n   * @param {Object} options for http request\n   */\n  getPage(page, options) {\n    const { PAGE_REQUEST } = externalEventsCodes;\n\n    options = options || {};\n    options.url = this.generateRequestUrl(page);\n\n    eventManager.emit(PAGE_REQUEST, options);\n\n    return this.connector.getHTML(options)\n      .then(response => this._onResponseHTML(page, options, response))\n      .catch(error => {\n        this._onResponseFail(page);\n        console.error(error);\n        return error.message;\n      });\n  }\n\n  //getComponentPage(...)\n\n  _onResponse(page, options, response) {\n    const { PAGE_RESPONSE, DATA_LOAD } = externalEventsCodes;\n\n    response.page = page;\n\n    eventManager.emit(PAGE_RESPONSE, response);\n\n    let sanitizedData = this.sanitizer.parse(response);\n    // sanitizedData = this.bridge.parse('data', sanitizedData);\n\n    this.storage.setItem(page, sanitizedData);\n\n    eventManager.emit(DATA_LOAD, sanitizedData);\n\n    return sanitizedData;\n  }\n\n  _onResponseHTML(page, options, responseText) {\n    const { PAGE_RESPONSE, DATA_LOAD } = externalEventsCodes;\n\n    const response = {\n      page: page,\n      html: responseText\n    };\n\n    eventManager.emit(PAGE_RESPONSE, response);\n\n    const sanitizedData = {\n      page: page,\n      currentPage: {},\n      template: {},\n      components: [],\n      pages: [],\n      html: responseText\n    };\n\n    this.storage.setItem(page, sanitizedData);\n\n    eventManager.emit(DATA_LOAD, sanitizedData);\n\n    return sanitizedData;\n  }\n\n  _onResponseFail(page) {\n    if (this.onPageDefinitionNotFound) {\n      this.onPageDefinitionNotFound(page);\n    }\n\n    return Promise.reject(new Error(`Definition file for page '${page}' not found.`));\n  }\n}\n\nexport default CellsManagerPage;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/manager/page.js","class InMemmoryStorage  {\n  dictionary = {};\n  getItem(key) {\n    return this.dictionary[key] || null;\n  }\n  setItem(key, value) {\n    this.dictionary[key] = value;\n  }\n}\n\nexport default class CellsStorage {\n  prefix = '';\n  persistent = false;\n  internalStorage = new InMemmoryStorage();\n\n  constructor(options) {\n    Object.assign(this, options);\n\n    if (this.persistent) {\n      this.clear();\n    }\n  }\n\n  get storage() {\n    let store;\n    if (this.persistent) {\n      store = window.localStorage;\n    } else {\n      store = window.sessionStorage;\n    }\n    try {\n      store.setItem('_$_', {});\n    } catch (error) {\n      store = this.internalStorage;\n    }\n    return store;\n  }\n\n  getItem(key) {\n    return JSON.parse(this.storage.getItem(this.prefix + key));\n  }\n\n  setItem(key, value) {\n    this.storage.setItem(this.prefix + key, JSON.stringify(value, '', true));\n  }\n\n  clear() {\n    var pattern = new RegExp('^(' + this.prefix + ')');\n\n    for (let key in this.storage) {\n      if (pattern.test(key)) {\n        this.storage.removeItem(key)\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/manager/storage.js","import SEMaaS from 'cells-semaas-adapter';\nimport Constants from './constants';\nimport dotProp from 'dot-prop';\n\nconst { get, set } = dotProp;\nconst {\n  monitoring: {\n    SEMAAS: {\n      mrId, nameSpace, identifier, consumerId\n    },\n  },\n  externalEventsCodes\n} = Constants;\n\n// const flattenObject = (object, separator = '=', join = ', ') => Object.keys(object).map(key => `${key}${separator}${object[key]}`).join(join);\n\nconst {\n  PAGE_READY,\n  PARSE_ROUTE,\n  AFTER_PUBLISH,\n  NAV_REQUEST,\n  BEFORE_SET_ATTR_TO_NODE,\n  AFTER_SET_ATTR_TO_NODE,\n  BEFORE_CREATE_NODE,\n  AFTER_CREATE_NODE,\n  BEFORE_IMPORT,\n  AFTER_IMPORT,\n  PAGE_REQUEST,\n  PAGE_RESPONSE,\n  DATA_LOAD,\n  TEMPLATE_TRANSITION_END,\n  TRACK_EVENT,\n  TEMPLATE_REGISTERED,\n  ROUTER_BACKSTEP,\n  LOG_EVENT\n} = externalEventsCodes;\n\nexport default class Monitoring {\n  bridge = null;\n\n  application = null;\n\n  constructor(bridge) {\n    const { semaas = {}, logs } = bridge;\n\n    if (logs) {\n      const bridgeSemaasConfiguration = this.getBridgeConfiguration(semaas);\n      const applicationSemaasConfiguration = this.getApplicationConfiguration(semaas);\n\n      this.bridge = this.initilizeSEMaaSAdapter(bridgeSemaasConfiguration);\n      this.application = this.initilizeSEMaaSAdapter(applicationSemaasConfiguration);\n    }\n  }\n\n  getBridgeConfiguration(semaasConfiguration) {\n    const { environment, policy } = semaasConfiguration;\n\n    return {\n      policy,                     // configuration object\n      mrId,                       // bridge constant\n      nameSpace,                  // bridge constant\n      identifier,                 // bridge constant\n      consumerId,                 // bridge constant\n      environment,                // configuration object\n    };\n  }\n\n  getApplicationConfiguration(semaasConfiguration) {\n    const { environment, policy, mrId, nameSpace, consumerId } = semaasConfiguration;\n\n    return {\n      policy,                     // configuration object\n      mrId,                       // configuration object\n      nameSpace,                  // configuration object\n      identifier: 'application',  // configuration object\n      consumerId,                 // configuration object\n      environment,                // configuration object\n    };\n  }\n\n  initilizeSEMaaSAdapter(configuration) {\n    return new SEMaaS(configuration);\n  }\n\n  logBridge(log) {\n    this.bridge.log(log);\n  }\n\n  logApplication(log) {\n    this.application.log(log);\n  }\n\n  ingest(spans) {\n    this.application.ingest(spans);\n  }\n\n  createSpan(data) {\n    return this.application && this.application.createSpan(data);\n  }\n\n  createUUID() {\n    return this.application && this.application.createUUID();\n  }\n\n  hasApplicationLoggingEnabled() {\n    return !!this.application;\n  }\n\n  buildLog(eventName, data) {\n    const { detail } = data;\n    const DEFAULT_LOG = {\n      message: `cells-bridge::${eventName}`,\n      properties: {}\n    };\n    const log = Object.assign({}, detail, DEFAULT_LOG);\n\n    switch (eventName) {\n    case PAGE_READY: {\n      const { page, components } = data;\n\n      log.properties = {\n        page,\n        components,\n      };\n      break;\n    }\n    case PARSE_ROUTE: {\n      const { name, params, pattern } = data;\n      //const normalizedParams = flattenObject(params);\n\n      log.properties = {\n        route: name,\n        //params: normalizedParams,\n        params,\n        pattern,\n      };\n      break;\n    }\n    case NAV_REQUEST: {\n      const { event, detail } = data;\n      const { page } = detail;\n      const params = event.detail;\n      //const normalizedParams = flattenObject(params);\n\n      //trace.description = `Page: ${page}, params: ${normalizedParams}`;\n      log.properties = {\n        page,\n        params\n      };\n      break;\n    }\n    case PAGE_REQUEST: {\n      const { params, url } = data;\n\n      log.properties = {\n        params,\n        url\n      };\n\n      break;\n    }\n    case PAGE_RESPONSE: {\n      log.properties = Object.assign({}, data);\n      break;\n    }\n    // Special case.\n    // We canalize the log message through the rest of bridge events - as we need to deflate data from channels\n    case LOG_EVENT: {\n      const { detail, event } = data;\n      const { message, properties } = detail;\n      const { detail: eventDetail } = event;\n\n      log.message = message;\n      log.properties = this.unflattenData(properties, eventDetail); // unflatten(properties, event)\n      break;\n    }\n    case AFTER_PUBLISH:\n    case BEFORE_SET_ATTR_TO_NODE:\n    case AFTER_SET_ATTR_TO_NODE:\n    case BEFORE_CREATE_NODE:\n    case AFTER_CREATE_NODE:\n    case BEFORE_IMPORT:\n    case AFTER_IMPORT:\n    case DATA_LOAD:\n    case TEMPLATE_TRANSITION_END:\n    case TRACK_EVENT:\n    case TEMPLATE_REGISTERED:\n    case ROUTER_BACKSTEP:\n      console.log(`${eventName} - ${data}`);\n      break;\n    }\n\n    return log;\n  }\n\n  isBridgeLoggableEvent(eventName) {\n    const LOGGABLE_EVENTS = [\n      PAGE_READY,\n      PARSE_ROUTE,\n      NAV_REQUEST,\n      PAGE_REQUEST,\n      PAGE_RESPONSE,\n    ];\n\n    return LOGGABLE_EVENTS.includes(eventName);\n  }\n\n  unflattenData(properties, values) {\n    const result = {};\n\n    Object.keys(properties).forEach(key => {\n      const property = properties[key];\n      let value = null;\n\n      if (property instanceof Object) {\n        const { bind: valuePath } = property;\n\n        value = get(values, valuePath);\n      } else {\n        value = property;\n      }\n\n      set(result, key, value);\n    });\n\n    return result;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/monitoring.js","export default class NavigationStack {\n  constructor() {\n    this.navStack = [];\n    this.skipNav = {};\n  }\n\n  get length() {\n    return this.navStack.length;\n  }\n\n\n  addSkipNavigation(nav) {\n    if (nav.skipHistory === true || nav.skipHistory === false) {\n      this.skipNav[`${nav.from}:${nav.to}`] = nav.skipHistory;\n    }\n  }\n\n  _reverseNavigation(nav) {\n    return {\n      from: nav.to,\n      to: nav.from\n    };\n  }\n\n  isSkipNavigation(nav) {\n    return this.skipNav[`${nav.from}:${nav.to}`] === true;\n  }\n\n  lastNavigation() {\n    const navCount = this.navStack.length;\n    let from;\n    let to;\n    if (navCount === 1) {\n      to = this.navStack[0];\n    } else if (navCount > 1) {\n      to = this.navStack[navCount-1];\n      from = this.navStack[navCount-2];\n    }\n    return this.createNavigation(from, to);\n  }\n\n  createRoute(page, params = {}) {\n    return {\n      page,\n      params\n    }\n  }\n\n  createNavigation(routeFrom, routeTo) {\n    return {\n      from: routeFrom ? routeFrom.page : undefined,\n      to: routeTo ? routeTo.page : undefined\n    }\n  }\n\n  push(route) {\n    if (!this.top() || this.top().page !== route.page) {\n      this.navStack.push(route);\n    }\n  }\n\n  pop() {\n    return this.navStack.pop();\n  }\n\n  top() {\n    return this.navStack.length > 0 ? this.navStack[this.navStack.length - 1] : undefined;\n  }\n\n  isBackwardNavigation(newNav) {\n    const lastNav = this.lastNavigation();\n    return lastNav && newNav.from === lastNav.to && newNav.to === lastNav.from;\n  }\n\n  update(routeFrom, routeTo) {\n    const nav = this.createNavigation(routeFrom, routeTo);\n    if (this.isBackwardNavigation(nav)) {\n      while(this.isSkipNavigation(this._reverseNavigation(this.lastNavigation()))) {\n        this.pop();\n      }\n      this.pop();\n    } else {\n      this.push(routeTo);\n    }\n    return this.top();\n  }\n\n  clear() {\n    this.navStack = [];\n  }\n\n  replaceRoute(route) {\n    if (this.navStack.length > 0) {\n      this.navStack[this.navStack.length - 1] = route;\n    } else {\n      this.push(route);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/navigation-stack.js","export default class Route {\n  static PARAM = /(?::([^/]+))/g;\n  static TRAILING_SLASHES = /\\/*$/;\n  static _404_PAGE_NAME = '404';\n\n  name = '';\n  pattern = '';\n  regexp = null;\n  redirectPage = null;\n  isAccessible = true; // needed to discriminate between 404 and rest of pages with same pattern\n\n  /**\n   * @private\n   * @param {String} routeName\n   * * @param {String} pattern\n   * @return {Object}\n   */\n  constructor(name, pattern) {\n    this.name = name;\n    this.pattern = pattern;\n    var regexp = pattern\n      .replace(Route.PARAM, '([^/]+)')\n      .replace(Route.TRAILING_SLASHES, '/*');\n    this.regexp = new RegExp('^' + regexp + '$');\n    var parts;\n    var keys = [];\n    while ((parts = Route.PARAM.exec(pattern)) !== null) {\n      keys.push(parts[1]);\n    }\n    this.keys = keys;\n  }\n\n  path(params) {\n    params = params || {};\n    this.params = {};\n    var parts;\n    var path = this.pattern;\n    while ((parts = Route.PARAM.exec(this.pattern)) !== null) {\n      path = path.replace(parts[0], params[parts[1]]);\n      this.params[parts[1]] = params[parts[1]];\n    }\n    var queryParams = [];\n    for (var param in params) {\n      if (!this.params.hasOwnProperty(param)) {\n        queryParams.push(param + '=' + encodeURIComponent(params[param]));\n      }\n    }\n    if (queryParams.length) {\n      path += '?' + queryParams.join('&');\n    }\n    return path;\n  }\n\n  matchPath(path) {\n    return path.match(this.regexp);\n  }\n\n  parsePath(path) {\n    var match = this.matchPath(path);\n    this.params = {};\n    if (match) {\n      var i = 1;\n      var parts;\n      while ((parts = Route.PARAM.exec(this.pattern)) !== null) {\n        this.params[parts[1]] = this._parseParam(match[i]);\n        i++;\n      }\n    }\n  }\n\n  parseQuery(query) {\n    this.query = query;\n    for (var queryParam in this.query) {\n      this.params[queryParam] = this.query[queryParam];\n    }\n  }\n\n  /**\n   * @return {Boolean}\n   */\n  is404() {\n    return this.name === Route._404_PAGE_NAME;\n  }\n\n  /**\n   * @private\n   * @param {String} value\n   * @return {Boolean}\n   */\n  _isNumber(value) {\n    return parseInt(value) + '' === value || parseFloat(value) + '' === value;\n  }\n\n  /**\n   * @private\n   * @param {String} param\n   * @return {String|Number}\n   */\n  _parseParam(param) {\n    if (this._isNumber(param)) {\n      param = +param;\n    }\n\n    return param;\n  }\n\n  handler() {\n    // Overwrite to make something with the current route\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/route.js","import Route from './route';\n\nimport { Subscription } from 'rxjs/Subscription';\nimport { Observable } from 'rxjs/Observable';\n\nimport 'rxjs/add/observable/fromEvent';\nimport 'rxjs/add/observable/merge';\n\nimport 'rxjs/add/operator/distinctUntilChanged';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/startWith';\n\nimport eventManager from './manager/events';\n\nimport NavigationStack from './navigation-stack';\n\nimport Constants from './constants';\n\nconst { EMPTY } = Subscription;\nconst { externalEventsCodes } = Constants;\n\nlet instance = null;\n\nlet _useHistory = false;\nlet _routes = {};\nlet _disposables;\nlet _currentRoute;\nlet _404Route;\n\n/**\n * @class SerialSubscription\n * Mimics behavior of SerialDisposable in RxJS v4,\n * allows to add only single subscription. If new subscription's added,\n * existing subscription will be unsubscribed.\n *\n * By design of RxJS v5 it is no longer recommended to manage subscription\n * imperatively vis various kind of subscription, reason it only have single\n * kind of composite subscription. This implementation is for interop between\n * existing codebases.\n * @extends {Subscription}\n */\nclass SerialSubscription extends Subscription {\n  constructor() {\n    super();\n    this._currentSubscription = EMPTY;\n  }\n\n  /**\n   * Adds a tear down to be called during the unsubscribe() of this\n   * Subscription.\n   *\n   * If there's existing subscription, it'll be unsubscribed and\n   * removed.\n   *\n   * @param {TeardownLogic} teardown The additional logic to execute on\n   * teardown.\n   * @return {Subscription} Returns the Subscription used or created to be\n   * added to the inner subscriptions list. This Subscription can be used with\n   * `remove()` to remove the passed teardown logic from the inner subscriptions\n   * list.\n   */\n  add(teardown) {\n    if (this.closed) return;\n    if (typeof(teardown) === 'function') teardown = new Subscription(teardown);\n\n    if (this._currentSubscription) {\n      this.remove(this._currentSubscription);\n      this._currentSubscription.unsubscribe();\n      this._currentSubscription = null;\n    }\n\n    super.add(this._currentSubscription = teardown);\n  }\n}\n\nexport default class Router {\n  static SUPPORTS_HISTORY_API = window.history && 'pushState' in window.history;\n\n  static PARAM = /(?::([^/]+))/g;\n  static LTRIM_SLASH = /^\\/(\\b)/;\n  static EMPTY = /^$/;\n\n  static HASH_PREFIX = /^#!?\\/*/;\n  static PATH_PREFIX = /^\\/*/;\n\n  static isNavigationInProgress = false;\n\n  navigationStack;\n\n  constructor() {\n    const { TEMPLATE_TRANSITION_END} = externalEventsCodes;\n\n    if (!instance) {\n      instance = this;\n    }\n\n    this.navigationStack = this._createNavigationStack();\n\n    eventManager.on(TEMPLATE_TRANSITION_END, () => {\n      this.isNavigationInProgress = false;\n    });\n\n    return instance;\n  }\n\n  _createNavigationStack() {\n    return new NavigationStack();\n  }\n\n  /**\n   * @param {Boolean} value\n   */\n  set useHistory(value) {\n    /* istanbul ignore else */\n    if (Router.SUPPORTS_HISTORY_API) {\n      _useHistory = value;\n    }\n  }\n\n  get useHistory() {\n    return _useHistory;\n  }\n\n  set routes(routes) {\n    _routes = routes;\n  }\n\n  get routes() {\n    return _routes;\n  }\n\n  get currentRoute() {\n    return _currentRoute;\n  }\n\n  set currentRoute(route) {\n    _currentRoute = route;\n  }\n  /**\n   * @param {Object} route\n   */\n  // eslint-disable-next-line no-unused-vars\n  handler(route) {\n    // Overwrite to make something after all matched routes\n  }\n\n  addRoute(name, pattern) {\n    this.routes[name] = new Route(name, pattern);\n    return this.routes[name];\n  }\n\n  addRoutes(routes) {\n    var __routes = {};\n    for (var routeName in routes) {\n      __routes[routeName] = this.addRoute(routeName, routes[routeName]);\n    }\n    return __routes;\n  }\n\n  addSkipNavigations(skipNavs) {\n    for (let i = 0; i<skipNavs.length; i++) {\n      this.navigationStack.addSkipNavigation(skipNavs[i]);\n    }\n  }\n\n  /**\n   * @private\n   * @return {String}\n   */\n  _getHashPath() {\n    return location.hash\n      .replace(Router.HASH_PREFIX, '/')\n      .replace(Router.EMPTY, '/');\n  }\n\n  /**\n   * @private\n   * @return {Observable}\n   */\n  _observeHashChange() {\n    return Observable.fromEvent(window, 'hashchange')\n      .map(this._getHashPath)\n      .startWith(this._getHashPath());\n  }\n\n  /**\n   * @private\n   * @return {String}\n   */\n  _getURLPath() {\n    return location.pathname.replace(Router.PATH_PREFIX, '/');\n  }\n\n  /**\n   * @private\n   * @return {Observable}\n   */\n  _observeStateChange() {\n    return Observable.merge(\n      Observable.fromEvent(window, 'popstate'),\n      Observable.fromEvent(window, 'pushstate'))\n      .map(this._getURLPath)\n      .startWith(this._getURLPath());\n  }\n\n  /**\n   * @private\n   * @param {String}\n   * @return {Array}\n   */\n  matchRoute(fullPath) {\n    var route;\n    var [path, query] = fullPath.split('?');\n    query = this._parseQuery(query);\n    for (var routeName in this.routes) {\n      route = this.routes[routeName];\n      if ((!route.is404() || route.isAccessible) && route.matchPath(path)) {\n        route.parsePath(path)\n        route.parseQuery(query);\n        return route;\n      }\n    }\n  }\n\n  _parseQuery(querystr) {\n    const params = {};\n    if (querystr) {\n      // Split into key/value pairs\n      const queries = querystr.split('&');\n      if (queries) {\n        // Convert the array of strings into an object\n        let key, value, i, len = queries.length;\n        for (i = 0; i < len; i++) {\n          [key, value] = queries[i].split('=');\n          params[key] = decodeURIComponent(value);\n        }\n      }\n    }\n    return params;\n  }\n\n  _setup404() {\n    const route404 = this.routes[Route._404_PAGE_NAME];\n\n    // We check if 404 route have a pattern...\n    if (route404 && route404.pattern !== '') {\n      const routeWithSamePattern = this.getRouteWithPattern(route404.pattern);\n\n      // We set redirect page based on, if it's a repeated URL pattern or a unique one.\n      // If it's unique, we set it accesible from the router.\n      // Otherwise, it's going to NOT be accesible from the router (multiple router with same pattern)\n      route404.redirectPage = routeWithSamePattern ? routeWithSamePattern.name : route404.name;\n      route404.isAccessible = !routeWithSamePattern;\n    }\n\n    return route404;\n  }\n\n  getRouteWithPattern(patternToMath) {\n    for (let routeName in this.routes) {\n      let route = this.routes[routeName];\n\n      // we only take care about routes with same patterns that aren't the same\n      if (!route.is404() && route.pattern === patternToMath) {\n        return route;\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   *\n   * @return {Subscription}\n   */\n  start() {\n    /* istanbul ignore else */\n    if (!_disposables) {\n      var active = new SerialSubscription();\n\n      _404Route = this._setup404();\n\n      const source = this.useHistory ?\n        this._observeStateChange() :\n        this._observeHashChange();\n\n      const subscription = source\n        .distinctUntilChanged()\n        .map(this.matchRoute.bind(this))\n        .forEach(route => {\n          if (route) {\n            const currentRouteName = this.currentRoute ? this.currentRoute.name : undefined;\n            const routeFrom = this.navigationStack.createRoute(currentRouteName);\n            const routeTo = this.navigationStack.createRoute(route.name);\n            const newRouteName = this.navigationStack.update(routeFrom, routeTo).page;\n            if (newRouteName !== routeTo.page) {\n              this.go(newRouteName, undefined, false);\n              return;\n            }\n            _currentRoute = route;\n            var disposable = new Subscription(() => this.currentRoute);\n            active.add(disposable);\n            this.currentRoute.handler();\n            this.handler(this.currentRoute);\n          } else if (_404Route && _404Route.redirectPage) {\n            this.goReplacing(_404Route.redirectPage);\n          }\n        });\n\n      _disposables = new Subscription(\n        subscription,\n        active\n      );\n    }\n\n    return _disposables;\n  }\n\n  stop() {\n    if (_disposables) {\n      _disposables.unsubscribe();\n      _disposables = null;\n    }\n    this.isNavigationInProgress = false;\n  }\n\n  destroy() {\n    this.stop();\n    this.routes = {};\n  }\n\n  getPath(routeName, params) {\n    const route = this.routes[routeName];\n    if (route) {\n      return route.path(params);\n    } else {\n      console.error('Wrong route name: %s, valid route names: %s', routeName, Object.keys(this.routes).join(', '));\n    }\n  }\n\n  newNavigation(name) {\n    return {\n      'from': this.currentRoute ? this.currentRoute.name : undefined,\n      'to': name\n    }\n  }\n\n  reverseNavigation(nav) {\n    return {\n      from: nav.to,\n      to: nav.from\n    };\n  }\n\n  go(name, params, replace, skipHistory) {\n    if (this.isNavigationInProgress) {\n      return;\n    }\n\n    if (skipHistory !== undefined) {\n      const newNav = this.newNavigation(name);\n      const reverseNav = this.reverseNavigation(newNav);\n      reverseNav.skipHistory = skipHistory;\n      this.navigationStack.addSkipNavigation(reverseNav);\n    }\n\n    const sanitizedName = name.replace(Router.LTRIM_SLASH, '');\n    const path = this.getPath(sanitizedName, params);\n    if (path !== this._getHashPath()) {\n      this.isNavigationInProgress = true;\n      this.updatePathInBrowser(path, replace);\n    }\n  }\n\n  back() {\n    const navigation = {};\n    if (this.navigationStack.length > 1) {\n      let fromRoute = this.navigationStack.pop();\n      let auxFromRoute = fromRoute;\n      let backRoute = this.getLastRoute();\n\n      console.log('back::', fromRoute, backRoute);\n\n      while (this.navigationStack.isSkipNavigation({from: auxFromRoute.page, to: backRoute.page}) && this.navigationStack.length>1) {\n        auxFromRoute = this.navigationStack.pop();\n        if (this.navigationStack.length > 0) {\n          backRoute = this.getLastRoute();\n        }\n      }\n\n      const page = backRoute.page;\n      const params = backRoute.params;\n\n      navigation.from = fromRoute;\n      navigation.to = backRoute;\n\n      this.go(page, params);\n    } else {\n      navigation.from = this.getLastRoute();\n      navigation.to = this.getLastRoute();\n    }\n    return navigation;\n  }\n\n  updatePathInBrowser(path, replace) {\n    if (this.useHistory) {\n      if (replace) {\n        this.historyReplaceState(path);\n      } else {\n        this.historyPushState(path);\n      }\n    } else {\n      if (replace) {\n        this.locationReplace(path);\n      } else {\n        this.locationHash(path);\n      }\n    }\n  }\n\n  goReplacing(name, params) {\n    this.go(name, params, true);\n  }\n\n  historyReplaceState(path) {\n    history.replaceState(null, null, path);\n  }\n\n  historyPushState(path) {\n    history.pushState(null, null, path);\n  }\n\n  locationReplace(path) {\n    location.replace('#!' + path);\n  }\n\n  locationHash(path) {\n    location.hash = '#!' + path;\n  }\n\n  /**\n   * Get last route from stack.\n   *\n   * @returns {Object} Last route from stack.\n   */\n  getLastRoute() {\n    return this.navigationStack.top();\n  }\n\n  /**\n   * Initialize router stack.\n   */\n  init() {\n    _currentRoute = undefined;\n    this._clearStack();\n  }\n\n  /**\n   * Clear the router stack.\n   */\n  _clearStack() {\n    this.navigationStack.clear();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/router.js","// BUILD_TARGET import statement is replaced by NormalModuleReplacementPlugin at build time with desireed target.\n// Possible values: core, native, polymer.\nimport Bridge from './BUILD_TARGET/bridge';\nimport * as metadata from './core/constants';\n\n// TARGETS and BUILD_TARGET are injected through Webpack DefinePlugin,\nconst TARGET_NAMESPACE = TARGETS[BUILD_TARGET] || TARGETS['core'];\nconst { windowExport } = TARGET_NAMESPACE;\n\n// We expose Bridge to Browsers\nwindow[windowExport] = Bridge;\n\n// We expose Bridge Metadata to Node\nmodule.exports = {\n  metadata\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import CellsComponentConnector from '../core/component-connector';\n\nvar _getProperyChangedName = function (name) {\n  var propertyName;\n\n  /* istanbul ignore else */\n  if (!Polymer.Base._EVENT_CHANGED) {\n    Polymer.Base._EVENT_CHANGED = '-changed';\n  }\n  /* istanbul ignore else */\n  if (name.indexOf(Polymer.Base._EVENT_CHANGED, name.length - Polymer.Base._EVENT_CHANGED.length) !== -1) {\n    propertyName = name.slice(0, -Polymer.Base._EVENT_CHANGED.length);\n    propertyName = Polymer.CaseMap.dashToCamelCase(propertyName);\n  }\n\n  return propertyName;\n};\n\n// Hell to test:\nvar _parseActionInEvent = function(evt, targetPath, target) {\n  var path;\n  var value;\n\n  // Check if event is because of property changed.\n  var propertyName = _getProperyChangedName(evt.type);\n\n  if (propertyName && evt.detail && evt.detail.hasOwnProperty('value')) {\n    value = evt.detail.value;\n    targetPath = targetPath || propertyName;\n\n    if (evt.detail.path) {\n      path = evt.detail.path.replace(propertyName, targetPath);\n    } else {\n      path = targetPath;\n    }\n  } else {\n    path = targetPath;\n    value = evt.detail;\n  }\n\n  if (target !== undefined && target.is === undefined && typeof(value) === 'object') {\n    if (Polymer.Element === undefined) {\n      value = JSON.stringify(value);\n    } else {\n      /* istanbul ignore else */\n      if ((target instanceof Polymer.Element) === false) {\n        value = JSON.stringify(value);\n      }\n    }\n  }\n\n  return {\n    path: path,\n    value: value,\n    property: targetPath\n  };\n};\n\nexport default class CellsPolymerComponentConnector extends CellsComponentConnector {\n\n  wrapCallback(node, bindName) {\n    return function(evt) {\n      var _idleCallback = function(fn) {\n        setTimeout(\n          function () {\n            if ('requestIdleCallback' in window) {\n              window.requestIdleCallback(fn);\n            } else {\n              setTimeout(fn, 1);\n            }\n          }, 100\n        );\n      }\n\n      var checkDispatchActionType = function(mutations, observerObject) {\n        /* istanbul ignore else */\n        if (this._isPolymerElement(node)) {\n          if (typeof(bindName) === 'function') {\n            this._dispatchActionFunction(evt, node, bindName);\n          } else {\n            if (typeof node[bindName] === 'function') {\n              this._dispatchActionFunction(evt, node, bindName);\n            } else {\n              this._dispatchActionProperty(evt, node, bindName);\n            }\n          }\n\n          /* istanbul ignore else */\n          if (observerObject) {\n            observerObject.disconnect();\n          }\n        } else {\n          _idleCallback(checkDispatchActionType);\n        }\n      }.bind(this);\n\n      if (this._isPolymerElement(node)) {\n        checkDispatchActionType();\n      } else {\n        var observer = new MutationObserver(checkDispatchActionType);\n        var config = { attributes: false, childList: true, characterData: true };\n        observer.observe(node, config);\n\n        _idleCallback(checkDispatchActionType, 100);\n      }\n    }.bind(this);\n  }\n\n  /**\n   * Return the version of Polymer instance if the node is a Polymer element.\n   * Return -1 if if the node is not a Polymer element.\n   *\n   * @param {Element} node\n   */\n  _whichPolymerVersion(node) {\n    let version = -1;\n    if (Polymer.Element !== undefined && (node instanceof Polymer.Element || node instanceof Polymer.LegacyElementMixin)) {\n      version = 2;\n    } else {\n      /* istanbul ignore else */\n      if (node.__isPolymerInstance__ !== undefined) {\n        version = 1;\n      }\n    }\n    return version;\n  }\n\n  /**\n   * Return true if the node is instance of a Polymer element, otherwise return false.\n   *\n   * @param {Element} node\n   */\n  _isPolymerElement(node) {\n    return this._whichPolymerVersion(node) > 0;\n  }\n\n  /**\n   * Returns true if the event has reached the node that is listening the event\n   *\n   * @param {Event} event\n   */\n  _isEventAtTarget(event) {\n    var atTarget;\n    if (/** For Polymer 2 **/  Polymer.Settings.hasShadow === false || /** For Polymer 2 **/ Polymer.Settings.useShadow === false) {\n      var normalizedEvent = Polymer.dom(event);\n      atTarget = normalizedEvent.localTarget === event.currentTarget;\n    } else {\n      atTarget = super._isEventAtTarget(event);\n    }\n    return atTarget;\n  }\n\n  _dispatchActionFunction(evt, target, method) {\n    var propertyName = _getProperyChangedName(evt.type);\n    var payload;\n\n    if (propertyName && evt.detail && evt.detail.hasOwnProperty('value')) {\n      if (Polymer.dom(evt).rootTarget) {\n        payload = Polymer.dom(evt).rootTarget[propertyName];\n      } else {\n        payload = evt.detail.value;\n      }\n    } else {\n      payload = evt.detail;\n    }\n\n    //TODO: Review to see if we actually want to show this warning.\n    if (this.bridge && this.bridge.debug && this.bridge.parsePayload && ('' + target[method]).indexOf('.data') > -1) {\n      payload = this.bridge.parsePayload(evt.detail);\n      console.warn('%c' + target.tagName + '%c is using an incompatible payload data in ' + method, 'background: #ff9800; color: white; padding: 4px 4px 4px 10px', 'background: #ff9800; color: rgba(255,255,255,0.9); padding: 4px 10px 4px 0');\n    }\n\n    if (typeof(method) === 'function') {\n      method(payload);\n    } else {\n      target[method](payload);\n    }\n  }\n\n  _getTargetProperties(target) {\n    let props;\n\n    if (target.constructor.config) {\n      props = target.constructor.config.properties;\n    } else if (target.constructor._properties) {\n      props = target.constructor._properties\n    }\n\n    return props;\n  }\n\n  _dispatchActionProperty(evt, target, property) {\n    var info;\n    var data = _parseActionInEvent(evt, property, target);\n\n    //check if target is an instance of Polymer Element to check if is a polymer 2 element\n    if (target && target.getPropertyInfo || Polymer.Element !== undefined && (target instanceof Polymer.Element) === false) {\n      if (target.getPropertyInfo) {\n        info = target.getPropertyInfo(data.property)\n      } else {\n        info = this._getTargetProperties(target)[data.property];\n      }\n\n      /* istanbul ignore else */\n      if (info && info.defined && !info.readOnly && !info.computed) {\n        return target.set(data.path, data.value);\n      }\n    }\n    //check if target is an instance of Polymer Element to check if is a polymer 2 element\n    if (target && target.getPropertyInfo === undefined || Polymer.Element !== undefined && (target instanceof Polymer.Element) === false) {\n      info = this._getTargetProperties(target) !== undefined ? this._getTargetProperties(target)[data.property] : undefined;\n\n      /* istanbul ignore else */\n      if (info && !info.readOnly && !info.computed) {\n        return target.set(data.path, data.value);\n      }\n\n    }\n\n    // check if target property is a boolean one and current value is false.\n    // it expects to remove the attribute (as it's a boolean one)\n    if (typeof(data.value) === 'boolean' && !data.value) {\n      return target.removeAttribute(data.path);\n    }\n\n    return target.setAttribute(data.path, data.value);\n  }\n\n  register(node, connections) {\n    super.register(node, connections);\n\n    if (!node || !connections) {\n      return;\n    }\n\n    if (node.__isCellsConnected) {\n      return;\n    }\n\n    /* istanbul ignore else */\n    if (connections.in) {\n      for (let action in connections.in) {\n        /* istanbul ignore else */\n        if (this.manager.get(action)._events[0]) {\n          /* istanbul ignore else */\n          if (connections.ignoreAttr) {\n            connections.ignoreAttr.push(connections.in[action].bind);\n          } else {\n            connections.ignoreAttr = [connections.in[action].bind];\n          }\n        }\n      }\n    }\n\n    /* istanbul ignore else */\n    if (connections.out) {\n      for (let _action in connections.out) {\n        let attrName = _getProperyChangedName(connections.out[_action].bind);\n\n        let polymerVersion = this._whichPolymerVersion(node);\n        if (polymerVersion === 2 ) {\n          /* istanbul ignore else */\n          if (attrName && node.__data && !this.manager.get(_action)._events[0]) {\n            /* istanbul ignore else */\n            if (node && node._hasReadOnlyEffect) {\n              /* istanbul ignore else */\n              if (!node._hasReadOnlyEffect(attrName) && !node._hasComputedEffect(attrName)) {\n                let oldValue = node[attrName];\n                node.__data[attrName] = undefined;\n                node[attrName] = oldValue;\n              }\n            }\n          }\n        } else {\n          /* istanbul ignore else */\n          if (attrName && node.__data__ && !this.manager.get(_action)._events[0]) {\n            /* istanbul ignore else */\n            if (node && node.getPropertyInfo) {\n              var info = node.getPropertyInfo(attrName);\n\n              /* istanbul ignore else */\n              if (info.defined && !info.readOnly && !info.computed) {\n                let oldValue = node[attrName];\n                // remove polymer internal current value to trigger model changes\n                node.__data__[attrName] = undefined;\n                node[attrName] = oldValue;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    node.__isCellsConnected = true;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/polymer/component-connector.js","import CellsBridgeComponent from '../core/component';\nimport { isPolymerElementUnresolved } from './resolution-checker';\n\nexport default class PolymerComponent extends CellsBridgeComponent {\n  isUnresolved() {\n    return isPolymerElementUnresolved(this.node);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/polymer/component.js","import CellsManagerTemplate from '../../core/manager/template';\nimport PolymerTemplate from '../template';\n\nexport default class PolymerTemplateManager extends CellsManagerTemplate {\n  _createCellsTemplate(name, spec) {\n    const cellsTemplate = new PolymerTemplate(spec);\n    const cellsTemplateConfig = this._createCellsTemplateConfig(name);\n\n    cellsTemplate.config(cellsTemplateConfig);\n    return cellsTemplate;\n  }\n\n  _createCellsTemplateConfig(name) {\n    return {\n      name,\n      template: {\n        id: this.parseTemplateId(name),\n        name: this.parseTemplateName(name)\n      }\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/polymer/manager/template.js","import CellsBridgeTemplate from '../core/template';\nimport { isPolymerElementUnresolved } from './resolution-checker';\n\nexport default class PolymerTemplate extends CellsBridgeTemplate {\n  isUnresolved() {\n    return isPolymerElementUnresolved(this.node);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/polymer/template.js","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.SEMaaS = factory());\n}(this, (function () { 'use strict';\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  };\n\n  var asyncToGenerator = function (fn) {\n    return function () {\n      var gen = fn.apply(this, arguments);\n      return new Promise(function (resolve, reject) {\n        function step(key, arg) {\n          try {\n            var info = gen[key](arg);\n            var value = info.value;\n          } catch (error) {\n            reject(error);\n            return;\n          }\n\n          if (info.done) {\n            resolve(value);\n          } else {\n            return Promise.resolve(value).then(function (value) {\n              step(\"next\", value);\n            }, function (err) {\n              step(\"throw\", err);\n            });\n          }\n        }\n\n        return step(\"next\");\n      });\n    };\n  };\n\n  var classCallCheck = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var toConsumableArray = function (arr) {\n    if (Array.isArray(arr)) {\n      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n      return arr2;\n    } else {\n      return Array.from(arr);\n    }\n  };\n\n  /**\n   * Copyright (c) 2014-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n  !function (global) {\n\n    var Op = Object.prototype;\n    var hasOwn = Op.hasOwnProperty;\n    var undefined; // More compressible than void 0.\n    var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n    var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n    var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n    var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n    var inModule = (typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\";\n    var runtime = global.regeneratorRuntime;\n    if (runtime) {\n      if (inModule) {\n        // If regeneratorRuntime is defined globally and we're in a module,\n        // make the exports object identical to regeneratorRuntime.\n        module.exports = runtime;\n      }\n      // Don't bother evaluating the rest of this file if the runtime was\n      // already defined globally.\n      return;\n    }\n\n    // Define the runtime globally (as expected by generated code) as either\n    // module.exports (if we're in a module) or a new, empty object.\n    runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n    function wrap(innerFn, outerFn, self, tryLocsList) {\n      // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n      var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n      var generator = Object.create(protoGenerator.prototype);\n      var context = new Context(tryLocsList || []);\n\n      // The ._invoke method unifies the implementations of the .next,\n      // .throw, and .return methods.\n      generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n      return generator;\n    }\n    runtime.wrap = wrap;\n\n    // Try/catch helper to minimize deoptimizations. Returns a completion\n    // record like context.tryEntries[i].completion. This interface could\n    // have been (and was previously) designed to take a closure to be\n    // invoked without arguments, but in all the cases we care about we\n    // already have an existing method we want to call, so there's no need\n    // to create a new function object. We can even get away with assuming\n    // the method takes exactly one argument, since that happens to be true\n    // in every case, so we don't have to touch the arguments object. The\n    // only additional allocation required is the completion record, which\n    // has a stable shape and so hopefully should be cheap to allocate.\n    function tryCatch(fn, obj, arg) {\n      try {\n        return { type: \"normal\", arg: fn.call(obj, arg) };\n      } catch (err) {\n        return { type: \"throw\", arg: err };\n      }\n    }\n\n    var GenStateSuspendedStart = \"suspendedStart\";\n    var GenStateSuspendedYield = \"suspendedYield\";\n    var GenStateExecuting = \"executing\";\n    var GenStateCompleted = \"completed\";\n\n    // Returning this object from the innerFn has the same effect as\n    // breaking out of the dispatch switch statement.\n    var ContinueSentinel = {};\n\n    // Dummy constructor functions that we use as the .constructor and\n    // .constructor.prototype properties for functions that return Generator\n    // objects. For full spec compliance, you may wish to configure your\n    // minifier not to mangle the names of these two functions.\n    function Generator() {}\n    function GeneratorFunction() {}\n    function GeneratorFunctionPrototype() {}\n\n    // This is a polyfill for %IteratorPrototype% for environments that\n    // don't natively support it.\n    var IteratorPrototype = {};\n    IteratorPrototype[iteratorSymbol] = function () {\n      return this;\n    };\n\n    var getProto = Object.getPrototypeOf;\n    var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n    if (NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n      // This environment has a native %IteratorPrototype%; use it instead\n      // of the polyfill.\n      IteratorPrototype = NativeIteratorPrototype;\n    }\n\n    var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n    GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n    GeneratorFunctionPrototype.constructor = GeneratorFunction;\n    GeneratorFunctionPrototype[toStringTagSymbol] = GeneratorFunction.displayName = \"GeneratorFunction\";\n\n    // Helper for defining the .next, .throw, and .return methods of the\n    // Iterator interface in terms of a single ._invoke method.\n    function defineIteratorMethods(prototype) {\n      [\"next\", \"throw\", \"return\"].forEach(function (method) {\n        prototype[method] = function (arg) {\n          return this._invoke(method, arg);\n        };\n      });\n    }\n\n    runtime.isGeneratorFunction = function (genFun) {\n      var ctor = typeof genFun === \"function\" && genFun.constructor;\n      return ctor ? ctor === GeneratorFunction ||\n      // For the native GeneratorFunction constructor, the best we can\n      // do is to check its .name property.\n      (ctor.displayName || ctor.name) === \"GeneratorFunction\" : false;\n    };\n\n    runtime.mark = function (genFun) {\n      if (Object.setPrototypeOf) {\n        Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n      } else {\n        genFun.__proto__ = GeneratorFunctionPrototype;\n        if (!(toStringTagSymbol in genFun)) {\n          genFun[toStringTagSymbol] = \"GeneratorFunction\";\n        }\n      }\n      genFun.prototype = Object.create(Gp);\n      return genFun;\n    };\n\n    // Within the body of any async function, `await x` is transformed to\n    // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n    // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n    // meant to be awaited.\n    runtime.awrap = function (arg) {\n      return { __await: arg };\n    };\n\n    function AsyncIterator(generator) {\n      function invoke(method, arg, resolve, reject) {\n        var record = tryCatch(generator[method], generator, arg);\n        if (record.type === \"throw\") {\n          reject(record.arg);\n        } else {\n          var result = record.arg;\n          var value = result.value;\n          if (value && (typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === \"object\" && hasOwn.call(value, \"__await\")) {\n            return Promise.resolve(value.__await).then(function (value) {\n              invoke(\"next\", value, resolve, reject);\n            }, function (err) {\n              invoke(\"throw\", err, resolve, reject);\n            });\n          }\n\n          return Promise.resolve(value).then(function (unwrapped) {\n            // When a yielded Promise is resolved, its final value becomes\n            // the .value of the Promise<{value,done}> result for the\n            // current iteration. If the Promise is rejected, however, the\n            // result for this iteration will be rejected with the same\n            // reason. Note that rejections of yielded Promises are not\n            // thrown back into the generator function, as is the case\n            // when an awaited Promise is rejected. This difference in\n            // behavior between yield and await is important, because it\n            // allows the consumer to decide what to do with the yielded\n            // rejection (swallow it and continue, manually .throw it back\n            // into the generator, abandon iteration, whatever). With\n            // await, by contrast, there is no opportunity to examine the\n            // rejection reason outside the generator function, so the\n            // only option is to throw it from the await expression, and\n            // let the generator function handle the exception.\n            result.value = unwrapped;\n            resolve(result);\n          }, reject);\n        }\n      }\n\n      var previousPromise;\n\n      function enqueue(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new Promise(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n\n        return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(callInvokeWithMethodAndArg,\n        // Avoid propagating failures to Promises returned by later\n        // invocations of the iterator.\n        callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n\n      // Define the unified helper method that is used to implement .next,\n      // .throw, and .return (see defineIteratorMethods).\n      this._invoke = enqueue;\n    }\n\n    defineIteratorMethods(AsyncIterator.prototype);\n    AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n      return this;\n    };\n    runtime.AsyncIterator = AsyncIterator;\n\n    // Note that simple async functions are implemented on top of\n    // AsyncIterator objects; they just return a Promise for the value of\n    // the final result produced by the iterator.\n    runtime.async = function (innerFn, outerFn, self, tryLocsList) {\n      var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList));\n\n      return runtime.isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function (result) {\n        return result.done ? result.value : iter.next();\n      });\n    };\n\n    function makeInvokeMethod(innerFn, self, context) {\n      var state = GenStateSuspendedStart;\n\n      return function invoke(method, arg) {\n        if (state === GenStateExecuting) {\n          throw new Error(\"Generator is already running\");\n        }\n\n        if (state === GenStateCompleted) {\n          if (method === \"throw\") {\n            throw arg;\n          }\n\n          // Be forgiving, per 25.3.3.3.3 of the spec:\n          // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n          return doneResult();\n        }\n\n        context.method = method;\n        context.arg = arg;\n\n        while (true) {\n          var delegate = context.delegate;\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (context.method === \"next\") {\n            // Setting context._sent for legacy support of Babel's\n            // function.sent implementation.\n            context.sent = context._sent = context.arg;\n          } else if (context.method === \"throw\") {\n            if (state === GenStateSuspendedStart) {\n              state = GenStateCompleted;\n              throw context.arg;\n            }\n\n            context.dispatchException(context.arg);\n          } else if (context.method === \"return\") {\n            context.abrupt(\"return\", context.arg);\n          }\n\n          state = GenStateExecuting;\n\n          var record = tryCatch(innerFn, self, context);\n          if (record.type === \"normal\") {\n            // If an exception is thrown from innerFn, we leave state ===\n            // GenStateExecuting and loop back for another invocation.\n            state = context.done ? GenStateCompleted : GenStateSuspendedYield;\n\n            if (record.arg === ContinueSentinel) {\n              continue;\n            }\n\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          } else if (record.type === \"throw\") {\n            state = GenStateCompleted;\n            // Dispatch the exception by looping back around to the\n            // context.dispatchException(context.arg) call above.\n            context.method = \"throw\";\n            context.arg = record.arg;\n          }\n        }\n      };\n    }\n\n    // Call delegate.iterator[context.method](context.arg) and handle the\n    // result, either by returning a { value, done } result from the\n    // delegate iterator, or by modifying context.method and context.arg,\n    // setting context.delegate to null, and returning the ContinueSentinel.\n    function maybeInvokeDelegate(delegate, context) {\n      var method = delegate.iterator[context.method];\n      if (method === undefined) {\n        // A .throw or .return when the delegate iterator has no .throw\n        // method always terminates the yield* loop.\n        context.delegate = null;\n\n        if (context.method === \"throw\") {\n          if (delegate.iterator.return) {\n            // If the delegate iterator has a return method, give it a\n            // chance to clean up.\n            context.method = \"return\";\n            context.arg = undefined;\n            maybeInvokeDelegate(delegate, context);\n\n            if (context.method === \"throw\") {\n              // If maybeInvokeDelegate(context) changed context.method from\n              // \"return\" to \"throw\", let that override the TypeError below.\n              return ContinueSentinel;\n            }\n          }\n\n          context.method = \"throw\";\n          context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n        }\n\n        return ContinueSentinel;\n      }\n\n      var record = tryCatch(method, delegate.iterator, context.arg);\n\n      if (record.type === \"throw\") {\n        context.method = \"throw\";\n        context.arg = record.arg;\n        context.delegate = null;\n        return ContinueSentinel;\n      }\n\n      var info = record.arg;\n\n      if (!info) {\n        context.method = \"throw\";\n        context.arg = new TypeError(\"iterator result is not an object\");\n        context.delegate = null;\n        return ContinueSentinel;\n      }\n\n      if (info.done) {\n        // Assign the result of the finished delegate to the temporary\n        // variable specified by delegate.resultName (see delegateYield).\n        context[delegate.resultName] = info.value;\n\n        // Resume execution at the desired location (see delegateYield).\n        context.next = delegate.nextLoc;\n\n        // If context.method was \"throw\" but the delegate handled the\n        // exception, let the outer generator proceed normally. If\n        // context.method was \"next\", forget context.arg since it has been\n        // \"consumed\" by the delegate iterator. If context.method was\n        // \"return\", allow the original .return call to continue in the\n        // outer generator.\n        if (context.method !== \"return\") {\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n      } else {\n        // Re-yield the result returned by the delegate method.\n        return info;\n      }\n\n      // The delegate iterator is finished, so forget it and continue with\n      // the outer generator.\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    // Define Generator.prototype.{next,throw,return} in terms of the\n    // unified ._invoke helper method.\n    defineIteratorMethods(Gp);\n\n    Gp[toStringTagSymbol] = \"Generator\";\n\n    // A Generator should always return itself as the iterator object when the\n    // @@iterator function is called on it. Some browsers' implementations of the\n    // iterator prototype chain incorrectly implement this, causing the Generator\n    // object to not be returned from this call. This ensures that doesn't happen.\n    // See https://github.com/facebook/regenerator/issues/274 for more details.\n    Gp[iteratorSymbol] = function () {\n      return this;\n    };\n\n    Gp.toString = function () {\n      return \"[object Generator]\";\n    };\n\n    function pushTryEntry(locs) {\n      var entry = { tryLoc: locs[0] };\n\n      if (1 in locs) {\n        entry.catchLoc = locs[1];\n      }\n\n      if (2 in locs) {\n        entry.finallyLoc = locs[2];\n        entry.afterLoc = locs[3];\n      }\n\n      this.tryEntries.push(entry);\n    }\n\n    function resetTryEntry(entry) {\n      var record = entry.completion || {};\n      record.type = \"normal\";\n      delete record.arg;\n      entry.completion = record;\n    }\n\n    function Context(tryLocsList) {\n      // The root entry object (effectively a try statement without a catch\n      // or a finally block) gives us a place to store values thrown from\n      // locations where there is no enclosing try statement.\n      this.tryEntries = [{ tryLoc: \"root\" }];\n      tryLocsList.forEach(pushTryEntry, this);\n      this.reset(true);\n    }\n\n    runtime.keys = function (object) {\n      var keys = [];\n      for (var key in object) {\n        keys.push(key);\n      }\n      keys.reverse();\n\n      // Rather than returning an object with a next method, we keep\n      // things simple and return the next function itself.\n      return function next() {\n        while (keys.length) {\n          var key = keys.pop();\n          if (key in object) {\n            next.value = key;\n            next.done = false;\n            return next;\n          }\n        }\n\n        // To avoid creating an additional object, we just hang the .value\n        // and .done properties off the next function object itself. This\n        // also ensures that the minifier will not anonymize the function.\n        next.done = true;\n        return next;\n      };\n    };\n\n    function values(iterable) {\n      if (iterable) {\n        var iteratorMethod = iterable[iteratorSymbol];\n        if (iteratorMethod) {\n          return iteratorMethod.call(iterable);\n        }\n\n        if (typeof iterable.next === \"function\") {\n          return iterable;\n        }\n\n        if (!isNaN(iterable.length)) {\n          var i = -1,\n              next = function next() {\n            while (++i < iterable.length) {\n              if (hasOwn.call(iterable, i)) {\n                next.value = iterable[i];\n                next.done = false;\n                return next;\n              }\n            }\n\n            next.value = undefined;\n            next.done = true;\n\n            return next;\n          };\n\n          return next.next = next;\n        }\n      }\n\n      // Return an iterator with no values.\n      return { next: doneResult };\n    }\n    runtime.values = values;\n\n    function doneResult() {\n      return { value: undefined, done: true };\n    }\n\n    Context.prototype = {\n      constructor: Context,\n\n      reset: function reset(skipTempReset) {\n        this.prev = 0;\n        this.next = 0;\n        // Resetting context._sent for legacy support of Babel's\n        // function.sent implementation.\n        this.sent = this._sent = undefined;\n        this.done = false;\n        this.delegate = null;\n\n        this.method = \"next\";\n        this.arg = undefined;\n\n        this.tryEntries.forEach(resetTryEntry);\n\n        if (!skipTempReset) {\n          for (var name in this) {\n            // Not sure about the optimal order of these conditions:\n            if (name.charAt(0) === \"t\" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {\n              this[name] = undefined;\n            }\n          }\n        }\n      },\n\n      stop: function stop() {\n        this.done = true;\n\n        var rootEntry = this.tryEntries[0];\n        var rootRecord = rootEntry.completion;\n        if (rootRecord.type === \"throw\") {\n          throw rootRecord.arg;\n        }\n\n        return this.rval;\n      },\n\n      dispatchException: function dispatchException(exception) {\n        if (this.done) {\n          throw exception;\n        }\n\n        var context = this;\n        function handle(loc, caught) {\n          record.type = \"throw\";\n          record.arg = exception;\n          context.next = loc;\n\n          if (caught) {\n            // If the dispatched exception was caught by a catch block,\n            // then let that catch block handle the exception normally.\n            context.method = \"next\";\n            context.arg = undefined;\n          }\n\n          return !!caught;\n        }\n\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n          var record = entry.completion;\n\n          if (entry.tryLoc === \"root\") {\n            // Exception thrown outside of any try block that could handle\n            // it, so set the completion value of the entire function to\n            // throw the exception.\n            return handle(\"end\");\n          }\n\n          if (entry.tryLoc <= this.prev) {\n            var hasCatch = hasOwn.call(entry, \"catchLoc\");\n            var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n            if (hasCatch && hasFinally) {\n              if (this.prev < entry.catchLoc) {\n                return handle(entry.catchLoc, true);\n              } else if (this.prev < entry.finallyLoc) {\n                return handle(entry.finallyLoc);\n              }\n            } else if (hasCatch) {\n              if (this.prev < entry.catchLoc) {\n                return handle(entry.catchLoc, true);\n              }\n            } else if (hasFinally) {\n              if (this.prev < entry.finallyLoc) {\n                return handle(entry.finallyLoc);\n              }\n            } else {\n              throw new Error(\"try statement without catch or finally\");\n            }\n          }\n        }\n      },\n\n      abrupt: function abrupt(type, arg) {\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n          if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n            var finallyEntry = entry;\n            break;\n          }\n        }\n\n        if (finallyEntry && (type === \"break\" || type === \"continue\") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {\n          // Ignore the finally entry if control is not jumping to a\n          // location outside the try/catch block.\n          finallyEntry = null;\n        }\n\n        var record = finallyEntry ? finallyEntry.completion : {};\n        record.type = type;\n        record.arg = arg;\n\n        if (finallyEntry) {\n          this.method = \"next\";\n          this.next = finallyEntry.finallyLoc;\n          return ContinueSentinel;\n        }\n\n        return this.complete(record);\n      },\n\n      complete: function complete(record, afterLoc) {\n        if (record.type === \"throw\") {\n          throw record.arg;\n        }\n\n        if (record.type === \"break\" || record.type === \"continue\") {\n          this.next = record.arg;\n        } else if (record.type === \"return\") {\n          this.rval = this.arg = record.arg;\n          this.method = \"return\";\n          this.next = \"end\";\n        } else if (record.type === \"normal\" && afterLoc) {\n          this.next = afterLoc;\n        }\n\n        return ContinueSentinel;\n      },\n\n      finish: function finish(finallyLoc) {\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n          if (entry.finallyLoc === finallyLoc) {\n            this.complete(entry.completion, entry.afterLoc);\n            resetTryEntry(entry);\n            return ContinueSentinel;\n          }\n        }\n      },\n\n      \"catch\": function _catch(tryLoc) {\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n          if (entry.tryLoc === tryLoc) {\n            var record = entry.completion;\n            if (record.type === \"throw\") {\n              var thrown = record.arg;\n              resetTryEntry(entry);\n            }\n            return thrown;\n          }\n        }\n\n        // The context.catch method must only be called with a location\n        // argument that corresponds to a known catch block.\n        throw new Error(\"illegal catch attempt\");\n      },\n\n      delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n        this.delegate = {\n          iterator: values(iterable),\n          resultName: resultName,\n          nextLoc: nextLoc\n        };\n\n        if (this.method === \"next\") {\n          // Deliberately forget the last sent value so that we don't\n          // accidentally pass it on to the delegate.\n          this.arg = undefined;\n        }\n\n        return ContinueSentinel;\n      }\n    };\n  }(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  function () {\n    return this;\n  }() || Function(\"return this\")());\n\n  var SEMAAS_REQUIRED_FIELDS = ['consumerId', 'policy', 'mrId', 'nameSpace', 'environment'];\n\n  var SEMAAS = {\n    DEFAULT_ADAPTER_IDENTIFIER: 'application',\n    REQUIRED_FIELDS: SEMAAS_REQUIRED_FIELDS,\n    ALLOWED_FIELDS: [].concat(SEMAAS_REQUIRED_FIELDS, ['identifier'])\n  };\n\n  var RHO = {\n    HOST: function HOST(environment) {\n      return 'https://rho.' + environment + '.es.platform.bbva.com/v1';\n    },\n    ALLOWED_FIELDS: ['mrId', 'spanId', 'startDate', 'finishDate', 'name', 'parentSpan', 'traceId', 'properties', 'duration', 'recordDate'],\n    REQUIRED_FIELDS: []\n  };\n\n  var OMEGA = {\n    HOST: function HOST(environment) {\n      return 'https://omega.' + environment + '.es.platform.bbva.com/v1';\n    },\n    DEFAULT_LOG_LEVEL: 'DEBUG',\n    ALLOWED_FIELDS: ['mrId', 'spanId', 'traceId', 'creationDate', 'level', 'message', 'properties'],\n    MAXIMUM_BULK_SIZE: 1000,\n    REQUIRED_FIELDS: []\n  };\n\n  var TSEC2JWT = {\n    HOST: function HOST(environment) {\n      return 'https://tsec2jwt.' + environment + '.global.platform.bbva.com/v1/Token';\n    }\n  };\n\n  var Constants = {\n    SEMAAS: SEMAAS,\n    RHO: RHO,\n    OMEGA: OMEGA,\n    TSEC2JWT: TSEC2JWT\n  };\n\n  var sanitizeObj = function sanitizeObj(obj, allowedFields) {\n    var result = _extends({}, obj);\n\n    Object.keys(result).forEach(function (prop) {\n      if (!allowedFields.includes(prop)) {\n        delete result[prop];\n      }\n    });\n\n    if (result.properties) {\n      Object.keys(result.properties).forEach(function (prop) {\n        var propValue = result.properties[prop];\n\n        if ((typeof propValue === 'undefined' ? 'undefined' : _typeof(propValue)) === 'object') {\n          result.properties[prop] = JSON.stringify(propValue);\n        }\n      });\n    }\n\n    return result;\n  };\n  var hasProperty = function hasProperty(obj) {\n    return function (field) {\n      return Object.prototype.hasOwnProperty.call(obj, field) && !!obj[field];\n    };\n  };\n  var hasProperties = function hasProperties(obj, expectedFields) {\n    return expectedFields.every(hasProperty(obj));\n  };\n  var groupBy = function groupBy(items, value) {\n    return items.reduce(function (prev, current) {\n      var key = value instanceof Function ? value(current) : current[value];\n      var itemsContainingKey = prev.find(function (r) {\n        return r && r.key === key;\n      });\n\n      if (itemsContainingKey) {\n        itemsContainingKey.values.push(current);\n      } else {\n        prev.push({ key: key, values: [current] });\n      }\n\n      return prev;\n    }, []);\n  };\n  var createUUID = function createUUID() {\n    var s = [];\n    var hexDigits = '0123456789abcdef';\n    for (var i = 0; i < 36; i++) {\n      s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\n    }\n    s[14] = '4'; // bits 12-15 of the time_hi_and_version field to 0010\n    s[19] = hexDigits.substr(s[19] & 0x3 | 0x8, 1); // bits 6-7 of the clock_seq_hi_and_reserved to 01\n    s[8] = s[13] = s[18] = s[23] = '-';\n\n    var uuid = s.join('');\n    return uuid;\n  };\n\n  var Utils = {\n    sanitizeObj: sanitizeObj,\n    hasProperty: hasProperty,\n    hasProperties: hasProperties,\n    groupBy: groupBy,\n    createUUID: createUUID\n  };\n\n  var OMEGA$1 = Constants.OMEGA;\n  var DEFAULT_LOG_LEVEL = OMEGA$1.DEFAULT_LOG_LEVEL,\n      ALLOWED_FIELDS = OMEGA$1.ALLOWED_FIELDS;\n  var sanitizeObj$1 = Utils.sanitizeObj;\n\n  var Omega = function () {\n    function Omega(mrId) {\n      classCallCheck(this, Omega);\n      this.mrId = null;\n\n      this.mrId = mrId;\n    }\n\n    // @TODO renombrar a normalizeLog? buildLog?\n    /*static*/\n\n    createClass(Omega, [{\n      key: 'createLog',\n      value: function createLog(obj) {\n        var mrId = this.mrId;\n\n        var sanitizedData = sanitizeObj$1(obj, ALLOWED_FIELDS);\n        var DEFAULT_LOG = {\n          mrId: mrId,\n          creationDate: Date.now() * 1000000,\n          level: DEFAULT_LOG_LEVEL\n        };\n\n        return _extends({}, DEFAULT_LOG, sanitizedData);\n      }\n    }]);\n    return Omega;\n  }();\n\n  var RHO$1 = Constants.RHO;\n  var ALLOWED_FIELDS$1 = RHO$1.ALLOWED_FIELDS;\n  var sanitizeObj$2 = Utils.sanitizeObj,\n      _createUUID = Utils.createUUID;\n\n  var Span = function () {\n    function Span(config) {\n      classCallCheck(this, Span);\n      this.spanId = null;\n\n      this.initialize(config);\n    }\n\n    createClass(Span, [{\n      key: 'initialize',\n      value: function initialize(config) {\n        var _this = this;\n\n        ALLOWED_FIELDS$1.forEach(function (field) {\n          if (config[field]) {\n            _this[field] = config[field];\n          }\n        });\n\n        this.spanId = _createUUID();\n        this.start();\n      }\n    }, {\n      key: 'start',\n      value: function start() {\n        this.startDate = Date.now() * 1000000;\n      }\n    }, {\n      key: 'finish',\n      value: function finish() {\n        this.finishDate = Date.now() * 1000000;\n      }\n    }]);\n    return Span;\n  }();\n\n  var Rho = function () {\n    function Rho(mrId) {\n      classCallCheck(this, Rho);\n      this.mrId = null;\n\n      this.mrId = mrId;\n    }\n\n    createClass(Rho, [{\n      key: 'createUUID',\n      value: function createUUID() {\n        return _createUUID();\n      }\n    }, {\n      key: 'createSpan',\n      value: function createSpan(rawData, childSpanPrefix) {\n        var DEFAULT_MR_ID = this.mrId;\n        var _rawData$mrId = rawData.mrId,\n            mrId = _rawData$mrId === undefined ? DEFAULT_MR_ID : _rawData$mrId,\n            parentSpan = rawData.parentSpan;\n\n        var normalizedParentSpan = this.getParentSpan(parentSpan, mrId, childSpanPrefix);\n        var data = _extends({}, rawData, {\n          mrId: mrId,\n          parentSpan: normalizedParentSpan\n        });\n        var span = new Span(data);\n\n        return span;\n      }\n    }, {\n      key: 'buildSpans',\n      value: function buildSpans(data) {\n        var iterableData = Array.isArray(data) ? [].concat(toConsumableArray(data)) : [data];\n\n        return iterableData.map(function (item) {\n          return sanitizeObj$2(item, ALLOWED_FIELDS$1);\n        });\n      }\n    }, {\n      key: 'getParentSpan',\n      value: function getParentSpan(parentSpan, mrId, childSpanPrefix) {\n        if (!parentSpan) {\n          return null;\n        }\n\n        return [childSpanPrefix, mrId, 'spans', parentSpan].join('/');\n      }\n    }]);\n    return Rho;\n  }();\n\n  var Adapters = {\n    Omega: Omega,\n    Rho: Rho\n  };\n\n  function request(method) {\n    var _this = this;\n\n    return function () {\n      var _ref = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(options) {\n        var url, body, headers, configuration, response, result;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                url = options.url, body = options.body, headers = options.headers;\n                configuration = {\n                  method: method,\n                  body: JSON.stringify(body),\n                  headers: {\n                    'content-type': 'application/json'\n                  }\n                };\n\n\n                if (headers) {\n                  Object.keys(headers).forEach(function (header) {\n                    var headerValue = headers[header];\n\n                    configuration.headers[header] = headerValue;\n                  });\n                }\n\n                // OJO!!!\n                // Interceptar aquí errores\n                _context.next = 5;\n                return fetch(url, configuration);\n\n              case 5:\n                response = _context.sent;\n\n                if (response.ok) {\n                  _context.next = 8;\n                  break;\n                }\n\n                return _context.abrupt('return', null);\n\n              case 8:\n                result = {};\n                _context.prev = 9;\n                _context.next = 12;\n                return response.json();\n\n              case 12:\n                result = _context.sent;\n                _context.next = 17;\n                break;\n\n              case 15:\n                _context.prev = 15;\n                _context.t0 = _context['catch'](9);\n\n              case 17:\n                return _context.abrupt('return', result);\n\n              case 18:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this, [[9, 15]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n  }\n\n  var METHODS = {\n    GET: request('get'),\n    POST: request('post')\n  };\n\n  var Connector = function () {\n    function Connector() {\n      classCallCheck(this, Connector);\n    }\n\n    createClass(Connector, null, [{\n      key: 'get',\n      value: function () {\n        var _ref2 = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(url, headers) {\n          return regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  return _context2.abrupt('return', METHODS.GET({ url: url, headers: headers }));\n\n                case 1:\n                case 'end':\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this);\n        }));\n\n        function get$$1(_x2, _x3) {\n          return _ref2.apply(this, arguments);\n        }\n\n        return get$$1;\n      }()\n    }, {\n      key: 'post',\n      value: function () {\n        var _ref3 = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(url, body, headers) {\n          return regeneratorRuntime.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  return _context3.abrupt('return', METHODS.POST({ url: url, body: body, headers: headers }));\n\n                case 1:\n                case 'end':\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, this);\n        }));\n\n        function post(_x4, _x5, _x6) {\n          return _ref3.apply(this, arguments);\n        }\n\n        return post;\n      }()\n    }]);\n    return Connector;\n  }();\n\n  /** Default debounce duration (in ms) */\n  var DEFAULT_DEBOUNCE_DURATION = 500;\n\n  /** Decorates a class method so that it is debounced by the specified duration */\n  function outerDecorator(duration) {\n    return function innerDecorator(target, key, descriptor) {\n      return {\n        configurable: true,\n        enumerable: descriptor.enumerable,\n        get: function getter() {\n          // Attach this function to the instance (not the class)\n          Object.defineProperty(this, key, {\n            configurable: true,\n            enumerable: descriptor.enumerable,\n            value: debounce(descriptor.value, duration)\n          });\n\n          return this[key];\n        }\n      };\n    };\n  }\n\n  /** Debounces the specified function and returns a wrapper function */\n  function debounce(method) {\n    var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_DEBOUNCE_DURATION;\n\n    var timeoutId = void 0;\n\n    function debounceWrapper() {\n      var _this = this;\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      debounceWrapper.clear();\n\n      timeoutId = setTimeout(function () {\n        timeoutId = null;\n        method.apply(_this, args);\n      }, duration);\n    }\n\n    debounceWrapper.clear = function () {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n        timeoutId = null;\n      }\n    };\n\n    return debounceWrapper;\n  }\n\n  var decorate = function decorate(decorators) {\n    return function (obj, prop, descriptor) {\n      var fn = descriptor.value;\n\n      decorators.slice().reverse().forEach(function (decorator) {\n        return fn = decorator(fn);\n      });\n\n      return _extends({}, descriptor, {\n        value: fn\n      });\n    };\n  };\n\n  var Decorators = {\n    outerDecorator: outerDecorator,\n    decorate: decorate\n  };\n\n  var groupBy$1 = Utils.groupBy;\n\n\n  var MAXIMUM_BULK_SIZE = 1000;\n\n  var Queue = function () {\n\n    // maximumBulkSize = null;\n\n    function Queue(identifier) {\n      classCallCheck(this, Queue);\n      this.items = [];\n      this.identifier = null;\n\n      this.identifier = identifier;\n    }\n\n    createClass(Queue, [{\n      key: 'add',\n      value: function add(endpoint, data) {\n        var _this = this;\n\n        var iterableData = Array.isArray(data) ? [].concat(toConsumableArray(data)) : [data];\n\n        iterableData.forEach(function (item) {\n          var operation = {\n            data: item,\n            endpoint: endpoint\n          };\n\n          _this.items.push(operation);\n        });\n      }\n    }, {\n      key: 'dump',\n      value: function dump() /*maximumBulkSize*/{\n        if (!this.any()) {\n          return null;\n        }\n\n        var queueGroupedByEndpoint = groupBy$1(this.items, 'endpoint');\n        var firstQueueGroup = queueGroupedByEndpoint[0].values;\n\n        var bulk = firstQueueGroup.slice(0, MAXIMUM_BULK_SIZE);\n        var newQueue = this.items.filter(function (item) {\n          return !bulk.includes(item);\n        });\n\n        console.log('Dumping ' + bulk.length + ' items from ' + this.identifier + ' queue (' + this.items.length + ')...');\n\n        this.items = newQueue;\n\n        return bulk;\n      }\n    }, {\n      key: 'any',\n      value: function any() {\n        return this.items !== null && this.items.length > 0;\n      }\n    }]);\n    return Queue;\n  }();\n\n  var _dec, _class;\n\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n    var desc = {};\n    Object['ke' + 'ys'](descriptor).forEach(function (key) {\n      desc[key] = descriptor[key];\n    });\n    desc.enumerable = !!desc.enumerable;\n    desc.configurable = !!desc.configurable;\n\n    if ('value' in desc || desc.initializer) {\n      desc.writable = true;\n    }\n\n    desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n      return decorator(target, property, desc) || desc;\n    }, desc);\n\n    if (context && desc.initializer !== void 0) {\n      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n      desc.initializer = undefined;\n    }\n\n    if (desc.initializer === void 0) {\n      Object['define' + 'Property'](target, property, desc);\n      desc = null;\n    }\n\n    return desc;\n  }\n\n  var Omega$1 = Adapters.Omega,\n      Rho$1 = Adapters.Rho;\n  var _Constants$SEMAAS = Constants.SEMAAS,\n      REQUIRED_FIELDS = _Constants$SEMAAS.REQUIRED_FIELDS,\n      ALLOWED_FIELDS$2 = _Constants$SEMAAS.ALLOWED_FIELDS,\n      DEFAULT_ADAPTER_IDENTIFIER = _Constants$SEMAAS.DEFAULT_ADAPTER_IDENTIFIER,\n      OMEGA_HOST = Constants.OMEGA.HOST,\n      RHO_HOST = Constants.RHO.HOST,\n      TSEC2JWT_HOST = Constants.TSEC2JWT.HOST;\n  var hasProperties$1 = Utils.hasProperties;\n  var outerDecorator$1 = Decorators.outerDecorator;\n  var SEMaaS = (_dec = outerDecorator$1(5000), (_class = function () {\n\n    // properties that belong to semaas life cycle and rely on configurable properties\n\n    // configurable properties by constructor\n    function SEMaaS(config) {\n      classCallCheck(this, SEMaaS);\n      this.nameSpace = null;\n      this.identifier = DEFAULT_ADAPTER_IDENTIFIER;\n      this.mrId = null;\n      this.consumerId = null;\n      this.policy = null;\n      this.environment = null;\n      this.apiKey = null;\n      this.omega = null;\n      this.rho = null;\n      this.queue = null;\n\n      this.setup(config);\n    }\n\n    // composition entitys\n\n\n    createClass(SEMaaS, [{\n      key: 'setup',\n      value: function setup(config) {\n        if (!config || !this.validateConfig(config, REQUIRED_FIELDS)) {\n          throw new Error('Invalid setup for SEMaaS adapter (' + this.identifier + '). Required fields: ' + REQUIRED_FIELDS.join(', ') + '.');\n        }\n\n        this.initialize(config);\n      }\n    }, {\n      key: 'validateConfig',\n      value: function validateConfig(config, expectedFields) {\n        return hasProperties$1(config, expectedFields);\n      }\n    }, {\n      key: 'initialize',\n      value: function initialize(config) {\n        var _this = this;\n\n        ALLOWED_FIELDS$2.forEach(function (field) {\n          if (config[field]) {\n            _this[field] = config[field];\n          }\n        });\n\n        var nameSpace = this.nameSpace,\n            identifier = this.identifier,\n            mrId = this.mrId,\n            environment = this.environment;\n\n\n        this.omega = new Omega$1(mrId);\n        this.rho = new Rho$1(mrId);\n        this.queue = new Queue(identifier);\n\n        console.info('SEMaaS adapter for ' + environment + ' (' + identifier + ' - ns: ' + nameSpace + ', mrId: ' + mrId + ') successfully initialized.');\n      }\n    }, {\n      key: 'log',\n      value: function log(obj) {\n        var data = this.omega.createLog(obj);\n\n        this.enqueue(this.omegaEndpoint, data);\n      }\n    }, {\n      key: 'ingest',\n      value: function ingest(spans) {\n        var data = this.rho.buildSpans(spans);\n\n        this.enqueue(this.rhoEndpoint, data);\n      }\n    }, {\n      key: 'createSpan',\n      value: function createSpan(data) {\n        var span = this.rho.createSpan(data, this.prefixForChildSpan);\n\n        return span;\n      }\n    }, {\n      key: 'createUUID',\n      value: function createUUID() {\n        var UUID = this.rho.createUUID();\n\n        return UUID;\n      }\n    }, {\n      key: 'send',\n      value: function () {\n        var _ref = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(url, body, headers) {\n          var result;\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  result = void 0;\n                  _context.prev = 1;\n                  _context.next = 4;\n                  return Connector.post(url, body, headers);\n\n                case 4:\n                  result = _context.sent;\n                  _context.next = 9;\n                  break;\n\n                case 7:\n                  _context.prev = 7;\n                  _context.t0 = _context['catch'](1);\n\n                case 9:\n\n                  if (!result) {\n                    console.log('There was a problem while sending data to SEMaaS - operation will be queued.');\n\n                    this.enqueue(url, body);\n                  }\n\n                  return _context.abrupt('return', result);\n\n                case 11:\n                case 'end':\n                  return _context.stop();\n              }\n            }\n          }, _callee, this, [[1, 7]]);\n        }));\n\n        function send(_x, _x2, _x3) {\n          return _ref.apply(this, arguments);\n        }\n\n        return send;\n      }()\n    }, {\n      key: 'enqueue',\n      value: function enqueue(url, body) {\n        this.queue.add(url, body);\n        this.flush();\n      }\n\n      // @decorate([tsec2jwt, outerDecorator(5000)])\n\n    }, {\n      key: 'flush',\n      value: function () {\n        var _ref2 = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n          var _this2 = this;\n\n          var validApiKey, bulk, endpoint, apiKey, body, headers;\n          return regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  _context2.next = 2;\n                  return this.ensureValidApiKey();\n\n                case 2:\n                  validApiKey = _context2.sent;\n\n                  if (validApiKey) {\n                    _context2.next = 6;\n                    break;\n                  }\n\n                  console.log('No valid API Key for SEMaaS adapter (' + this.identifier + ') - aborting operation');\n                  return _context2.abrupt('return');\n\n                case 6:\n                  bulk = this.queue.dump();\n\n                  if (bulk) {\n                    _context2.next = 10;\n                    break;\n                  }\n\n                  console.log('Empty queue for SEMaaS adapter (' + this.identifier + ')');\n                  return _context2.abrupt('return');\n\n                case 10:\n                  endpoint = bulk[0].endpoint;\n                  apiKey = this.apiKey;\n\n\n                  console.log('Sending queued batch ' + endpoint + ' - ' + apiKey);\n\n                  body = bulk.map(function (operation) {\n                    return operation.data;\n                  });\n                  headers = { 'Api-Key': 'jwt ' + apiKey };\n\n                  // if bulk send is OK, and there are more items, we try to flush the buffer\n\n                  this.send(endpoint, body, headers).then(function () {\n                    return _this2.queue.any() && _this2.flush();\n                  });\n\n                case 16:\n                case 'end':\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this);\n        }));\n\n        function flush() {\n          return _ref2.apply(this, arguments);\n        }\n\n        return flush;\n      }()\n    }, {\n      key: 'ensureValidApiKey',\n      value: function () {\n        var _ref3 = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n          return regeneratorRuntime.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  if (!this.hasApiKey) {\n                    _context3.next = 5;\n                    break;\n                  }\n\n                  console.log('ApiKey OK -> next()');\n                  return _context3.abrupt('return', true);\n\n                case 5:\n                  if (!this.hasCredentials) {\n                    _context3.next = 8;\n                    break;\n                  }\n\n                  console.log('ApiKey KO, Credentials OK -> getApiKey()');\n                  return _context3.abrupt('return', this.getApiKey());\n\n                case 8:\n\n                  console.log('No ApiKey && No Credentials -> KO');\n                  return _context3.abrupt('return', false);\n\n                case 10:\n                case 'end':\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, this);\n        }));\n\n        function ensureValidApiKey() {\n          return _ref3.apply(this, arguments);\n        }\n\n        return ensureValidApiKey;\n      }()\n    }, {\n      key: 'getApiKey',\n      value: function () {\n        var _ref4 = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n          var consumerId, policy, environment, headers, host, result, accessToken;\n          return regeneratorRuntime.wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  consumerId = this.consumerId, policy = this.policy, environment = this.environment;\n                  headers = {\n                    'x-consumer-id': consumerId,\n                    'x-tsec-token': window.sessionStorage.getItem('tsec'),\n                    'x-validation-policy': policy\n                  };\n                  host = TSEC2JWT_HOST(environment);\n                  _context4.next = 5;\n                  return Connector.get(host, headers);\n\n                case 5:\n                  result = _context4.sent;\n\n                  if (result) {\n                    _context4.next = 8;\n                    break;\n                  }\n\n                  return _context4.abrupt('return', null);\n\n                case 8:\n                  accessToken = result.accessToken;\n\n\n                  this.apiKey = accessToken;\n                  return _context4.abrupt('return', accessToken);\n\n                case 11:\n                case 'end':\n                  return _context4.stop();\n              }\n            }\n          }, _callee4, this);\n        }));\n\n        function getApiKey() {\n          return _ref4.apply(this, arguments);\n        }\n\n        return getApiKey;\n      }()\n    }, {\n      key: 'getEnvironmentEndpoint',\n      value: function getEnvironmentEndpoint(host) {\n        var environment = this.environment;\n\n\n        return host(environment);\n      }\n    }, {\n      key: 'hasApiKey',\n      get: function get$$1() {\n        // @TODO añadir lógica recuperación + persistencia sessionStorage jwt\n        return !!this.apiKey;\n      }\n    }, {\n      key: 'hasCredentials',\n      get: function get$$1() {\n        return !!this.consumerId && !!this.policy && !!this.tsec;\n      }\n    }, {\n      key: 'initialized',\n      get: function get$$1() {\n        return !!this.omega && !!this.rho;\n      }\n    }, {\n      key: 'omegaEndpoint',\n      get: function get$$1() {\n        var nameSpace = this.nameSpace;\n\n        var host = this.getEnvironmentEndpoint(OMEGA_HOST);\n\n        return host + '/ns/' + nameSpace + '/logs';\n      }\n    }, {\n      key: 'rhoEndpoint',\n      get: function get$$1() {\n        var nameSpace = this.nameSpace;\n\n        var host = this.getEnvironmentEndpoint(RHO_HOST);\n\n        return host + '/ns/' + this.nameSpace + '/spans';\n      }\n    }, {\n      key: 'prefixForChildSpan',\n      get: function get$$1() {\n        return 'ns/' + this.nameSpace + '/mrs';\n      }\n    }, {\n      key: 'tsec',\n      get: function get$$1() {\n        return window.sessionStorage.getItem('tsec');\n      }\n    }]);\n    return SEMaaS;\n  }(), (_applyDecoratedDescriptor(_class.prototype, 'flush', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'flush'), _class.prototype)), _class));\n\n  return SEMaaS;\n\n})));\n//# sourceMappingURL=cells-semaas-adapter.js.map\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/cells-semaas-adapter/dist/cells-semaas-adapter.js\n// module id = 51\n// module chunks = 0","'use strict';\nconst isObj = require('is-obj');\n\nfunction getPathSegments(path) {\n\tconst pathArr = path.split('.');\n\tconst parts = [];\n\n\tfor (let i = 0; i < pathArr.length; i++) {\n\t\tlet p = pathArr[i];\n\n\t\twhile (p[p.length - 1] === '\\\\' && pathArr[i + 1] !== undefined) {\n\t\t\tp = p.slice(0, -1) + '.';\n\t\t\tp += pathArr[++i];\n\t\t}\n\n\t\tparts.push(p);\n\t}\n\n\treturn parts;\n}\n\nmodule.exports = {\n\tget(obj, path, value) {\n\t\tif (!isObj(obj) || typeof path !== 'string') {\n\t\t\treturn value === undefined ? obj : value;\n\t\t}\n\n\t\tconst pathArr = getPathSegments(path);\n\n\t\tfor (let i = 0; i < pathArr.length; i++) {\n\t\t\tif (!Object.prototype.propertyIsEnumerable.call(obj, pathArr[i])) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tobj = obj[pathArr[i]];\n\n\t\t\tif (obj === undefined || obj === null) {\n\t\t\t\t// `obj` is either `undefined` or `null` so we want to stop the loop, and\n\t\t\t\t// if this is not the last bit of the path, and\n\t\t\t\t// if it did't return `undefined`\n\t\t\t\t// it would return `null` if `obj` is `null`\n\t\t\t\t// but we want `get({foo: null}, 'foo.bar')` to equal `undefined`, or the supplied value, not `null`\n\t\t\t\tif (i !== pathArr.length - 1) {\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\tset(obj, path, value) {\n\t\tif (!isObj(obj) || typeof path !== 'string') {\n\t\t\treturn obj;\n\t\t}\n\n\t\tconst root = obj;\n\t\tconst pathArr = getPathSegments(path);\n\n\t\tfor (let i = 0; i < pathArr.length; i++) {\n\t\t\tconst p = pathArr[i];\n\n\t\t\tif (!isObj(obj[p])) {\n\t\t\t\tobj[p] = {};\n\t\t\t}\n\n\t\t\tif (i === pathArr.length - 1) {\n\t\t\t\tobj[p] = value;\n\t\t\t}\n\n\t\t\tobj = obj[p];\n\t\t}\n\n\t\treturn root;\n\t},\n\n\tdelete(obj, path) {\n\t\tif (!isObj(obj) || typeof path !== 'string') {\n\t\t\treturn;\n\t\t}\n\n\t\tconst pathArr = getPathSegments(path);\n\n\t\tfor (let i = 0; i < pathArr.length; i++) {\n\t\t\tconst p = pathArr[i];\n\n\t\t\tif (i === pathArr.length - 1) {\n\t\t\t\tdelete obj[p];\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tobj = obj[p];\n\n\t\t\tif (!isObj(obj)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t},\n\n\thas(obj, path) {\n\t\tif (!isObj(obj) || typeof path !== 'string') {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst pathArr = getPathSegments(path);\n\n\t\tfor (let i = 0; i < pathArr.length; i++) {\n\t\t\tif (isObj(obj)) {\n\t\t\t\tif (!(pathArr[i] in obj)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tobj = obj[pathArr[i]];\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dot-prop/index.js\n// module id = 52\n// module chunks = 0","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/events/events.js\n// module id = 53\n// module chunks = 0","'use strict';\nmodule.exports = function (x) {\n\tvar type = typeof x;\n\treturn x !== null && (type === 'object' || type === 'function');\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/is-obj/index.js\n// module id = 54\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('./Subscriber');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar InnerSubscriber = (function (_super) {\n    __extends(InnerSubscriber, _super);\n    function InnerSubscriber(parent, outerValue, outerIndex) {\n        _super.call(this);\n        this.parent = parent;\n        this.outerValue = outerValue;\n        this.outerIndex = outerIndex;\n        this.index = 0;\n    }\n    InnerSubscriber.prototype._next = function (value) {\n        this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);\n    };\n    InnerSubscriber.prototype._error = function (error) {\n        this.parent.notifyError(error, this);\n        this.unsubscribe();\n    };\n    InnerSubscriber.prototype._complete = function () {\n        this.parent.notifyComplete(this);\n        this.unsubscribe();\n    };\n    return InnerSubscriber;\n}(Subscriber_1.Subscriber));\nexports.InnerSubscriber = InnerSubscriber;\n//# sourceMappingURL=InnerSubscriber.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/InnerSubscriber.js\n// module id = 55\n// module chunks = 0","\"use strict\";\nvar Observable_1 = require('./Observable');\n/**\n * Represents a push-based event or value that an {@link Observable} can emit.\n * This class is particularly useful for operators that manage notifications,\n * like {@link materialize}, {@link dematerialize}, {@link observeOn}, and\n * others. Besides wrapping the actual delivered value, it also annotates it\n * with metadata of, for instance, what type of push message it is (`next`,\n * `error`, or `complete`).\n *\n * @see {@link materialize}\n * @see {@link dematerialize}\n * @see {@link observeOn}\n *\n * @class Notification<T>\n */\nvar Notification = (function () {\n    function Notification(kind, value, error) {\n        this.kind = kind;\n        this.value = value;\n        this.error = error;\n        this.hasValue = kind === 'N';\n    }\n    /**\n     * Delivers to the given `observer` the value wrapped by this Notification.\n     * @param {Observer} observer\n     * @return\n     */\n    Notification.prototype.observe = function (observer) {\n        switch (this.kind) {\n            case 'N':\n                return observer.next && observer.next(this.value);\n            case 'E':\n                return observer.error && observer.error(this.error);\n            case 'C':\n                return observer.complete && observer.complete();\n        }\n    };\n    /**\n     * Given some {@link Observer} callbacks, deliver the value represented by the\n     * current Notification to the correctly corresponding callback.\n     * @param {function(value: T): void} next An Observer `next` callback.\n     * @param {function(err: any): void} [error] An Observer `error` callback.\n     * @param {function(): void} [complete] An Observer `complete` callback.\n     * @return {any}\n     */\n    Notification.prototype.do = function (next, error, complete) {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return next && next(this.value);\n            case 'E':\n                return error && error(this.error);\n            case 'C':\n                return complete && complete();\n        }\n    };\n    /**\n     * Takes an Observer or its individual callback functions, and calls `observe`\n     * or `do` methods accordingly.\n     * @param {Observer|function(value: T): void} nextOrObserver An Observer or\n     * the `next` callback.\n     * @param {function(err: any): void} [error] An Observer `error` callback.\n     * @param {function(): void} [complete] An Observer `complete` callback.\n     * @return {any}\n     */\n    Notification.prototype.accept = function (nextOrObserver, error, complete) {\n        if (nextOrObserver && typeof nextOrObserver.next === 'function') {\n            return this.observe(nextOrObserver);\n        }\n        else {\n            return this.do(nextOrObserver, error, complete);\n        }\n    };\n    /**\n     * Returns a simple Observable that just delivers the notification represented\n     * by this Notification instance.\n     * @return {any}\n     */\n    Notification.prototype.toObservable = function () {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return Observable_1.Observable.of(this.value);\n            case 'E':\n                return Observable_1.Observable.throw(this.error);\n            case 'C':\n                return Observable_1.Observable.empty();\n        }\n        throw new Error('unexpected notification kind value');\n    };\n    /**\n     * A shortcut to create a Notification instance of the type `next` from a\n     * given value.\n     * @param {T} value The `next` value.\n     * @return {Notification<T>} The \"next\" Notification representing the\n     * argument.\n     */\n    Notification.createNext = function (value) {\n        if (typeof value !== 'undefined') {\n            return new Notification('N', value);\n        }\n        return Notification.undefinedValueNotification;\n    };\n    /**\n     * A shortcut to create a Notification instance of the type `error` from a\n     * given error.\n     * @param {any} [err] The `error` error.\n     * @return {Notification<T>} The \"error\" Notification representing the\n     * argument.\n     */\n    Notification.createError = function (err) {\n        return new Notification('E', undefined, err);\n    };\n    /**\n     * A shortcut to create a Notification instance of the type `complete`.\n     * @return {Notification<any>} The valueless \"complete\" Notification.\n     */\n    Notification.createComplete = function () {\n        return Notification.completeNotification;\n    };\n    Notification.completeNotification = new Notification('C');\n    Notification.undefinedValueNotification = new Notification('N', undefined);\n    return Notification;\n}());\nexports.Notification = Notification;\n//# sourceMappingURL=Notification.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/Notification.js\n// module id = 56\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('./Subscriber');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar OuterSubscriber = (function (_super) {\n    __extends(OuterSubscriber, _super);\n    function OuterSubscriber() {\n        _super.apply(this, arguments);\n    }\n    OuterSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.destination.next(innerValue);\n    };\n    OuterSubscriber.prototype.notifyError = function (error, innerSub) {\n        this.destination.error(error);\n    };\n    OuterSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.destination.complete();\n    };\n    return OuterSubscriber;\n}(Subscriber_1.Subscriber));\nexports.OuterSubscriber = OuterSubscriber;\n//# sourceMappingURL=OuterSubscriber.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/OuterSubscriber.js\n// module id = 57\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subject_1 = require('./Subject');\nvar queue_1 = require('./scheduler/queue');\nvar Subscription_1 = require('./Subscription');\nvar observeOn_1 = require('./operators/observeOn');\nvar ObjectUnsubscribedError_1 = require('./util/ObjectUnsubscribedError');\nvar SubjectSubscription_1 = require('./SubjectSubscription');\n/**\n * @class ReplaySubject<T>\n */\nvar ReplaySubject = (function (_super) {\n    __extends(ReplaySubject, _super);\n    function ReplaySubject(bufferSize, windowTime, scheduler) {\n        if (bufferSize === void 0) { bufferSize = Number.POSITIVE_INFINITY; }\n        if (windowTime === void 0) { windowTime = Number.POSITIVE_INFINITY; }\n        _super.call(this);\n        this.scheduler = scheduler;\n        this._events = [];\n        this._bufferSize = bufferSize < 1 ? 1 : bufferSize;\n        this._windowTime = windowTime < 1 ? 1 : windowTime;\n    }\n    ReplaySubject.prototype.next = function (value) {\n        var now = this._getNow();\n        this._events.push(new ReplayEvent(now, value));\n        this._trimBufferThenGetEvents();\n        _super.prototype.next.call(this, value);\n    };\n    ReplaySubject.prototype._subscribe = function (subscriber) {\n        var _events = this._trimBufferThenGetEvents();\n        var scheduler = this.scheduler;\n        var subscription;\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscription = Subscription_1.Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscription = Subscription_1.Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            subscription = new SubjectSubscription_1.SubjectSubscription(this, subscriber);\n        }\n        if (scheduler) {\n            subscriber.add(subscriber = new observeOn_1.ObserveOnSubscriber(subscriber, scheduler));\n        }\n        var len = _events.length;\n        for (var i = 0; i < len && !subscriber.closed; i++) {\n            subscriber.next(_events[i].value);\n        }\n        if (this.hasError) {\n            subscriber.error(this.thrownError);\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n        }\n        return subscription;\n    };\n    ReplaySubject.prototype._getNow = function () {\n        return (this.scheduler || queue_1.queue).now();\n    };\n    ReplaySubject.prototype._trimBufferThenGetEvents = function () {\n        var now = this._getNow();\n        var _bufferSize = this._bufferSize;\n        var _windowTime = this._windowTime;\n        var _events = this._events;\n        var eventsCount = _events.length;\n        var spliceCount = 0;\n        // Trim events that fall out of the time window.\n        // Start at the front of the list. Break early once\n        // we encounter an event that falls within the window.\n        while (spliceCount < eventsCount) {\n            if ((now - _events[spliceCount].time) < _windowTime) {\n                break;\n            }\n            spliceCount++;\n        }\n        if (eventsCount > _bufferSize) {\n            spliceCount = Math.max(spliceCount, eventsCount - _bufferSize);\n        }\n        if (spliceCount > 0) {\n            _events.splice(0, spliceCount);\n        }\n        return _events;\n    };\n    return ReplaySubject;\n}(Subject_1.Subject));\nexports.ReplaySubject = ReplaySubject;\nvar ReplayEvent = (function () {\n    function ReplayEvent(time, value) {\n        this.time = time;\n        this.value = value;\n    }\n    return ReplayEvent;\n}());\n//# sourceMappingURL=ReplaySubject.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/ReplaySubject.js\n// module id = 58\n// module chunks = 0","\"use strict\";\n/**\n * An execution context and a data structure to order tasks and schedule their\n * execution. Provides a notion of (potentially virtual) time, through the\n * `now()` getter method.\n *\n * Each unit of work in a Scheduler is called an {@link Action}.\n *\n * ```ts\n * class Scheduler {\n *   now(): number;\n *   schedule(work, delay?, state?): Subscription;\n * }\n * ```\n *\n * @class Scheduler\n */\nvar Scheduler = (function () {\n    function Scheduler(SchedulerAction, now) {\n        if (now === void 0) { now = Scheduler.now; }\n        this.SchedulerAction = SchedulerAction;\n        this.now = now;\n    }\n    /**\n     * Schedules a function, `work`, for execution. May happen at some point in\n     * the future, according to the `delay` parameter, if specified. May be passed\n     * some context object, `state`, which will be passed to the `work` function.\n     *\n     * The given arguments will be processed an stored as an Action object in a\n     * queue of actions.\n     *\n     * @param {function(state: ?T): ?Subscription} work A function representing a\n     * task, or some unit of work to be executed by the Scheduler.\n     * @param {number} [delay] Time to wait before executing the work, where the\n     * time unit is implicit and defined by the Scheduler itself.\n     * @param {T} [state] Some contextual data that the `work` function uses when\n     * called by the Scheduler.\n     * @return {Subscription} A subscription in order to be able to unsubscribe\n     * the scheduled work.\n     */\n    Scheduler.prototype.schedule = function (work, delay, state) {\n        if (delay === void 0) { delay = 0; }\n        return new this.SchedulerAction(this, work).schedule(state, delay);\n    };\n    Scheduler.now = Date.now ? Date.now : function () { return +new Date(); };\n    return Scheduler;\n}());\nexports.Scheduler = Scheduler;\n//# sourceMappingURL=Scheduler.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/Scheduler.js\n// module id = 59\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('./Observable');\nvar Subscriber_1 = require('./Subscriber');\nvar Subscription_1 = require('./Subscription');\nvar ObjectUnsubscribedError_1 = require('./util/ObjectUnsubscribedError');\nvar SubjectSubscription_1 = require('./SubjectSubscription');\nvar rxSubscriber_1 = require('./symbol/rxSubscriber');\n/**\n * @class SubjectSubscriber<T>\n */\nvar SubjectSubscriber = (function (_super) {\n    __extends(SubjectSubscriber, _super);\n    function SubjectSubscriber(destination) {\n        _super.call(this, destination);\n        this.destination = destination;\n    }\n    return SubjectSubscriber;\n}(Subscriber_1.Subscriber));\nexports.SubjectSubscriber = SubjectSubscriber;\n/**\n * @class Subject<T>\n */\nvar Subject = (function (_super) {\n    __extends(Subject, _super);\n    function Subject() {\n        _super.call(this);\n        this.observers = [];\n        this.closed = false;\n        this.isStopped = false;\n        this.hasError = false;\n        this.thrownError = null;\n    }\n    Subject.prototype[rxSubscriber_1.rxSubscriber] = function () {\n        return new SubjectSubscriber(this);\n    };\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype.next = function (value) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        if (!this.isStopped) {\n            var observers = this.observers;\n            var len = observers.length;\n            var copy = observers.slice();\n            for (var i = 0; i < len; i++) {\n                copy[i].next(value);\n            }\n        }\n    };\n    Subject.prototype.error = function (err) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        this.hasError = true;\n        this.thrownError = err;\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].error(err);\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.complete = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].complete();\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = true;\n        this.closed = true;\n        this.observers = null;\n    };\n    Subject.prototype._trySubscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else {\n            return _super.prototype._trySubscribe.call(this, subscriber);\n        }\n    };\n    Subject.prototype._subscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscriber.error(this.thrownError);\n            return Subscription_1.Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n            return Subscription_1.Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            return new SubjectSubscription_1.SubjectSubscription(this, subscriber);\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable_1.Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable_1.Observable));\nexports.Subject = Subject;\n/**\n * @class AnonymousSubject<T>\n */\nvar AnonymousSubject = (function (_super) {\n    __extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        _super.call(this);\n        this.destination = destination;\n        this.source = source;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var destination = this.destination;\n        if (destination && destination.next) {\n            destination.next(value);\n        }\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var destination = this.destination;\n        if (destination && destination.error) {\n            this.destination.error(err);\n        }\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var destination = this.destination;\n        if (destination && destination.complete) {\n            this.destination.complete();\n        }\n    };\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        if (source) {\n            return this.source.subscribe(subscriber);\n        }\n        else {\n            return Subscription_1.Subscription.EMPTY;\n        }\n    };\n    return AnonymousSubject;\n}(Subject));\nexports.AnonymousSubject = AnonymousSubject;\n//# sourceMappingURL=Subject.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/Subject.js\n// module id = 60\n// module chunks = 0","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar merge_1 = require('../../observable/merge');\nObservable_1.Observable.merge = merge_1.merge;\n//# sourceMappingURL=merge.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/add/observable/merge.js\n// module id = 61\n// module chunks = 0","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar distinctUntilChanged_1 = require('../../operator/distinctUntilChanged');\nObservable_1.Observable.prototype.distinctUntilChanged = distinctUntilChanged_1.distinctUntilChanged;\n//# sourceMappingURL=distinctUntilChanged.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/add/operator/distinctUntilChanged.js\n// module id = 62\n// module chunks = 0","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar first_1 = require('../../operator/first');\nObservable_1.Observable.prototype.first = first_1.first;\n//# sourceMappingURL=first.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/add/operator/first.js\n// module id = 63\n// module chunks = 0","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar map_1 = require('../../operator/map');\nObservable_1.Observable.prototype.map = map_1.map;\n//# sourceMappingURL=map.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/add/operator/map.js\n// module id = 64\n// module chunks = 0","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar startWith_1 = require('../../operator/startWith');\nObservable_1.Observable.prototype.startWith = startWith_1.startWith;\n//# sourceMappingURL=startWith.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/add/operator/startWith.js\n// module id = 65\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar ScalarObservable_1 = require('./ScalarObservable');\nvar EmptyObservable_1 = require('./EmptyObservable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar ArrayLikeObservable = (function (_super) {\n    __extends(ArrayLikeObservable, _super);\n    function ArrayLikeObservable(arrayLike, scheduler) {\n        _super.call(this);\n        this.arrayLike = arrayLike;\n        this.scheduler = scheduler;\n        if (!scheduler && arrayLike.length === 1) {\n            this._isScalar = true;\n            this.value = arrayLike[0];\n        }\n    }\n    ArrayLikeObservable.create = function (arrayLike, scheduler) {\n        var length = arrayLike.length;\n        if (length === 0) {\n            return new EmptyObservable_1.EmptyObservable();\n        }\n        else if (length === 1) {\n            return new ScalarObservable_1.ScalarObservable(arrayLike[0], scheduler);\n        }\n        else {\n            return new ArrayLikeObservable(arrayLike, scheduler);\n        }\n    };\n    ArrayLikeObservable.dispatch = function (state) {\n        var arrayLike = state.arrayLike, index = state.index, length = state.length, subscriber = state.subscriber;\n        if (subscriber.closed) {\n            return;\n        }\n        if (index >= length) {\n            subscriber.complete();\n            return;\n        }\n        subscriber.next(arrayLike[index]);\n        state.index = index + 1;\n        this.schedule(state);\n    };\n    ArrayLikeObservable.prototype._subscribe = function (subscriber) {\n        var index = 0;\n        var _a = this, arrayLike = _a.arrayLike, scheduler = _a.scheduler;\n        var length = arrayLike.length;\n        if (scheduler) {\n            return scheduler.schedule(ArrayLikeObservable.dispatch, 0, {\n                arrayLike: arrayLike, index: index, length: length, subscriber: subscriber\n            });\n        }\n        else {\n            for (var i = 0; i < length && !subscriber.closed; i++) {\n                subscriber.next(arrayLike[i]);\n            }\n            subscriber.complete();\n        }\n    };\n    return ArrayLikeObservable;\n}(Observable_1.Observable));\nexports.ArrayLikeObservable = ArrayLikeObservable;\n//# sourceMappingURL=ArrayLikeObservable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/ArrayLikeObservable.js\n// module id = 66\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar tryCatch_1 = require('../util/tryCatch');\nvar isFunction_1 = require('../util/isFunction');\nvar errorObject_1 = require('../util/errorObject');\nvar Subscription_1 = require('../Subscription');\nvar toString = Object.prototype.toString;\nfunction isNodeStyleEventEmitter(sourceObj) {\n    return !!sourceObj && typeof sourceObj.addListener === 'function' && typeof sourceObj.removeListener === 'function';\n}\nfunction isJQueryStyleEventEmitter(sourceObj) {\n    return !!sourceObj && typeof sourceObj.on === 'function' && typeof sourceObj.off === 'function';\n}\nfunction isNodeList(sourceObj) {\n    return !!sourceObj && toString.call(sourceObj) === '[object NodeList]';\n}\nfunction isHTMLCollection(sourceObj) {\n    return !!sourceObj && toString.call(sourceObj) === '[object HTMLCollection]';\n}\nfunction isEventTarget(sourceObj) {\n    return !!sourceObj && typeof sourceObj.addEventListener === 'function' && typeof sourceObj.removeEventListener === 'function';\n}\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar FromEventObservable = (function (_super) {\n    __extends(FromEventObservable, _super);\n    function FromEventObservable(sourceObj, eventName, selector, options) {\n        _super.call(this);\n        this.sourceObj = sourceObj;\n        this.eventName = eventName;\n        this.selector = selector;\n        this.options = options;\n    }\n    /* tslint:enable:max-line-length */\n    /**\n     * Creates an Observable that emits events of a specific type coming from the\n     * given event target.\n     *\n     * <span class=\"informal\">Creates an Observable from DOM events, or Node.js\n     * EventEmitter events or others.</span>\n     *\n     * <img src=\"./img/fromEvent.png\" width=\"100%\">\n     *\n     * `fromEvent` accepts as a first argument event target, which is an object with methods\n     * for registering event handler functions. As a second argument it takes string that indicates\n     * type of event we want to listen for. `fromEvent` supports selected types of event targets,\n     * which are described in detail below. If your event target does not match any of the ones listed,\n     * you should use {@link fromEventPattern}, which can be used on arbitrary APIs.\n     * When it comes to APIs supported by `fromEvent`, their methods for adding and removing event\n     * handler functions have different names, but they all accept a string describing event type\n     * and function itself, which will be called whenever said event happens.\n     *\n     * Every time resulting Observable is subscribed, event handler function will be registered\n     * to event target on given event type. When that event fires, value\n     * passed as a first argument to registered function will be emitted by output Observable.\n     * When Observable is unsubscribed, function will be unregistered from event target.\n     *\n     * Note that if event target calls registered function with more than one argument, second\n     * and following arguments will not appear in resulting stream. In order to get access to them,\n     * you can pass to `fromEvent` optional project function, which will be called with all arguments\n     * passed to event handler. Output Observable will then emit value returned by project function,\n     * instead of the usual value.\n     *\n     * Remember that event targets listed below are checked via duck typing. It means that\n     * no matter what kind of object you have and no matter what environment you work in,\n     * you can safely use `fromEvent` on that object if it exposes described methods (provided\n     * of course they behave as was described above). So for example if Node.js library exposes\n     * event target which has the same method names as DOM EventTarget, `fromEvent` is still\n     * a good choice.\n     *\n     * If the API you use is more callback then event handler oriented (subscribed\n     * callback function fires only once and thus there is no need to manually\n     * unregister it), you should use {@link bindCallback} or {@link bindNodeCallback}\n     * instead.\n     *\n     * `fromEvent` supports following types of event targets:\n     *\n     * **DOM EventTarget**\n     *\n     * This is an object with `addEventListener` and `removeEventListener` methods.\n     *\n     * In the browser, `addEventListener` accepts - apart from event type string and event\n     * handler function arguments - optional third parameter, which is either an object or boolean,\n     * both used for additional configuration how and when passed function will be called. When\n     * `fromEvent` is used with event target of that type, you can provide this values\n     * as third parameter as well.\n     *\n     * **Node.js EventEmitter**\n     *\n     * An object with `addListener` and `removeListener` methods.\n     *\n     * **JQuery-style event target**\n     *\n     * An object with `on` and `off` methods\n     *\n     * **DOM NodeList**\n     *\n     * List of DOM Nodes, returned for example by `document.querySelectorAll` or `Node.childNodes`.\n     *\n     * Although this collection is not event target in itself, `fromEvent` will iterate over all Nodes\n     * it contains and install event handler function in every of them. When returned Observable\n     * is unsubscribed, function will be removed from all Nodes.\n     *\n     * **DOM HtmlCollection**\n     *\n     * Just as in case of NodeList it is a collection of DOM nodes. Here as well event handler function is\n     * installed and removed in each of elements.\n     *\n     *\n     * @example <caption>Emits clicks happening on the DOM document</caption>\n     * var clicks = Rx.Observable.fromEvent(document, 'click');\n     * clicks.subscribe(x => console.log(x));\n     *\n     * // Results in:\n     * // MouseEvent object logged to console every time a click\n     * // occurs on the document.\n     *\n     *\n     * @example <caption>Use addEventListener with capture option</caption>\n     * var clicksInDocument = Rx.Observable.fromEvent(document, 'click', true); // note optional configuration parameter\n     *                                                                          // which will be passed to addEventListener\n     * var clicksInDiv = Rx.Observable.fromEvent(someDivInDocument, 'click');\n     *\n     * clicksInDocument.subscribe(() => console.log('document'));\n     * clicksInDiv.subscribe(() => console.log('div'));\n     *\n     * // By default events bubble UP in DOM tree, so normally\n     * // when we would click on div in document\n     * // \"div\" would be logged first and then \"document\".\n     * // Since we specified optional `capture` option, document\n     * // will catch event when it goes DOWN DOM tree, so console\n     * // will log \"document\" and then \"div\".\n     *\n     * @see {@link bindCallback}\n     * @see {@link bindNodeCallback}\n     * @see {@link fromEventPattern}\n     *\n     * @param {EventTargetLike} target The DOM EventTarget, Node.js\n     * EventEmitter, JQuery-like event target, NodeList or HTMLCollection to attach the event handler to.\n     * @param {string} eventName The event name of interest, being emitted by the\n     * `target`.\n     * @param {EventListenerOptions} [options] Options to pass through to addEventListener\n     * @param {SelectorMethodSignature<T>} [selector] An optional function to\n     * post-process results. It takes the arguments from the event handler and\n     * should return a single value.\n     * @return {Observable<T>}\n     * @static true\n     * @name fromEvent\n     * @owner Observable\n     */\n    FromEventObservable.create = function (target, eventName, options, selector) {\n        if (isFunction_1.isFunction(options)) {\n            selector = options;\n            options = undefined;\n        }\n        return new FromEventObservable(target, eventName, selector, options);\n    };\n    FromEventObservable.setupSubscription = function (sourceObj, eventName, handler, subscriber, options) {\n        var unsubscribe;\n        if (isNodeList(sourceObj) || isHTMLCollection(sourceObj)) {\n            for (var i = 0, len = sourceObj.length; i < len; i++) {\n                FromEventObservable.setupSubscription(sourceObj[i], eventName, handler, subscriber, options);\n            }\n        }\n        else if (isEventTarget(sourceObj)) {\n            var source_1 = sourceObj;\n            sourceObj.addEventListener(eventName, handler, options);\n            unsubscribe = function () { return source_1.removeEventListener(eventName, handler); };\n        }\n        else if (isJQueryStyleEventEmitter(sourceObj)) {\n            var source_2 = sourceObj;\n            sourceObj.on(eventName, handler);\n            unsubscribe = function () { return source_2.off(eventName, handler); };\n        }\n        else if (isNodeStyleEventEmitter(sourceObj)) {\n            var source_3 = sourceObj;\n            sourceObj.addListener(eventName, handler);\n            unsubscribe = function () { return source_3.removeListener(eventName, handler); };\n        }\n        else {\n            throw new TypeError('Invalid event target');\n        }\n        subscriber.add(new Subscription_1.Subscription(unsubscribe));\n    };\n    FromEventObservable.prototype._subscribe = function (subscriber) {\n        var sourceObj = this.sourceObj;\n        var eventName = this.eventName;\n        var options = this.options;\n        var selector = this.selector;\n        var handler = selector ? function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i - 0] = arguments[_i];\n            }\n            var result = tryCatch_1.tryCatch(selector).apply(void 0, args);\n            if (result === errorObject_1.errorObject) {\n                subscriber.error(errorObject_1.errorObject.e);\n            }\n            else {\n                subscriber.next(result);\n            }\n        } : function (e) { return subscriber.next(e); };\n        FromEventObservable.setupSubscription(sourceObj, eventName, handler, subscriber, options);\n    };\n    return FromEventObservable;\n}(Observable_1.Observable));\nexports.FromEventObservable = FromEventObservable;\n//# sourceMappingURL=FromEventObservable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/FromEventObservable.js\n// module id = 67\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar isArray_1 = require('../util/isArray');\nvar isArrayLike_1 = require('../util/isArrayLike');\nvar isPromise_1 = require('../util/isPromise');\nvar PromiseObservable_1 = require('./PromiseObservable');\nvar IteratorObservable_1 = require('./IteratorObservable');\nvar ArrayObservable_1 = require('./ArrayObservable');\nvar ArrayLikeObservable_1 = require('./ArrayLikeObservable');\nvar iterator_1 = require('../symbol/iterator');\nvar Observable_1 = require('../Observable');\nvar observeOn_1 = require('../operators/observeOn');\nvar observable_1 = require('../symbol/observable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar FromObservable = (function (_super) {\n    __extends(FromObservable, _super);\n    function FromObservable(ish, scheduler) {\n        _super.call(this, null);\n        this.ish = ish;\n        this.scheduler = scheduler;\n    }\n    /**\n     * Creates an Observable from an Array, an array-like object, a Promise, an\n     * iterable object, or an Observable-like object.\n     *\n     * <span class=\"informal\">Converts almost anything to an Observable.</span>\n     *\n     * <img src=\"./img/from.png\" width=\"100%\">\n     *\n     * Convert various other objects and data types into Observables. `from`\n     * converts a Promise or an array-like or an\n     * [iterable](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#iterable)\n     * object into an Observable that emits the items in that promise or array or\n     * iterable. A String, in this context, is treated as an array of characters.\n     * Observable-like objects (contains a function named with the ES2015 Symbol\n     * for Observable) can also be converted through this operator.\n     *\n     * @example <caption>Converts an array to an Observable</caption>\n     * var array = [10, 20, 30];\n     * var result = Rx.Observable.from(array);\n     * result.subscribe(x => console.log(x));\n     *\n     * // Results in the following:\n     * // 10 20 30\n     *\n     * @example <caption>Convert an infinite iterable (from a generator) to an Observable</caption>\n     * function* generateDoubles(seed) {\n     *   var i = seed;\n     *   while (true) {\n     *     yield i;\n     *     i = 2 * i; // double it\n     *   }\n     * }\n     *\n     * var iterator = generateDoubles(3);\n     * var result = Rx.Observable.from(iterator).take(10);\n     * result.subscribe(x => console.log(x));\n     *\n     * // Results in the following:\n     * // 3 6 12 24 48 96 192 384 768 1536\n     *\n     * @see {@link create}\n     * @see {@link fromEvent}\n     * @see {@link fromEventPattern}\n     * @see {@link fromPromise}\n     *\n     * @param {ObservableInput<T>} ish A subscribable object, a Promise, an\n     * Observable-like, an Array, an iterable or an array-like object to be\n     * converted.\n     * @param {Scheduler} [scheduler] The scheduler on which to schedule the\n     * emissions of values.\n     * @return {Observable<T>} The Observable whose values are originally from the\n     * input object that was converted.\n     * @static true\n     * @name from\n     * @owner Observable\n     */\n    FromObservable.create = function (ish, scheduler) {\n        if (ish != null) {\n            if (typeof ish[observable_1.observable] === 'function') {\n                if (ish instanceof Observable_1.Observable && !scheduler) {\n                    return ish;\n                }\n                return new FromObservable(ish, scheduler);\n            }\n            else if (isArray_1.isArray(ish)) {\n                return new ArrayObservable_1.ArrayObservable(ish, scheduler);\n            }\n            else if (isPromise_1.isPromise(ish)) {\n                return new PromiseObservable_1.PromiseObservable(ish, scheduler);\n            }\n            else if (typeof ish[iterator_1.iterator] === 'function' || typeof ish === 'string') {\n                return new IteratorObservable_1.IteratorObservable(ish, scheduler);\n            }\n            else if (isArrayLike_1.isArrayLike(ish)) {\n                return new ArrayLikeObservable_1.ArrayLikeObservable(ish, scheduler);\n            }\n        }\n        throw new TypeError((ish !== null && typeof ish || ish) + ' is not observable');\n    };\n    FromObservable.prototype._subscribe = function (subscriber) {\n        var ish = this.ish;\n        var scheduler = this.scheduler;\n        if (scheduler == null) {\n            return ish[observable_1.observable]().subscribe(subscriber);\n        }\n        else {\n            return ish[observable_1.observable]().subscribe(new observeOn_1.ObserveOnSubscriber(subscriber, scheduler, 0));\n        }\n    };\n    return FromObservable;\n}(Observable_1.Observable));\nexports.FromObservable = FromObservable;\n//# sourceMappingURL=FromObservable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/FromObservable.js\n// module id = 68\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar root_1 = require('../util/root');\nvar Observable_1 = require('../Observable');\nvar iterator_1 = require('../symbol/iterator');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar IteratorObservable = (function (_super) {\n    __extends(IteratorObservable, _super);\n    function IteratorObservable(iterator, scheduler) {\n        _super.call(this);\n        this.scheduler = scheduler;\n        if (iterator == null) {\n            throw new Error('iterator cannot be null.');\n        }\n        this.iterator = getIterator(iterator);\n    }\n    IteratorObservable.create = function (iterator, scheduler) {\n        return new IteratorObservable(iterator, scheduler);\n    };\n    IteratorObservable.dispatch = function (state) {\n        var index = state.index, hasError = state.hasError, iterator = state.iterator, subscriber = state.subscriber;\n        if (hasError) {\n            subscriber.error(state.error);\n            return;\n        }\n        var result = iterator.next();\n        if (result.done) {\n            subscriber.complete();\n            return;\n        }\n        subscriber.next(result.value);\n        state.index = index + 1;\n        if (subscriber.closed) {\n            if (typeof iterator.return === 'function') {\n                iterator.return();\n            }\n            return;\n        }\n        this.schedule(state);\n    };\n    IteratorObservable.prototype._subscribe = function (subscriber) {\n        var index = 0;\n        var _a = this, iterator = _a.iterator, scheduler = _a.scheduler;\n        if (scheduler) {\n            return scheduler.schedule(IteratorObservable.dispatch, 0, {\n                index: index, iterator: iterator, subscriber: subscriber\n            });\n        }\n        else {\n            do {\n                var result = iterator.next();\n                if (result.done) {\n                    subscriber.complete();\n                    break;\n                }\n                else {\n                    subscriber.next(result.value);\n                }\n                if (subscriber.closed) {\n                    if (typeof iterator.return === 'function') {\n                        iterator.return();\n                    }\n                    break;\n                }\n            } while (true);\n        }\n    };\n    return IteratorObservable;\n}(Observable_1.Observable));\nexports.IteratorObservable = IteratorObservable;\nvar StringIterator = (function () {\n    function StringIterator(str, idx, len) {\n        if (idx === void 0) { idx = 0; }\n        if (len === void 0) { len = str.length; }\n        this.str = str;\n        this.idx = idx;\n        this.len = len;\n    }\n    StringIterator.prototype[iterator_1.iterator] = function () { return (this); };\n    StringIterator.prototype.next = function () {\n        return this.idx < this.len ? {\n            done: false,\n            value: this.str.charAt(this.idx++)\n        } : {\n            done: true,\n            value: undefined\n        };\n    };\n    return StringIterator;\n}());\nvar ArrayIterator = (function () {\n    function ArrayIterator(arr, idx, len) {\n        if (idx === void 0) { idx = 0; }\n        if (len === void 0) { len = toLength(arr); }\n        this.arr = arr;\n        this.idx = idx;\n        this.len = len;\n    }\n    ArrayIterator.prototype[iterator_1.iterator] = function () { return this; };\n    ArrayIterator.prototype.next = function () {\n        return this.idx < this.len ? {\n            done: false,\n            value: this.arr[this.idx++]\n        } : {\n            done: true,\n            value: undefined\n        };\n    };\n    return ArrayIterator;\n}());\nfunction getIterator(obj) {\n    var i = obj[iterator_1.iterator];\n    if (!i && typeof obj === 'string') {\n        return new StringIterator(obj);\n    }\n    if (!i && obj.length !== undefined) {\n        return new ArrayIterator(obj);\n    }\n    if (!i) {\n        throw new TypeError('object is not iterable');\n    }\n    return obj[iterator_1.iterator]();\n}\nvar maxSafeInteger = Math.pow(2, 53) - 1;\nfunction toLength(o) {\n    var len = +o.length;\n    if (isNaN(len)) {\n        return 0;\n    }\n    if (len === 0 || !numberIsFinite(len)) {\n        return len;\n    }\n    len = sign(len) * Math.floor(Math.abs(len));\n    if (len <= 0) {\n        return 0;\n    }\n    if (len > maxSafeInteger) {\n        return maxSafeInteger;\n    }\n    return len;\n}\nfunction numberIsFinite(value) {\n    return typeof value === 'number' && root_1.root.isFinite(value);\n}\nfunction sign(value) {\n    var valueAsNumber = +value;\n    if (valueAsNumber === 0) {\n        return valueAsNumber;\n    }\n    if (isNaN(valueAsNumber)) {\n        return valueAsNumber;\n    }\n    return valueAsNumber < 0 ? -1 : 1;\n}\n//# sourceMappingURL=IteratorObservable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/IteratorObservable.js\n// module id = 69\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar root_1 = require('../util/root');\nvar Observable_1 = require('../Observable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar PromiseObservable = (function (_super) {\n    __extends(PromiseObservable, _super);\n    function PromiseObservable(promise, scheduler) {\n        _super.call(this);\n        this.promise = promise;\n        this.scheduler = scheduler;\n    }\n    /**\n     * Converts a Promise to an Observable.\n     *\n     * <span class=\"informal\">Returns an Observable that just emits the Promise's\n     * resolved value, then completes.</span>\n     *\n     * Converts an ES2015 Promise or a Promises/A+ spec compliant Promise to an\n     * Observable. If the Promise resolves with a value, the output Observable\n     * emits that resolved value as a `next`, and then completes. If the Promise\n     * is rejected, then the output Observable emits the corresponding Error.\n     *\n     * @example <caption>Convert the Promise returned by Fetch to an Observable</caption>\n     * var result = Rx.Observable.fromPromise(fetch('http://myserver.com/'));\n     * result.subscribe(x => console.log(x), e => console.error(e));\n     *\n     * @see {@link bindCallback}\n     * @see {@link from}\n     *\n     * @param {PromiseLike<T>} promise The promise to be converted.\n     * @param {Scheduler} [scheduler] An optional IScheduler to use for scheduling\n     * the delivery of the resolved value (or the rejection).\n     * @return {Observable<T>} An Observable which wraps the Promise.\n     * @static true\n     * @name fromPromise\n     * @owner Observable\n     */\n    PromiseObservable.create = function (promise, scheduler) {\n        return new PromiseObservable(promise, scheduler);\n    };\n    PromiseObservable.prototype._subscribe = function (subscriber) {\n        var _this = this;\n        var promise = this.promise;\n        var scheduler = this.scheduler;\n        if (scheduler == null) {\n            if (this._isScalar) {\n                if (!subscriber.closed) {\n                    subscriber.next(this.value);\n                    subscriber.complete();\n                }\n            }\n            else {\n                promise.then(function (value) {\n                    _this.value = value;\n                    _this._isScalar = true;\n                    if (!subscriber.closed) {\n                        subscriber.next(value);\n                        subscriber.complete();\n                    }\n                }, function (err) {\n                    if (!subscriber.closed) {\n                        subscriber.error(err);\n                    }\n                })\n                    .then(null, function (err) {\n                    // escape the promise trap, throw unhandled errors\n                    root_1.root.setTimeout(function () { throw err; });\n                });\n            }\n        }\n        else {\n            if (this._isScalar) {\n                if (!subscriber.closed) {\n                    return scheduler.schedule(dispatchNext, 0, { value: this.value, subscriber: subscriber });\n                }\n            }\n            else {\n                promise.then(function (value) {\n                    _this.value = value;\n                    _this._isScalar = true;\n                    if (!subscriber.closed) {\n                        subscriber.add(scheduler.schedule(dispatchNext, 0, { value: value, subscriber: subscriber }));\n                    }\n                }, function (err) {\n                    if (!subscriber.closed) {\n                        subscriber.add(scheduler.schedule(dispatchError, 0, { err: err, subscriber: subscriber }));\n                    }\n                })\n                    .then(null, function (err) {\n                    // escape the promise trap, throw unhandled errors\n                    root_1.root.setTimeout(function () { throw err; });\n                });\n            }\n        }\n    };\n    return PromiseObservable;\n}(Observable_1.Observable));\nexports.PromiseObservable = PromiseObservable;\nfunction dispatchNext(arg) {\n    var value = arg.value, subscriber = arg.subscriber;\n    if (!subscriber.closed) {\n        subscriber.next(value);\n        subscriber.complete();\n    }\n}\nfunction dispatchError(arg) {\n    var err = arg.err, subscriber = arg.subscriber;\n    if (!subscriber.closed) {\n        subscriber.error(err);\n    }\n}\n//# sourceMappingURL=PromiseObservable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/PromiseObservable.js\n// module id = 70\n// module chunks = 0","\"use strict\";\nvar isScheduler_1 = require('../util/isScheduler');\nvar of_1 = require('./of');\nvar from_1 = require('./from');\nvar concatAll_1 = require('../operators/concatAll');\n/* tslint:enable:max-line-length */\n/**\n * Creates an output Observable which sequentially emits all values from given\n * Observable and then moves on to the next.\n *\n * <span class=\"informal\">Concatenates multiple Observables together by\n * sequentially emitting their values, one Observable after the other.</span>\n *\n * <img src=\"./img/concat.png\" width=\"100%\">\n *\n * `concat` joins multiple Observables together, by subscribing to them one at a time and\n * merging their results into the output Observable. You can pass either an array of\n * Observables, or put them directly as arguments. Passing an empty array will result\n * in Observable that completes immediately.\n *\n * `concat` will subscribe to first input Observable and emit all its values, without\n * changing or affecting them in any way. When that Observable completes, it will\n * subscribe to then next Observable passed and, again, emit its values. This will be\n * repeated, until the operator runs out of Observables. When last input Observable completes,\n * `concat` will complete as well. At any given moment only one Observable passed to operator\n * emits values. If you would like to emit values from passed Observables concurrently, check out\n * {@link merge} instead, especially with optional `concurrent` parameter. As a matter of fact,\n * `concat` is an equivalent of `merge` operator with `concurrent` parameter set to `1`.\n *\n * Note that if some input Observable never completes, `concat` will also never complete\n * and Observables following the one that did not complete will never be subscribed. On the other\n * hand, if some Observable simply completes immediately after it is subscribed, it will be\n * invisible for `concat`, which will just move on to the next Observable.\n *\n * If any Observable in chain errors, instead of passing control to the next Observable,\n * `concat` will error immediately as well. Observables that would be subscribed after\n * the one that emitted error, never will.\n *\n * If you pass to `concat` the same Observable many times, its stream of values\n * will be \"replayed\" on every subscription, which means you can repeat given Observable\n * as many times as you like. If passing the same Observable to `concat` 1000 times becomes tedious,\n * you can always use {@link repeat}.\n *\n * @example <caption>Concatenate a timer counting from 0 to 3 with a synchronous sequence from 1 to 10</caption>\n * var timer = Rx.Observable.interval(1000).take(4);\n * var sequence = Rx.Observable.range(1, 10);\n * var result = Rx.Observable.concat(timer, sequence);\n * result.subscribe(x => console.log(x));\n *\n * // results in:\n * // 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3 -immediate-> 1 ... 10\n *\n *\n * @example <caption>Concatenate an array of 3 Observables</caption>\n * var timer1 = Rx.Observable.interval(1000).take(10);\n * var timer2 = Rx.Observable.interval(2000).take(6);\n * var timer3 = Rx.Observable.interval(500).take(10);\n * var result = Rx.Observable.concat([timer1, timer2, timer3]); // note that array is passed\n * result.subscribe(x => console.log(x));\n *\n * // results in the following:\n * // (Prints to console sequentially)\n * // -1000ms-> 0 -1000ms-> 1 -1000ms-> ... 9\n * // -2000ms-> 0 -2000ms-> 1 -2000ms-> ... 5\n * // -500ms-> 0 -500ms-> 1 -500ms-> ... 9\n *\n *\n * @example <caption>Concatenate the same Observable to repeat it</caption>\n * const timer = Rx.Observable.interval(1000).take(2);\n *\n * Rx.Observable.concat(timer, timer) // concating the same Observable!\n * .subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('...and it is done!')\n * );\n *\n * // Logs:\n * // 0 after 1s\n * // 1 after 2s\n * // 0 after 3s\n * // 1 after 4s\n * // \"...and it is done!\" also after 4s\n *\n * @see {@link concatAll}\n * @see {@link concatMap}\n * @see {@link concatMapTo}\n *\n * @param {ObservableInput} input1 An input Observable to concatenate with others.\n * @param {ObservableInput} input2 An input Observable to concatenate with others.\n * More than one input Observables may be given as argument.\n * @param {Scheduler} [scheduler=null] An optional IScheduler to schedule each\n * Observable subscription on.\n * @return {Observable} All values of each passed Observable merged into a\n * single Observable, in order, in serial fashion.\n * @static true\n * @name concat\n * @owner Observable\n */\nfunction concat() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i - 0] = arguments[_i];\n    }\n    if (observables.length === 1 || (observables.length === 2 && isScheduler_1.isScheduler(observables[1]))) {\n        return from_1.from(observables[0]);\n    }\n    return concatAll_1.concatAll()(of_1.of.apply(void 0, observables));\n}\nexports.concat = concat;\n//# sourceMappingURL=concat.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/concat.js\n// module id = 71\n// module chunks = 0","\"use strict\";\nvar FromObservable_1 = require('./FromObservable');\nexports.from = FromObservable_1.FromObservable.create;\n//# sourceMappingURL=from.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/from.js\n// module id = 72\n// module chunks = 0","\"use strict\";\nvar FromEventObservable_1 = require('./FromEventObservable');\nexports.fromEvent = FromEventObservable_1.FromEventObservable.create;\n//# sourceMappingURL=fromEvent.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/fromEvent.js\n// module id = 73\n// module chunks = 0","\"use strict\";\nvar Observable_1 = require('../Observable');\nvar ArrayObservable_1 = require('./ArrayObservable');\nvar isScheduler_1 = require('../util/isScheduler');\nvar mergeAll_1 = require('../operators/mergeAll');\n/* tslint:enable:max-line-length */\n/**\n * Creates an output Observable which concurrently emits all values from every\n * given input Observable.\n *\n * <span class=\"informal\">Flattens multiple Observables together by blending\n * their values into one Observable.</span>\n *\n * <img src=\"./img/merge.png\" width=\"100%\">\n *\n * `merge` subscribes to each given input Observable (as arguments), and simply\n * forwards (without doing any transformation) all the values from all the input\n * Observables to the output Observable. The output Observable only completes\n * once all input Observables have completed. Any error delivered by an input\n * Observable will be immediately emitted on the output Observable.\n *\n * @example <caption>Merge together two Observables: 1s interval and clicks</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var timer = Rx.Observable.interval(1000);\n * var clicksOrTimer = Rx.Observable.merge(clicks, timer);\n * clicksOrTimer.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // timer will emit ascending values, one every second(1000ms) to console\n * // clicks logs MouseEvents to console everytime the \"document\" is clicked\n * // Since the two streams are merged you see these happening\n * // as they occur.\n *\n * @example <caption>Merge together 3 Observables, but only 2 run concurrently</caption>\n * var timer1 = Rx.Observable.interval(1000).take(10);\n * var timer2 = Rx.Observable.interval(2000).take(6);\n * var timer3 = Rx.Observable.interval(500).take(10);\n * var concurrent = 2; // the argument\n * var merged = Rx.Observable.merge(timer1, timer2, timer3, concurrent);\n * merged.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // - First timer1 and timer2 will run concurrently\n * // - timer1 will emit a value every 1000ms for 10 iterations\n * // - timer2 will emit a value every 2000ms for 6 iterations\n * // - after timer1 hits it's max iteration, timer2 will\n * //   continue, and timer3 will start to run concurrently with timer2\n * // - when timer2 hits it's max iteration it terminates, and\n * //   timer3 will continue to emit a value every 500ms until it is complete\n *\n * @see {@link mergeAll}\n * @see {@link mergeMap}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n *\n * @param {...ObservableInput} observables Input Observables to merge together.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @param {Scheduler} [scheduler=null] The IScheduler to use for managing\n * concurrency of input Observables.\n * @return {Observable} an Observable that emits items that are the result of\n * every input Observable.\n * @static true\n * @name merge\n * @owner Observable\n */\nfunction merge() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i - 0] = arguments[_i];\n    }\n    var concurrent = Number.POSITIVE_INFINITY;\n    var scheduler = null;\n    var last = observables[observables.length - 1];\n    if (isScheduler_1.isScheduler(last)) {\n        scheduler = observables.pop();\n        if (observables.length > 1 && typeof observables[observables.length - 1] === 'number') {\n            concurrent = observables.pop();\n        }\n    }\n    else if (typeof last === 'number') {\n        concurrent = observables.pop();\n    }\n    if (scheduler === null && observables.length === 1 && observables[0] instanceof Observable_1.Observable) {\n        return observables[0];\n    }\n    return mergeAll_1.mergeAll(concurrent)(new ArrayObservable_1.ArrayObservable(observables, scheduler));\n}\nexports.merge = merge;\n//# sourceMappingURL=merge.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/merge.js\n// module id = 74\n// module chunks = 0","\"use strict\";\nvar ArrayObservable_1 = require('./ArrayObservable');\nexports.of = ArrayObservable_1.ArrayObservable.of;\n//# sourceMappingURL=of.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/of.js\n// module id = 75\n// module chunks = 0","\"use strict\";\nvar distinctUntilChanged_1 = require('../operators/distinctUntilChanged');\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that emits all items emitted by the source Observable that are distinct by comparison from the previous item.\n *\n * If a comparator function is provided, then it will be called for each item to test for whether or not that value should be emitted.\n *\n * If a comparator function is not provided, an equality check is used by default.\n *\n * @example <caption>A simple example with numbers</caption>\n * Observable.of(1, 1, 2, 2, 2, 1, 1, 2, 3, 3, 4)\n *   .distinctUntilChanged()\n *   .subscribe(x => console.log(x)); // 1, 2, 1, 2, 3, 4\n *\n * @example <caption>An example using a compare function</caption>\n * interface Person {\n *    age: number,\n *    name: string\n * }\n *\n * Observable.of<Person>(\n *     { age: 4, name: 'Foo'},\n *     { age: 7, name: 'Bar'},\n *     { age: 5, name: 'Foo'})\n *     { age: 6, name: 'Foo'})\n *     .distinctUntilChanged((p: Person, q: Person) => p.name === q.name)\n *     .subscribe(x => console.log(x));\n *\n * // displays:\n * // { age: 4, name: 'Foo' }\n * // { age: 7, name: 'Bar' }\n * // { age: 5, name: 'Foo' }\n *\n * @see {@link distinct}\n * @see {@link distinctUntilKeyChanged}\n *\n * @param {function} [compare] Optional comparison function called to test if an item is distinct from the previous item in the source.\n * @return {Observable} An Observable that emits items from the source Observable with distinct values.\n * @method distinctUntilChanged\n * @owner Observable\n */\nfunction distinctUntilChanged(compare, keySelector) {\n    return distinctUntilChanged_1.distinctUntilChanged(compare, keySelector)(this);\n}\nexports.distinctUntilChanged = distinctUntilChanged;\n//# sourceMappingURL=distinctUntilChanged.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/operator/distinctUntilChanged.js\n// module id = 76\n// module chunks = 0","\"use strict\";\nvar first_1 = require('../operators/first');\n/**\n * Emits only the first value (or the first value that meets some condition)\n * emitted by the source Observable.\n *\n * <span class=\"informal\">Emits only the first value. Or emits only the first\n * value that passes some test.</span>\n *\n * <img src=\"./img/first.png\" width=\"100%\">\n *\n * If called with no arguments, `first` emits the first value of the source\n * Observable, then completes. If called with a `predicate` function, `first`\n * emits the first value of the source that matches the specified condition. It\n * may also take a `resultSelector` function to produce the output value from\n * the input value, and a `defaultValue` to emit in case the source completes\n * before it is able to emit a valid value. Throws an error if `defaultValue`\n * was not provided and a matching element is not found.\n *\n * @example <caption>Emit only the first click that happens on the DOM</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.first();\n * result.subscribe(x => console.log(x));\n *\n * @example <caption>Emits the first click that happens on a DIV</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.first(ev => ev.target.tagName === 'DIV');\n * result.subscribe(x => console.log(x));\n *\n * @see {@link filter}\n * @see {@link find}\n * @see {@link take}\n *\n * @throws {EmptyError} Delivers an EmptyError to the Observer's `error`\n * callback if the Observable completes before any `next` notification was sent.\n *\n * @param {function(value: T, index: number, source: Observable<T>): boolean} [predicate]\n * An optional function called with each item to test for condition matching.\n * @param {function(value: T, index: number): R} [resultSelector] A function to\n * produce the value on the output Observable based on the values\n * and the indices of the source Observable. The arguments passed to this\n * function are:\n * - `value`: the value that was emitted on the source.\n * - `index`: the \"index\" of the value from the source.\n * @param {R} [defaultValue] The default value emitted in case no valid value\n * was found on the source.\n * @return {Observable<T|R>} An Observable of the first item that matches the\n * condition.\n * @method first\n * @owner Observable\n */\nfunction first(predicate, resultSelector, defaultValue) {\n    return first_1.first(predicate, resultSelector, defaultValue)(this);\n}\nexports.first = first;\n//# sourceMappingURL=first.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/operator/first.js\n// module id = 77\n// module chunks = 0","\"use strict\";\nvar map_1 = require('../operators/map');\n/**\n * Applies a given `project` function to each value emitted by the source\n * Observable, and emits the resulting values as an Observable.\n *\n * <span class=\"informal\">Like [Array.prototype.map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map),\n * it passes each source value through a transformation function to get\n * corresponding output values.</span>\n *\n * <img src=\"./img/map.png\" width=\"100%\">\n *\n * Similar to the well known `Array.prototype.map` function, this operator\n * applies a projection to each value and emits that projection in the output\n * Observable.\n *\n * @example <caption>Map every click to the clientX position of that click</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var positions = clicks.map(ev => ev.clientX);\n * positions.subscribe(x => console.log(x));\n *\n * @see {@link mapTo}\n * @see {@link pluck}\n *\n * @param {function(value: T, index: number): R} project The function to apply\n * to each `value` emitted by the source Observable. The `index` parameter is\n * the number `i` for the i-th emission that has happened since the\n * subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to define what `this` is in the\n * `project` function.\n * @return {Observable<R>} An Observable that emits the values from the source\n * Observable transformed by the given `project` function.\n * @method map\n * @owner Observable\n */\nfunction map(project, thisArg) {\n    return map_1.map(project, thisArg)(this);\n}\nexports.map = map;\n//# sourceMappingURL=map.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/operator/map.js\n// module id = 78\n// module chunks = 0","\"use strict\";\nvar startWith_1 = require('../operators/startWith');\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that emits the items you specify as arguments before it begins to emit\n * items emitted by the source Observable.\n *\n * <img src=\"./img/startWith.png\" width=\"100%\">\n *\n * @param {...T} values - Items you want the modified Observable to emit first.\n * @param {Scheduler} [scheduler] - A {@link IScheduler} to use for scheduling\n * the emissions of the `next` notifications.\n * @return {Observable} An Observable that emits the items in the specified Iterable and then emits the items\n * emitted by the source Observable.\n * @method startWith\n * @owner Observable\n */\nfunction startWith() {\n    var array = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        array[_i - 0] = arguments[_i];\n    }\n    return startWith_1.startWith.apply(void 0, array)(this);\n}\nexports.startWith = startWith;\n//# sourceMappingURL=startWith.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/operator/startWith.js\n// module id = 79\n// module chunks = 0","\"use strict\";\nvar mergeAll_1 = require('./mergeAll');\n/**\n * Converts a higher-order Observable into a first-order Observable by\n * concatenating the inner Observables in order.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables by putting one\n * inner Observable after the other.</span>\n *\n * <img src=\"./img/concatAll.png\" width=\"100%\">\n *\n * Joins every Observable emitted by the source (a higher-order Observable), in\n * a serial fashion. It subscribes to each inner Observable only after the\n * previous inner Observable has completed, and merges all of their values into\n * the returned observable.\n *\n * __Warning:__ If the source Observable emits Observables quickly and\n * endlessly, and the inner Observables it emits generally complete slower than\n * the source emits, you can run into memory issues as the incoming Observables\n * collect in an unbounded buffer.\n *\n * Note: `concatAll` is equivalent to `mergeAll` with concurrency parameter set\n * to `1`.\n *\n * @example <caption>For each click event, tick every second from 0 to 3, with no concurrency</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map(ev => Rx.Observable.interval(1000).take(4));\n * var firstOrder = higherOrder.concatAll();\n * firstOrder.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // (results are not concurrent)\n * // For every click on the \"document\" it will emit values 0 to 3 spaced\n * // on a 1000ms interval\n * // one click = 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3\n *\n * @see {@link combineAll}\n * @see {@link concat}\n * @see {@link concatMap}\n * @see {@link concatMapTo}\n * @see {@link exhaust}\n * @see {@link mergeAll}\n * @see {@link switch}\n * @see {@link zipAll}\n *\n * @return {Observable} An Observable emitting values from all the inner\n * Observables concatenated.\n * @method concatAll\n * @owner Observable\n */\nfunction concatAll() {\n    return mergeAll_1.mergeAll(1);\n}\nexports.concatAll = concatAll;\n//# sourceMappingURL=concatAll.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/operators/concatAll.js\n// module id = 80\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar tryCatch_1 = require('../util/tryCatch');\nvar errorObject_1 = require('../util/errorObject');\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that emits all items emitted by the source Observable that are distinct by comparison from the previous item.\n *\n * If a comparator function is provided, then it will be called for each item to test for whether or not that value should be emitted.\n *\n * If a comparator function is not provided, an equality check is used by default.\n *\n * @example <caption>A simple example with numbers</caption>\n * Observable.of(1, 1, 2, 2, 2, 1, 1, 2, 3, 3, 4)\n *   .distinctUntilChanged()\n *   .subscribe(x => console.log(x)); // 1, 2, 1, 2, 3, 4\n *\n * @example <caption>An example using a compare function</caption>\n * interface Person {\n *    age: number,\n *    name: string\n * }\n *\n * Observable.of<Person>(\n *     { age: 4, name: 'Foo'},\n *     { age: 7, name: 'Bar'},\n *     { age: 5, name: 'Foo'})\n *     { age: 6, name: 'Foo'})\n *     .distinctUntilChanged((p: Person, q: Person) => p.name === q.name)\n *     .subscribe(x => console.log(x));\n *\n * // displays:\n * // { age: 4, name: 'Foo' }\n * // { age: 7, name: 'Bar' }\n * // { age: 5, name: 'Foo' }\n *\n * @see {@link distinct}\n * @see {@link distinctUntilKeyChanged}\n *\n * @param {function} [compare] Optional comparison function called to test if an item is distinct from the previous item in the source.\n * @return {Observable} An Observable that emits items from the source Observable with distinct values.\n * @method distinctUntilChanged\n * @owner Observable\n */\nfunction distinctUntilChanged(compare, keySelector) {\n    return function (source) { return source.lift(new DistinctUntilChangedOperator(compare, keySelector)); };\n}\nexports.distinctUntilChanged = distinctUntilChanged;\nvar DistinctUntilChangedOperator = (function () {\n    function DistinctUntilChangedOperator(compare, keySelector) {\n        this.compare = compare;\n        this.keySelector = keySelector;\n    }\n    DistinctUntilChangedOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DistinctUntilChangedSubscriber(subscriber, this.compare, this.keySelector));\n    };\n    return DistinctUntilChangedOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar DistinctUntilChangedSubscriber = (function (_super) {\n    __extends(DistinctUntilChangedSubscriber, _super);\n    function DistinctUntilChangedSubscriber(destination, compare, keySelector) {\n        _super.call(this, destination);\n        this.keySelector = keySelector;\n        this.hasKey = false;\n        if (typeof compare === 'function') {\n            this.compare = compare;\n        }\n    }\n    DistinctUntilChangedSubscriber.prototype.compare = function (x, y) {\n        return x === y;\n    };\n    DistinctUntilChangedSubscriber.prototype._next = function (value) {\n        var keySelector = this.keySelector;\n        var key = value;\n        if (keySelector) {\n            key = tryCatch_1.tryCatch(this.keySelector)(value);\n            if (key === errorObject_1.errorObject) {\n                return this.destination.error(errorObject_1.errorObject.e);\n            }\n        }\n        var result = false;\n        if (this.hasKey) {\n            result = tryCatch_1.tryCatch(this.compare)(this.key, key);\n            if (result === errorObject_1.errorObject) {\n                return this.destination.error(errorObject_1.errorObject.e);\n            }\n        }\n        else {\n            this.hasKey = true;\n        }\n        if (Boolean(result) === false) {\n            this.key = key;\n            this.destination.next(value);\n        }\n    };\n    return DistinctUntilChangedSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=distinctUntilChanged.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/operators/distinctUntilChanged.js\n// module id = 81\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar EmptyError_1 = require('../util/EmptyError');\n/**\n * Emits only the first value (or the first value that meets some condition)\n * emitted by the source Observable.\n *\n * <span class=\"informal\">Emits only the first value. Or emits only the first\n * value that passes some test.</span>\n *\n * <img src=\"./img/first.png\" width=\"100%\">\n *\n * If called with no arguments, `first` emits the first value of the source\n * Observable, then completes. If called with a `predicate` function, `first`\n * emits the first value of the source that matches the specified condition. It\n * may also take a `resultSelector` function to produce the output value from\n * the input value, and a `defaultValue` to emit in case the source completes\n * before it is able to emit a valid value. Throws an error if `defaultValue`\n * was not provided and a matching element is not found.\n *\n * @example <caption>Emit only the first click that happens on the DOM</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.first();\n * result.subscribe(x => console.log(x));\n *\n * @example <caption>Emits the first click that happens on a DIV</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.first(ev => ev.target.tagName === 'DIV');\n * result.subscribe(x => console.log(x));\n *\n * @see {@link filter}\n * @see {@link find}\n * @see {@link take}\n *\n * @throws {EmptyError} Delivers an EmptyError to the Observer's `error`\n * callback if the Observable completes before any `next` notification was sent.\n *\n * @param {function(value: T, index: number, source: Observable<T>): boolean} [predicate]\n * An optional function called with each item to test for condition matching.\n * @param {function(value: T, index: number): R} [resultSelector] A function to\n * produce the value on the output Observable based on the values\n * and the indices of the source Observable. The arguments passed to this\n * function are:\n * - `value`: the value that was emitted on the source.\n * - `index`: the \"index\" of the value from the source.\n * @param {R} [defaultValue] The default value emitted in case no valid value\n * was found on the source.\n * @return {Observable<T|R>} An Observable of the first item that matches the\n * condition.\n * @method first\n * @owner Observable\n */\nfunction first(predicate, resultSelector, defaultValue) {\n    return function (source) { return source.lift(new FirstOperator(predicate, resultSelector, defaultValue, source)); };\n}\nexports.first = first;\nvar FirstOperator = (function () {\n    function FirstOperator(predicate, resultSelector, defaultValue, source) {\n        this.predicate = predicate;\n        this.resultSelector = resultSelector;\n        this.defaultValue = defaultValue;\n        this.source = source;\n    }\n    FirstOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new FirstSubscriber(observer, this.predicate, this.resultSelector, this.defaultValue, this.source));\n    };\n    return FirstOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar FirstSubscriber = (function (_super) {\n    __extends(FirstSubscriber, _super);\n    function FirstSubscriber(destination, predicate, resultSelector, defaultValue, source) {\n        _super.call(this, destination);\n        this.predicate = predicate;\n        this.resultSelector = resultSelector;\n        this.defaultValue = defaultValue;\n        this.source = source;\n        this.index = 0;\n        this.hasCompleted = false;\n        this._emitted = false;\n    }\n    FirstSubscriber.prototype._next = function (value) {\n        var index = this.index++;\n        if (this.predicate) {\n            this._tryPredicate(value, index);\n        }\n        else {\n            this._emit(value, index);\n        }\n    };\n    FirstSubscriber.prototype._tryPredicate = function (value, index) {\n        var result;\n        try {\n            result = this.predicate(value, index, this.source);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (result) {\n            this._emit(value, index);\n        }\n    };\n    FirstSubscriber.prototype._emit = function (value, index) {\n        if (this.resultSelector) {\n            this._tryResultSelector(value, index);\n            return;\n        }\n        this._emitFinal(value);\n    };\n    FirstSubscriber.prototype._tryResultSelector = function (value, index) {\n        var result;\n        try {\n            result = this.resultSelector(value, index);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this._emitFinal(result);\n    };\n    FirstSubscriber.prototype._emitFinal = function (value) {\n        var destination = this.destination;\n        if (!this._emitted) {\n            this._emitted = true;\n            destination.next(value);\n            destination.complete();\n            this.hasCompleted = true;\n        }\n    };\n    FirstSubscriber.prototype._complete = function () {\n        var destination = this.destination;\n        if (!this.hasCompleted && typeof this.defaultValue !== 'undefined') {\n            destination.next(this.defaultValue);\n            destination.complete();\n        }\n        else if (!this.hasCompleted) {\n            destination.error(new EmptyError_1.EmptyError);\n        }\n    };\n    return FirstSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=first.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/operators/first.js\n// module id = 82\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/**\n * Applies a given `project` function to each value emitted by the source\n * Observable, and emits the resulting values as an Observable.\n *\n * <span class=\"informal\">Like [Array.prototype.map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map),\n * it passes each source value through a transformation function to get\n * corresponding output values.</span>\n *\n * <img src=\"./img/map.png\" width=\"100%\">\n *\n * Similar to the well known `Array.prototype.map` function, this operator\n * applies a projection to each value and emits that projection in the output\n * Observable.\n *\n * @example <caption>Map every click to the clientX position of that click</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var positions = clicks.map(ev => ev.clientX);\n * positions.subscribe(x => console.log(x));\n *\n * @see {@link mapTo}\n * @see {@link pluck}\n *\n * @param {function(value: T, index: number): R} project The function to apply\n * to each `value` emitted by the source Observable. The `index` parameter is\n * the number `i` for the i-th emission that has happened since the\n * subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to define what `this` is in the\n * `project` function.\n * @return {Observable<R>} An Observable that emits the values from the source\n * Observable transformed by the given `project` function.\n * @method map\n * @owner Observable\n */\nfunction map(project, thisArg) {\n    return function mapOperation(source) {\n        if (typeof project !== 'function') {\n            throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n        }\n        return source.lift(new MapOperator(project, thisArg));\n    };\n}\nexports.map = map;\nvar MapOperator = (function () {\n    function MapOperator(project, thisArg) {\n        this.project = project;\n        this.thisArg = thisArg;\n    }\n    MapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n    };\n    return MapOperator;\n}());\nexports.MapOperator = MapOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar MapSubscriber = (function (_super) {\n    __extends(MapSubscriber, _super);\n    function MapSubscriber(destination, project, thisArg) {\n        _super.call(this, destination);\n        this.project = project;\n        this.count = 0;\n        this.thisArg = thisArg || this;\n    }\n    // NOTE: This looks unoptimized, but it's actually purposefully NOT\n    // using try/catch optimizations.\n    MapSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.project.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return MapSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=map.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/operators/map.js\n// module id = 83\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar subscribeToResult_1 = require('../util/subscribeToResult');\nvar OuterSubscriber_1 = require('../OuterSubscriber');\n/* tslint:enable:max-line-length */\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link mergeAll}.</span>\n *\n * <img src=\"./img/mergeMap.png\" width=\"100%\">\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an Observable, and then merging those resulting Observables and\n * emitting the results of this merger.\n *\n * @example <caption>Map and flatten each letter to an Observable ticking every 1 second</caption>\n * var letters = Rx.Observable.of('a', 'b', 'c');\n * var result = letters.mergeMap(x =>\n *   Rx.Observable.interval(1000).map(i => x+i)\n * );\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // a0\n * // b0\n * // c0\n * // a1\n * // b1\n * // c1\n * // continues to list a,b,c with respective ascending integers\n *\n * @see {@link concatMap}\n * @see {@link exhaustMap}\n * @see {@link merge}\n * @see {@link mergeAll}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n * @see {@link switchMap}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]\n * A function to produce the value on the output Observable based on the values\n * and the indices of the source (outer) emission and the inner Observable\n * emission. The arguments passed to this function are:\n * - `outerValue`: the value that came from the source\n * - `innerValue`: the value that came from the projected Observable\n * - `outerIndex`: the \"index\" of the value that came from the source\n * - `innerIndex`: the \"index\" of the value from the projected Observable\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits the result of applying the\n * projection function (and the optional `resultSelector`) to each item emitted\n * by the source Observable and merging the results of the Observables obtained\n * from this transformation.\n * @method mergeMap\n * @owner Observable\n */\nfunction mergeMap(project, resultSelector, concurrent) {\n    if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n    return function mergeMapOperatorFunction(source) {\n        if (typeof resultSelector === 'number') {\n            concurrent = resultSelector;\n            resultSelector = null;\n        }\n        return source.lift(new MergeMapOperator(project, resultSelector, concurrent));\n    };\n}\nexports.mergeMap = mergeMap;\nvar MergeMapOperator = (function () {\n    function MergeMapOperator(project, resultSelector, concurrent) {\n        if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n        this.project = project;\n        this.resultSelector = resultSelector;\n        this.concurrent = concurrent;\n    }\n    MergeMapOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new MergeMapSubscriber(observer, this.project, this.resultSelector, this.concurrent));\n    };\n    return MergeMapOperator;\n}());\nexports.MergeMapOperator = MergeMapOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar MergeMapSubscriber = (function (_super) {\n    __extends(MergeMapSubscriber, _super);\n    function MergeMapSubscriber(destination, project, resultSelector, concurrent) {\n        if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n        _super.call(this, destination);\n        this.project = project;\n        this.resultSelector = resultSelector;\n        this.concurrent = concurrent;\n        this.hasCompleted = false;\n        this.buffer = [];\n        this.active = 0;\n        this.index = 0;\n    }\n    MergeMapSubscriber.prototype._next = function (value) {\n        if (this.active < this.concurrent) {\n            this._tryNext(value);\n        }\n        else {\n            this.buffer.push(value);\n        }\n    };\n    MergeMapSubscriber.prototype._tryNext = function (value) {\n        var result;\n        var index = this.index++;\n        try {\n            result = this.project(value, index);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.active++;\n        this._innerSub(result, value, index);\n    };\n    MergeMapSubscriber.prototype._innerSub = function (ish, value, index) {\n        this.add(subscribeToResult_1.subscribeToResult(this, ish, value, index));\n    };\n    MergeMapSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (this.active === 0 && this.buffer.length === 0) {\n            this.destination.complete();\n        }\n    };\n    MergeMapSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        if (this.resultSelector) {\n            this._notifyResultSelector(outerValue, innerValue, outerIndex, innerIndex);\n        }\n        else {\n            this.destination.next(innerValue);\n        }\n    };\n    MergeMapSubscriber.prototype._notifyResultSelector = function (outerValue, innerValue, outerIndex, innerIndex) {\n        var result;\n        try {\n            result = this.resultSelector(outerValue, innerValue, outerIndex, innerIndex);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    MergeMapSubscriber.prototype.notifyComplete = function (innerSub) {\n        var buffer = this.buffer;\n        this.remove(innerSub);\n        this.active--;\n        if (buffer.length > 0) {\n            this._next(buffer.shift());\n        }\n        else if (this.active === 0 && this.hasCompleted) {\n            this.destination.complete();\n        }\n    };\n    return MergeMapSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\nexports.MergeMapSubscriber = MergeMapSubscriber;\n//# sourceMappingURL=mergeMap.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/operators/mergeMap.js\n// module id = 84\n// module chunks = 0","\"use strict\";\nvar ArrayObservable_1 = require('../observable/ArrayObservable');\nvar ScalarObservable_1 = require('../observable/ScalarObservable');\nvar EmptyObservable_1 = require('../observable/EmptyObservable');\nvar concat_1 = require('../observable/concat');\nvar isScheduler_1 = require('../util/isScheduler');\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that emits the items you specify as arguments before it begins to emit\n * items emitted by the source Observable.\n *\n * <img src=\"./img/startWith.png\" width=\"100%\">\n *\n * @param {...T} values - Items you want the modified Observable to emit first.\n * @param {Scheduler} [scheduler] - A {@link IScheduler} to use for scheduling\n * the emissions of the `next` notifications.\n * @return {Observable} An Observable that emits the items in the specified Iterable and then emits the items\n * emitted by the source Observable.\n * @method startWith\n * @owner Observable\n */\nfunction startWith() {\n    var array = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        array[_i - 0] = arguments[_i];\n    }\n    return function (source) {\n        var scheduler = array[array.length - 1];\n        if (isScheduler_1.isScheduler(scheduler)) {\n            array.pop();\n        }\n        else {\n            scheduler = null;\n        }\n        var len = array.length;\n        if (len === 1) {\n            return concat_1.concat(new ScalarObservable_1.ScalarObservable(array[0], scheduler), source);\n        }\n        else if (len > 1) {\n            return concat_1.concat(new ArrayObservable_1.ArrayObservable(array, scheduler), source);\n        }\n        else {\n            return concat_1.concat(new EmptyObservable_1.EmptyObservable(scheduler), source);\n        }\n    };\n}\nexports.startWith = startWith;\n//# sourceMappingURL=startWith.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/operators/startWith.js\n// module id = 85\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscription_1 = require('../Subscription');\n/**\n * A unit of work to be executed in a {@link Scheduler}. An action is typically\n * created from within a Scheduler and an RxJS user does not need to concern\n * themselves about creating and manipulating an Action.\n *\n * ```ts\n * class Action<T> extends Subscription {\n *   new (scheduler: Scheduler, work: (state?: T) => void);\n *   schedule(state?: T, delay: number = 0): Subscription;\n * }\n * ```\n *\n * @class Action<T>\n */\nvar Action = (function (_super) {\n    __extends(Action, _super);\n    function Action(scheduler, work) {\n        _super.call(this);\n    }\n    /**\n     * Schedules this action on its parent Scheduler for execution. May be passed\n     * some context object, `state`. May happen at some point in the future,\n     * according to the `delay` parameter, if specified.\n     * @param {T} [state] Some contextual data that the `work` function uses when\n     * called by the Scheduler.\n     * @param {number} [delay] Time to wait before executing the work, where the\n     * time unit is implicit and defined by the Scheduler.\n     * @return {void}\n     */\n    Action.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        return this;\n    };\n    return Action;\n}(Subscription_1.Subscription));\nexports.Action = Action;\n//# sourceMappingURL=Action.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/scheduler/Action.js\n// module id = 86\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar root_1 = require('../util/root');\nvar Action_1 = require('./Action');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar AsyncAction = (function (_super) {\n    __extends(AsyncAction, _super);\n    function AsyncAction(scheduler, work) {\n        _super.call(this, scheduler, work);\n        this.scheduler = scheduler;\n        this.work = work;\n        this.pending = false;\n    }\n    AsyncAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (this.closed) {\n            return this;\n        }\n        // Always replace the current state with the new state.\n        this.state = state;\n        // Set the pending flag indicating that this action has been scheduled, or\n        // has recursively rescheduled itself.\n        this.pending = true;\n        var id = this.id;\n        var scheduler = this.scheduler;\n        //\n        // Important implementation note:\n        //\n        // Actions only execute once by default, unless rescheduled from within the\n        // scheduled callback. This allows us to implement single and repeat\n        // actions via the same code path, without adding API surface area, as well\n        // as mimic traditional recursion but across asynchronous boundaries.\n        //\n        // However, JS runtimes and timers distinguish between intervals achieved by\n        // serial `setTimeout` calls vs. a single `setInterval` call. An interval of\n        // serial `setTimeout` calls can be individually delayed, which delays\n        // scheduling the next `setTimeout`, and so on. `setInterval` attempts to\n        // guarantee the interval callback will be invoked more precisely to the\n        // interval period, regardless of load.\n        //\n        // Therefore, we use `setInterval` to schedule single and repeat actions.\n        // If the action reschedules itself with the same delay, the interval is not\n        // canceled. If the action doesn't reschedule, or reschedules with a\n        // different delay, the interval will be canceled after scheduled callback\n        // execution.\n        //\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        this.delay = delay;\n        // If this action has already an async Id, don't request a new one.\n        this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    };\n    AsyncAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        return root_1.root.setInterval(scheduler.flush.bind(scheduler, this), delay);\n    };\n    AsyncAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        // If this action is rescheduled with the same delay time, don't clear the interval id.\n        if (delay !== null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        // Otherwise, if the action's delay time is different from the current delay,\n        // or the action has been rescheduled before it's executed, clear the interval id\n        return root_1.root.clearInterval(id) && undefined || undefined;\n    };\n    /**\n     * Immediately executes this action and the `work` it contains.\n     * @return {any}\n     */\n    AsyncAction.prototype.execute = function (state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        var error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            // Dequeue if the action didn't reschedule itself. Don't call\n            // unsubscribe(), because the action could reschedule later.\n            // For example:\n            // ```\n            // scheduler.schedule(function doWork(counter) {\n            //   /* ... I'm a busy worker bee ... */\n            //   var originalAction = this;\n            //   /* wait 100ms before rescheduling the action */\n            //   setTimeout(function () {\n            //     originalAction.schedule(counter + 1);\n            //   }, 100);\n            // }, 1000);\n            // ```\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    };\n    AsyncAction.prototype._execute = function (state, delay) {\n        var errored = false;\n        var errorValue = undefined;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = !!e && e || new Error(e);\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    };\n    AsyncAction.prototype._unsubscribe = function () {\n        var id = this.id;\n        var scheduler = this.scheduler;\n        var actions = scheduler.actions;\n        var index = actions.indexOf(this);\n        this.work = null;\n        this.state = null;\n        this.pending = false;\n        this.scheduler = null;\n        if (index !== -1) {\n            actions.splice(index, 1);\n        }\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, null);\n        }\n        this.delay = null;\n    };\n    return AsyncAction;\n}(Action_1.Action));\nexports.AsyncAction = AsyncAction;\n//# sourceMappingURL=AsyncAction.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/scheduler/AsyncAction.js\n// module id = 87\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Scheduler_1 = require('../Scheduler');\nvar AsyncScheduler = (function (_super) {\n    __extends(AsyncScheduler, _super);\n    function AsyncScheduler() {\n        _super.apply(this, arguments);\n        this.actions = [];\n        /**\n         * A flag to indicate whether the Scheduler is currently executing a batch of\n         * queued actions.\n         * @type {boolean}\n         */\n        this.active = false;\n        /**\n         * An internal ID used to track the latest asynchronous task such as those\n         * coming from `setTimeout`, `setInterval`, `requestAnimationFrame`, and\n         * others.\n         * @type {any}\n         */\n        this.scheduled = undefined;\n    }\n    AsyncScheduler.prototype.flush = function (action) {\n        var actions = this.actions;\n        if (this.active) {\n            actions.push(action);\n            return;\n        }\n        var error;\n        this.active = true;\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (action = actions.shift()); // exhaust the scheduler queue\n        this.active = false;\n        if (error) {\n            while (action = actions.shift()) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AsyncScheduler;\n}(Scheduler_1.Scheduler));\nexports.AsyncScheduler = AsyncScheduler;\n//# sourceMappingURL=AsyncScheduler.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/scheduler/AsyncScheduler.js\n// module id = 88\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar AsyncAction_1 = require('./AsyncAction');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar QueueAction = (function (_super) {\n    __extends(QueueAction, _super);\n    function QueueAction(scheduler, work) {\n        _super.call(this, scheduler, work);\n        this.scheduler = scheduler;\n        this.work = work;\n    }\n    QueueAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (delay > 0) {\n            return _super.prototype.schedule.call(this, state, delay);\n        }\n        this.delay = delay;\n        this.state = state;\n        this.scheduler.flush(this);\n        return this;\n    };\n    QueueAction.prototype.execute = function (state, delay) {\n        return (delay > 0 || this.closed) ?\n            _super.prototype.execute.call(this, state, delay) :\n            this._execute(state, delay);\n    };\n    QueueAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        // If delay exists and is greater than 0, or if the delay is null (the\n        // action wasn't rescheduled) but was originally scheduled as an async\n        // action, then recycle as an async action.\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n        }\n        // Otherwise flush the scheduler starting with this action.\n        return scheduler.flush(this);\n    };\n    return QueueAction;\n}(AsyncAction_1.AsyncAction));\nexports.QueueAction = QueueAction;\n//# sourceMappingURL=QueueAction.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/scheduler/QueueAction.js\n// module id = 89\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar AsyncScheduler_1 = require('./AsyncScheduler');\nvar QueueScheduler = (function (_super) {\n    __extends(QueueScheduler, _super);\n    function QueueScheduler() {\n        _super.apply(this, arguments);\n    }\n    return QueueScheduler;\n}(AsyncScheduler_1.AsyncScheduler));\nexports.QueueScheduler = QueueScheduler;\n//# sourceMappingURL=QueueScheduler.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/scheduler/QueueScheduler.js\n// module id = 90\n// module chunks = 0","\"use strict\";\nvar QueueAction_1 = require('./QueueAction');\nvar QueueScheduler_1 = require('./QueueScheduler');\n/**\n *\n * Queue Scheduler\n *\n * <span class=\"informal\">Put every next task on a queue, instead of executing it immediately</span>\n *\n * `queue` scheduler, when used with delay, behaves the same as {@link async} scheduler.\n *\n * When used without delay, it schedules given task synchronously - executes it right when\n * it is scheduled. However when called recursively, that is when inside the scheduled task,\n * another task is scheduled with queue scheduler, instead of executing immediately as well,\n * that task will be put on a queue and wait for current one to finish.\n *\n * This means that when you execute task with `queue` scheduler, you are sure it will end\n * before any other task scheduled with that scheduler will start.\n *\n * @examples <caption>Schedule recursively first, then do something</caption>\n *\n * Rx.Scheduler.queue.schedule(() => {\n *   Rx.Scheduler.queue.schedule(() => console.log('second')); // will not happen now, but will be put on a queue\n *\n *   console.log('first');\n * });\n *\n * // Logs:\n * // \"first\"\n * // \"second\"\n *\n *\n * @example <caption>Reschedule itself recursively</caption>\n *\n * Rx.Scheduler.queue.schedule(function(state) {\n *   if (state !== 0) {\n *     console.log('before', state);\n *     this.schedule(state - 1); // `this` references currently executing Action,\n *                               // which we reschedule with new state\n *     console.log('after', state);\n *   }\n * }, 0, 3);\n *\n * // In scheduler that runs recursively, you would expect:\n * // \"before\", 3\n * // \"before\", 2\n * // \"before\", 1\n * // \"after\", 1\n * // \"after\", 2\n * // \"after\", 3\n *\n * // But with queue it logs:\n * // \"before\", 3\n * // \"after\", 3\n * // \"before\", 2\n * // \"after\", 2\n * // \"before\", 1\n * // \"after\", 1\n *\n *\n * @static true\n * @name queue\n * @owner Scheduler\n */\nexports.queue = new QueueScheduler_1.QueueScheduler(QueueAction_1.QueueAction);\n//# sourceMappingURL=queue.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/scheduler/queue.js\n// module id = 91\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n/**\n * An error thrown when an Observable or a sequence was queried but has no\n * elements.\n *\n * @see {@link first}\n * @see {@link last}\n * @see {@link single}\n *\n * @class EmptyError\n */\nvar EmptyError = (function (_super) {\n    __extends(EmptyError, _super);\n    function EmptyError() {\n        var err = _super.call(this, 'no elements in sequence');\n        this.name = err.name = 'EmptyError';\n        this.stack = err.stack;\n        this.message = err.message;\n    }\n    return EmptyError;\n}(Error));\nexports.EmptyError = EmptyError;\n//# sourceMappingURL=EmptyError.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/EmptyError.js\n// module id = 92\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n/**\n * An error thrown when one or more errors have occurred during the\n * `unsubscribe` of a {@link Subscription}.\n */\nvar UnsubscriptionError = (function (_super) {\n    __extends(UnsubscriptionError, _super);\n    function UnsubscriptionError(errors) {\n        _super.call(this);\n        this.errors = errors;\n        var err = Error.call(this, errors ?\n            errors.length + \" errors occurred during unsubscription:\\n  \" + errors.map(function (err, i) { return ((i + 1) + \") \" + err.toString()); }).join('\\n  ') : '');\n        this.name = err.name = 'UnsubscriptionError';\n        this.stack = err.stack;\n        this.message = err.message;\n    }\n    return UnsubscriptionError;\n}(Error));\nexports.UnsubscriptionError = UnsubscriptionError;\n//# sourceMappingURL=UnsubscriptionError.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/UnsubscriptionError.js\n// module id = 93\n// module chunks = 0","\"use strict\";\nfunction identity(x) {\n    return x;\n}\nexports.identity = identity;\n//# sourceMappingURL=identity.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/identity.js\n// module id = 94\n// module chunks = 0","\"use strict\";\n/* tslint:disable:no-empty */\nfunction noop() { }\nexports.noop = noop;\n//# sourceMappingURL=noop.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/noop.js\n// module id = 95\n// module chunks = 0","\"use strict\";\nvar noop_1 = require('./noop');\n/* tslint:enable:max-line-length */\nfunction pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i - 0] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexports.pipe = pipe;\n/* @internal */\nfunction pipeFromArray(fns) {\n    if (!fns) {\n        return noop_1.noop;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\nexports.pipeFromArray = pipeFromArray;\n//# sourceMappingURL=pipe.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/pipe.js\n// module id = 96\n// module chunks = 0","\"use strict\";\nvar root_1 = require('./root');\nvar isArrayLike_1 = require('./isArrayLike');\nvar isPromise_1 = require('./isPromise');\nvar isObject_1 = require('./isObject');\nvar Observable_1 = require('../Observable');\nvar iterator_1 = require('../symbol/iterator');\nvar InnerSubscriber_1 = require('../InnerSubscriber');\nvar observable_1 = require('../symbol/observable');\nfunction subscribeToResult(outerSubscriber, result, outerValue, outerIndex) {\n    var destination = new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex);\n    if (destination.closed) {\n        return null;\n    }\n    if (result instanceof Observable_1.Observable) {\n        if (result._isScalar) {\n            destination.next(result.value);\n            destination.complete();\n            return null;\n        }\n        else {\n            destination.syncErrorThrowable = true;\n            return result.subscribe(destination);\n        }\n    }\n    else if (isArrayLike_1.isArrayLike(result)) {\n        for (var i = 0, len = result.length; i < len && !destination.closed; i++) {\n            destination.next(result[i]);\n        }\n        if (!destination.closed) {\n            destination.complete();\n        }\n    }\n    else if (isPromise_1.isPromise(result)) {\n        result.then(function (value) {\n            if (!destination.closed) {\n                destination.next(value);\n                destination.complete();\n            }\n        }, function (err) { return destination.error(err); })\n            .then(null, function (err) {\n            // Escaping the Promise trap: globally throw unhandled errors\n            root_1.root.setTimeout(function () { throw err; });\n        });\n        return destination;\n    }\n    else if (result && typeof result[iterator_1.iterator] === 'function') {\n        var iterator = result[iterator_1.iterator]();\n        do {\n            var item = iterator.next();\n            if (item.done) {\n                destination.complete();\n                break;\n            }\n            destination.next(item.value);\n            if (destination.closed) {\n                break;\n            }\n        } while (true);\n    }\n    else if (result && typeof result[observable_1.observable] === 'function') {\n        var obs = result[observable_1.observable]();\n        if (typeof obs.subscribe !== 'function') {\n            destination.error(new TypeError('Provided object does not correctly implement Symbol.observable'));\n        }\n        else {\n            return obs.subscribe(new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex));\n        }\n    }\n    else {\n        var value = isObject_1.isObject(result) ? 'an invalid object' : \"'\" + result + \"'\";\n        var msg = (\"You provided \" + value + \" where a stream was expected.\")\n            + ' You can provide an Observable, Promise, Array, or Iterable.';\n        destination.error(new TypeError(msg));\n    }\n    return null;\n}\nexports.subscribeToResult = subscribeToResult;\n//# sourceMappingURL=subscribeToResult.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/subscribeToResult.js\n// module id = 97\n// module chunks = 0","\"use strict\";\nvar Subscriber_1 = require('../Subscriber');\nvar rxSubscriber_1 = require('../symbol/rxSubscriber');\nvar Observer_1 = require('../Observer');\nfunction toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n        if (nextOrObserver instanceof Subscriber_1.Subscriber) {\n            return nextOrObserver;\n        }\n        if (nextOrObserver[rxSubscriber_1.rxSubscriber]) {\n            return nextOrObserver[rxSubscriber_1.rxSubscriber]();\n        }\n    }\n    if (!nextOrObserver && !error && !complete) {\n        return new Subscriber_1.Subscriber(Observer_1.empty);\n    }\n    return new Subscriber_1.Subscriber(nextOrObserver, error, complete);\n}\nexports.toSubscriber = toSubscriber;\n//# sourceMappingURL=toSubscriber.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/toSubscriber.js\n// module id = 98\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 99\n// module chunks = 0","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 100\n// module chunks = 0"],"sourceRoot":""}